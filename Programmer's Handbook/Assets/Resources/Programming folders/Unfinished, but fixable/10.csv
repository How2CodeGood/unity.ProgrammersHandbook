Larger Text,Smaller Text,Symbol
Code: The Hidden Language of Computer,NA,NA
Hardware and Software,NA,NA
Charles Petzold,NA,NA
Copyright © 2009,"Microsoft Press books are available through booksellers and distributors worldwide. For further information about 
 international editions, contact your local Microsoft Corporation office or contact Microsoft Press International directly at fax 
 (425) 936-7329. Visit our Web site at 
 mspress.microsoft.com
 . Send comments to 
 mspinput@microsoft.com
 .
  
 Macintosh is a registered trademark of Apple Computer, Inc. Microsoft, MS-DOS, and Windows are either registered 
 trademarks or trademarks of Microsoft Corporation in the United States and/or other countries. Other product and 
 company names mentioned herein may be the trademarks of their respective owners.
  
 Images of Charles Babbage, George Boole, Louis Braille, Herman Hollerith, Samuel Morse, and John von Neumann appear 
 courtesy of Corbis Images and were modified for this book by Joel Panchot. The January 1975 cover of 
 Popular Electronics
  is 
 reprinted by permission of Ziff-Davis and the Ziff family. All other illustrations in the book were produced by Joel Panchot.
  
 Unless otherwise noted, the example companies, organizations, products, people, and events depicted herein are fictitious. No 
 association with any real company, organization, product, person, or event is intended or should be inferred.",NA
SPECIAL OFFER: Upgrade this ebook with O’Reilly ,NA,NA
Click here,NA,NA
 for more information on this offer!,Please note that upgrade offers are not available from sample content.,NA
Preface to the Paperback Edition,NA,NA
Code,NA,NA
 rattled around in my head for about a decade before I started writing it. As I was ,NA,NA
contemplating ,NA,NA
Code,NA,NA
" and then writing it, and even after the book was published, people would ",NA,NA
"ask me, ""What's the book about?""",NA,NA
"I was always reluctant to answer this question. I'd mumble something about ""a unique ",NA,NA
"journey through the evolution of the digital technologies that define the modern age"" and ",NA,NA
hope that would be sufficient.,NA,NA
"But finally I had to admit it: """,NA,NA
Code,NA,NA
" is a book about how computers work.""",NA,NA
"As I feared, the reactions weren't favorable. ""Oh, I have a book like that,"" some people would ",NA,NA
"say, to which my immediate response was, ""No, no, no, you don't have a book like this one."" I ",NA,NA
still think that's true. ,NA,NA
Code,NA,NA
 is not like other how-computers-work books. It doesn't have big ,NA,NA
color illustrations of disk drives with arrows showing how the data sweeps into the computer. ,NA,NA
Code,NA,NA
 has no drawings of trains carrying a cargo of zeros and ones. Metaphors and similes are ,NA,NA
wonderful literary devices but they do nothing but obscure the beauty of technology.,NA,NA
"The other comment I heard was, ""People don't want to know how computers work."" And this ",NA,NA
I'm sure is true. I personally happen to enjoy learning how things work. But I also like to ,NA,NA
choose which things I learn about and which I do not. I'd be hard pressed to explain how my ,NA,NA
"refrigerator works, for example.",NA,NA
Yet I often hear people ask questions that reveal a need to know something about the inner ,NA,NA
"workings of personal computers. One such common question is, ""What's the difference ",NA,NA
"between storage and memory?""",NA,NA
That's certainly a critical question. The marketing of personal computers is based on such ,NA,NA
concepts. Even novice users are expected to know how many ,NA,NA
megas,NA,NA
 of the one thing and ,NA,NA
gigas,NA,NA
 ,NA,NA
of the other thing will be necessary for their particular applications. Novice users are also ,NA,NA
"expected to master the concept of the computer ""file"" and to visualize how files are loaded ",NA,NA
from storage into memory and saved from memory back to storage.,NA,NA
"The storage-and-memory question is usually answered with an analogy: ""Memory is like the ",NA,NA
"surface of your desk and storage is like the filing cabinet."" That's not a bad answer as far as it ",NA,NA
goes. But I find it quite unsatisfactory. It makes it sound as if computer architecture were ,NA,NA
patterned after an office.,NA,NA
The truth is that the distinction between memory and storage is an artificial one and exists ,NA,NA
solely because we don't have a single storage medium that is both fast and vast as well as ,NA,NA
"nonvolatile. What we know today as ""von Neumann architecture""—the dominant computer ",NA,NA
architecture for over 50 years—is a direct result of this technical deficiency.,NA,NA
"Here's another question that someone once asked me: ""Why can't you run Macintosh ",NA,NA
"programs under Windows?"" My mouth opened to begin an answer when I realized that it ",NA,NA
involved many more technical issues than I'm sure my questioner was prepared to deal ,NA,NA
with in one sitting.,NA,NA
I want ,NA,NA
Code,NA,NA
" to be a book that makes you understand these things, not in some abstract way, ",NA,NA
but with a depth that just might even rival that of electrical engineers and programmers. I also ,NA,NA
hope that you might recognize the computer to be one of the crowning achievements of ,NA,NA
twentieth century technology and appreciate it as a beautiful thing in itself without metaphors ,NA,NA
and similes getting in the way.,NA,NA
"Computers are constructed in a hierarchy, from transistors down at the bottom to the ",NA,NA
information displayed on our computer screens at the top. Moving up each level in the ,NA,NA
hierarchy—which is how,NA,NA
Code,NA,NA
 is structured—is probably not as hard as most people might think. There is certainly a ,NA,NA
"lot going on inside the modern computer, but it is a lot of very common and simple ",NA,NA
operations.,NA,NA
"Although computers today are more complex than the computers of 25 years or 50 years ago, ",NA,NA
they are still fundamentally the same. That's what's so great about studying the history of ,NA,NA
"technology: The further back in time you go, the simpler the technologies become. Thus it's ",NA,NA
possible to reach a point where it all makes relatively easy sense.,NA,NA
In ,NA,NA
Code,NA,NA
", I went as far back as I could go. Astonishingly, I found that I could go back into the ",NA,NA
nineteenth century and use early telegraph equipment to show how computers are built. In ,NA,NA
"theory at least, everything in the first 17 chapters of ",NA,NA
Code,NA,NA
 can be built entirely using simple ,NA,NA
electrical devices that have been around for over a century.,NA,NA
This use of antique technology gives ,NA,NA
Code,NA,NA
" a fairly nostalgic feel, I think. ",NA,NA
Code,NA,NA
 is a book that ,NA,NA
could never be titled ,NA,NA
The Faster New Faster Thing,NA,NA
 or ,NA,NA
Business @ the Speed of a Digital Nervous ,NA,NA
System,NA,NA
.,NA,NA
"The ""bit"" isn't defined until page 68; ""byte"" isn't defined until page 180. I don't mention ",NA,NA
"transistors until page 142, and that's only in passing.",NA,NA
"So, while ",NA,NA
Code,NA,NA
 goes fairly deep into the workings of the computer (few other books show how ,NA,NA
"computer processors actually work, for example), the pace is fairly relaxed. Despite the depth, ",NA,NA
I tried to make the trip as comfortable as possible.,NA,NA
But without little drawings of trains carrying a cargo of zeros and ones.,NA,NA
Charles Petzold,NA,NA
"August 16, 2000",NA,NA
Chapter 1. Best Friends,"code
  (kōd) …
  
 3.a. A system of signals used to represent letters or numbers in transmitting messages.
  
 b. A system of symbols, letters, or words given certain arbitrary meanings, used for transmitting messages requiring 
 secrecy or brevity.
  
 4. A system of symbols and rules used to represent instructions to a computer…
  
 —
 The American Heritage Dictionary of the English Language",NA
"You're 10 years old. Your best friend lives across the street. In fact, the windows of your ",NA,NA
"bedrooms face each other. Every night, after your parents have declared bedtime at the ",NA,NA
"usual indecently early hour, you still need to exchange thoughts, observations, secrets, ",NA,NA
"gossip, jokes, and dreams. No one can blame you. After all, the impulse to communicate is ",NA,NA
one of the most human of traits.,NA,NA
"While the lights are still on in your bedrooms, you and your best friend can wave to each ",NA,NA
"other from the windows and, using broad gestures and rudimentary body language, convey a ",NA,NA
thought or two. But sophisticated transactions seem difficult. And once the parents have ,NA,NA
"decreed ""Lights out!"" the situation seems hopeless.",NA,NA
How to communicate? The telephone perhaps? Do you have a telephone in your room at the ,NA,NA
"age of 10? Even so, wherever the phone is you'll be overheard. If your family personal ",NA,NA
"computer is hooked into a phone line, it might offer soundless help, but again, it's not in your ",NA,NA
room.,NA,NA
What you and your best friend ,NA,NA
do,NA,NA
" own, however, are flashlights. Everyone knows that ",NA,NA
flashlights were invented to let kids read books under the bed covers; flashlights also seem ,NA,NA
"perfect for the job of communicating after dark. They're certainly quiet enough, and the light ",NA,NA
is highly directional and probably won't seep out under the bedroom door to alert your ,NA,NA
suspicious folks.,NA,NA
Can flashlights be made to speak? It's certainly worth a try. You learned how to write letters ,NA,NA
"and words on paper in first grade, so transferring that knowledge to the flashlight seems ",NA,NA
reasonable. All you have to do is stand at your window and draw the letters with light. For an ,NA,NA
"O, you turn on the flashlight, sweep a circle in the air, and turn off the switch. For an I, you ",NA,NA
"make a vertical stroke. But, as you discover quickly, this method simply doesn't work. As you ",NA,NA
"watch your friend's flashlight making swoops and lines in the air, you find that it's too hard to ",NA,NA
assemble the multiple strokes together in your head. These swirls and slashes of light are not ,NA,NA
precise,NA,NA
 enough.,NA,NA
You once saw a movie in which a couple of sailors signaled to each other across the sea with ,NA,NA
"blinking lights. In another movie, a spy wiggled a mirror to reflect the sunlight into a room ",NA,NA
where another spy lay captive. Maybe that's the solution. So you first devise a simple ,NA,NA
technique. Each letter of the alphabet corresponds to a series of flashlight blinks. An A is 1 ,NA,NA
"blink, a B is 2 blinks, a C is 3 blinks, and so on to 26 blinks for Z. The word BAD is 2 blinks, 1 ",NA,NA
"blink, and 4 blinks with little pauses between the letters so you won't mistake the 7 blinks ",NA,NA
for a G. You'll pause a bit longer between words.,NA,NA
This seems promising. The good news is that you no longer have to wave the flashlight in the ,NA,NA
air; all you have to do is point and click. The bad news is that one of the first messages you try ,NA,NA
"to send (""How are you?"") turns out to require a grand total of 131 blinks of light! Moreover, ",NA,NA
"you forgot about punctuation, so you don't know how many blinks correspond to a question ",NA,NA
mark.,NA,NA
"But you're close. Surely, you think, somebody must have faced this problem before, and you're",NA,NA
"absolutely right. With daylight and a trip to the library for research, you discover a marvelous ",NA,NA
invention known as Morse code. It's ,NA,NA
exactly,NA,NA
" what you've been looking for, even though you ",NA,NA
"must now relearn how to ""write"" all the letters of the alphabet.",NA,NA
"Here's the difference: In the system you invented, every letter of the alphabet is a certain ",NA,NA
"number of blinks, from 1 blink for A to 26 blinks for Z. In Morse code, you have two kinds of ",NA,NA
"blinks—short blinks and long blinks. This makes Morse code more complicated, of course, but ",NA,NA
"in actual use it turns out to be much more efficient. The sentence ""How are you?"" now ",NA,NA
"requires only 32 blinks (some short, some long) rather than 131, and that's ",NA,NA
including,NA,NA
 a code ,NA,NA
for the question mark.,NA,NA
"When discussing how Morse code works, people don't talk about ""short blinks"" and ""long ",NA,NA
"blinks."" Instead, they refer to ""dots"" and ""dashes"" because that's a convenient way of showing ",NA,NA
"the codes on the printed page. In Morse code, every letter of the alphabet corresponds to a ",NA,NA
"short series of dots and dashes, as you can see in the following table.",NA,NA
"Although Morse code has absolutely nothing to do with computers, becoming familiar with ",NA,NA
the nature of codes is an essential preliminary to achieving a deep understanding of the ,NA,NA
hidden languages and inner structures of computer hardware and software.,NA,NA
"In this book, the word ",NA,NA
code,NA,NA
 usually means a system for transferring information among ,NA,NA
"people and machines. In other words, a code lets you communicate. Sometimes we think of ",NA,NA
"codes as secret. But most codes are not. Indeed, most codes must be well understood ",NA,NA
because they're the basis of human communication.,NA,NA
In the beginning of ,NA,NA
One Hundred Years of Solitude,NA,NA
", Gabriel Garcia Marquez recalls a time when ",NA,NA
"""the world was so recent that many things lacked names, and in order to indicate them it was ",NA,NA
"necessary to point."" The names that we assign to things usually seem arbitrary. There seems ",NA,NA
"to be no reason why cats aren't called ""dogs"" and dogs aren't called ""cats."" You could say ",NA,NA
English vocabulary is a type of code.,NA,NA
The sounds we make with our mouths to form words are a code intelligible to anyone who ,NA,NA
"can hear our voices and understands the language that we speak. We call this code ""the ",NA,NA
"spoken word,"" or ""speech."" We have other code for words on paper (or on stone, on wood, ",NA,NA
"or in the air, say, via skywriting). This code appears as handwritten characters or printed in ",NA,NA
"newspapers, magazines, and books. We call it ""the written word,"" or ""text."" In many ",NA,NA
"languages, a strong correspondence exists between speech and text. In English, for example, ",NA,NA
letters and groups of letters correspond (more or,NA,NA
less) to spoken sounds.,NA,NA
"For people who can't hear or speak, another code has been devised to help in face-to-face ",NA,NA
"communication. This is sign language, in which the hands and arms form movements and ",NA,NA
gestures that convey individual letters of words or whole words and concepts. For those who ,NA,NA
"can't see, the written word can be replaced with Braille, which uses a system of raised dots ",NA,NA
"that correspond to letters, groups of letters, and whole words. When spoken words must be ",NA,NA
"transcribed into text very quickly, stenography or shorthand is useful.",NA,NA
We use a variety of different codes for communicating among ourselves because some codes ,NA,NA
"are more convenient than others. For example, the code of the spoken word can't be stored ",NA,NA
"on paper, so the code of the written word is used instead. Silently exchanging information ",NA,NA
"across a distance in the dark isn't possible with speech or paper. Hence, Morse code is a ",NA,NA
convenient alternative. A code is useful if it serves a purpose that no other code can.,NA,NA
"As we shall see, various types of codes are also used in computers to store and communicate ",NA,NA
"numbers, sounds, music, pictures, and movies. Computers can't deal with human codes ",NA,NA
"directly because computers can't duplicate the ways in which human beings use their eyes, ",NA,NA
"ears, mouths, and fingers. Yet one of the recent trends in computer technology has been to ",NA,NA
"enable our desktop personal computers to capture, store, manipulate, and render all types of ",NA,NA
"information used in human communication, be it visual (text and pictures), aural (spoken ",NA,NA
"words, sounds, and music), or a combination of both (animations and movies). All of these ",NA,NA
"types of information require their own codes, just as speech requires one set of human ",NA,NA
organs (mouths and ears) while writing and reading require others (hands and eyes).,NA,NA
Even the table of Morse code shown on page 4 is itself a code of sorts. The table shows that ,NA,NA
each letter is represented by a series of dots and dashes. Yet we can't actually send dots ,NA,NA
"and dashes. Instead, the dots and dashes correspond to blinks.",NA,NA
"When sending Morse code with a flashlight, you turn the flashlight switch on and off very ",NA,NA
quickly (a fast blink) for a dot. You leave the flashlight turned on somewhat longer (a slower ,NA,NA
"on-off blink) for a dash. To send an A, for example, you turn the flashlight on and off very ",NA,NA
quickly and then on and off at a lesser speed. You pause before sending the next character. By ,NA,NA
"convention, the length of a dash should be about three times that of a dot. For example, if a ",NA,NA
"dot is one second long, a dash is three seconds long. (In reality, Morse code is transmitted ",NA,NA
much faster than that.) The receiver sees the short blink and the long blink and knows it's an ,NA,NA
A.,NA,NA
"Pauses between the dots and dashes of Morse code are crucial. When you send an A, for ",NA,NA
"example, the flashlight should be off between the dot and the dash for a period of time equal ",NA,NA
"to about one dot. (If the dot is one second long, the gap between dots and dashes is also a ",NA,NA
second.) Letters in the same word are separated by longer pauses equal to about the length of ,NA,NA
"one dash (or three seconds if that's the length of a dash). For example, here's the Morse code ",NA,NA
"for ""hello,"" illustrating the pauses between the letters:",NA,NA
Words are separated by an off period of about two dashes (six seconds if a dash is three ,NA,NA
"seconds long). Here's the code for ""hi there"":",NA,NA
The lengths of time that the flashlight remains on and off aren't fixed. They're all relative to ,NA,NA
the length,NA,NA
"of a dot, which depends on how fast the flashlight switch can be triggered and also how ",NA,NA
quickly a Morse code sender can remember the code for a particular letter. A fast sender's ,NA,NA
dash may be the same length as a slow sender's dot. This little problem could make ,NA,NA
"reading a Morse code message tough, but after a letter or two, the receiver can usually ",NA,NA
figure out what's a dot and what's a dash.,NA,NA
"At first, the definition of Morse code—and by ",NA,NA
definition,NA,NA
 I mean the correspondence of various ,NA,NA
sequences of dots and dashes to the letters of the alphabet—appears as random as the layout ,NA,NA
"of a typewriter. On closer inspection, however, this is not entirely so. The simpler and shorter ",NA,NA
"codes are assigned to the more frequently used letters of the alphabet, such as E and T. ",NA,NA
Scrabble players and ,NA,NA
Wheel of Fortune,NA,NA
 fans might notice this right away. The less common ,NA,NA
"letters, such as Q and Z (which get you 10 points in Scrabble), have longer codes.",NA,NA
"Almost everyone knows a little Morse code. Three dots, three dashes, and three dots ",NA,NA
"represent SOS, the international distress signal. SOS isn't an abbreviation for anything—it's ",NA,NA
"simply an easy-to-remember Morse code sequence. During the Second World War, the British ",NA,NA
Broadcasting ,NA,NA
Corporation prefaced some radio broadcasts with the beginning of Beethoven's Fifth ,NA,NA
"Symphony—BAH, BAH, BAH, BAHMMMMM—which Ludwig didn't know at the time he ",NA,NA
"composed the music is the Morse code V, for Victory.",NA,NA
One drawback of Morse code is that it makes no differentiation between uppercase and ,NA,NA
"lowercase letters. But in addition to representing letters, Morse code also includes codes for ",NA,NA
numbers by using a series of five dots and dashes:,NA,NA
"These codes, at least, are a little more orderly than the letter codes. Most punctuation marks ",NA,NA
"use five, six, or seven dots and dashes:",NA,NA
Additional codes are defined for accented letters of some European languages and as ,NA,NA
shorthand sequences for special purposes. The SOS code is one such shorthand sequence: ,NA,NA
It's supposed to be sent continuously with only a one-dot pause between the three letters.,NA,NA
You'll find that it's much easier for you and your friend to send Morse code if you have a ,NA,NA
"flashlight made specifically for this purpose. In addition to the normal on-off slider switch, ",NA,NA
these flashlights also include a pushbutton switch that you simply press and release to turn ,NA,NA
"the flashlight on and off. With some practice, you might be able to achieve a sending and ",NA,NA
receiving speed of 5 or 10 words per minute—still much slower than speech (which is ,NA,NA
"somewhere in the 100-words-per-minute range), but surely adequate.",NA,NA
When finally you and your best friend memorize Morse code (for that's the only way you can ,NA,NA
"become proficient at sending and receiving it), you can also use it vocally as a substitute for ",NA,NA
"normal speech. For maximum speed, you pronounce a dot as ",NA,NA
dih,NA,NA
 (or ,NA,NA
dit,NA,NA
 for the last dot of a ,NA,NA
letter) and a dash as ,NA,NA
dah,NA,NA
. In the same way that Morse code reduces written language to dots ,NA,NA
"and dashes, the spoken version of the code reduces speech to just two vowel sounds.",NA,NA
The key word here is ,NA,NA
two,NA,NA
". Two types of blinks, two vowel sounds, two different anything, ",NA,NA
"really, can with suitable combinations convey all types of information.",NA,NA
Chapter 2. Codes and Combinations,NA,NA
"Morse code was invented by Samuel Finley Breese Morse (1791–1872), whom we shall meet ",NA,NA
more properly later in this book. The invention of Morse code goes hand in hand with the ,NA,NA
"invention of the telegraph, which we'll also examine in more detail. Just as Morse code ",NA,NA
"provides a good introduction to the nature of codes, the telegraph provides a good ",NA,NA
introduction to the hardware of the computer.,NA,NA
Most people find Morse code easier to send than to receive. Even if you don't have ,NA,NA
"Morse code memorized, you can simply use this table, conveniently arranged in ",NA,NA
alphabetical order:,NA,NA
Receiving Morse code and translating it back into words is considerably harder and more ,NA,NA
time consuming than sending because you must work backward to figure out the letter that ,NA,NA
"corresponds to a particular coded sequence of dots and dashes. For example, if you receive a ",NA,NA
"dash-dot-dash-dash, you have to scan through the table letter by letter before you finally ",NA,NA
discover that the code is the letter Y.,NA,NA
The problem is that we have a table that provides this translation:,Alphabetical letter → Morse code dots and dashes,NA
But we ,NA,NA
don't,NA,NA
 have a table that lets us go backward:,Morse code dots and dashes → Alphabetical letter,NA
"In the early stages of learning Morse code, such a table would certainly be convenient. But ",NA,NA
it's not at all obvious how we could construct it. There's nothing in those dots and dashes ,NA,NA
that we can put into alphabetical order.,NA,NA
So let's forget about alphabetical order. Perhaps a better approach to organizing the codes ,NA,NA
"might be to group them depending on how many dots and dashes they have. For example, a ",NA,NA
"Morse code sequence that contains either one dot or one dash can represent only two letters, ",NA,NA
which are E and T:,NA,NA
"A combination of exactly two dots or dashes gives us four more letters—I, A, N, and M:",NA,NA
A pattern of three dots or dashes gives us eight more letters:,NA,NA
And finally (if we want to stop this exercise before dealing with numbers and punctuation ,NA,NA
"marks), sequences of four dots and dashes give us 16 more characters:",NA,NA
"Taken together, these four tables contain 2 plus 4 plus 8 plus 16 codes for a total of 30 letters, ",NA,NA
"4 more than are needed for the 26 letters of the Latin alphabet. For this reason, you'll notice ",NA,NA
that 4 of the codes in the last table are for accented letters.,NA,NA
These four tables might help you translate with greater ease when someone is sending you ,NA,NA
"Morse code. After you receive a code for a particular letter, you know how many dots and ",NA,NA
"dashes it has, and you can at least go to the right table to look it up. Each table is organized so ",NA,NA
that you find the all-dots code in the upper left and the all-dashes code in the lower right.,NA,NA
Can you see a pattern in the ,NA,NA
size,NA,NA
 of the four tables? Notice that each table has twice as many ,NA,NA
codes as the table before it. This makes sense: Each table has all the codes in the previous ,NA,NA
"table followed by a dot, and all the codes in the previous table followed by a dash.",NA,NA
We can summarize this interesting trend this way:,"Number of Dots and Dashes
  
  Number of Codes
  
 1
  
 2
  
 2
  
 4
  
 3
  
 8
  
 4
  
 16",NA
"Each of the four tables has twice as many codes as the table before it, so if the first table has 2 ",NA,NA
"codes, the second table has 2 x 2 codes, and the third table has 2 x 2 x 2 codes. Here's another ",NA,NA
way to show that:,"Number of Dots and Dashes
  
  Number of Codes
  
 1
  
 2
  
 2
  
 2 x 2
  
 3
  
 2 x 2 x 2
  
 4
  
 2 x 2 x 2 x 2",NA
"Of course, once we have a number multiplied by itself, we can start using exponents to show ",NA,NA
"powers. For example, 2 x 2 x 2 x 2 can be written as 2",4,NA
 (,NA,NA
2 to the 4th power,NA,NA
"). The numbers 2, 4, ",NA,NA
"8, and 16 are all powers of 2 because you can calculate them by multiplying 2 by itself. So our ",NA,NA
summary can also be shown like this:,"Number of Dots and Dashes
  
  Number of Codes
  
 1
  
 2
 1
  
 2
  
 2
 2
  
 3
  
 2
 3
  
 4
  
 2
 4",NA
This table has become very simple. The number of codes is simply 2 to the power of the ,NA,NA
number of dots and dashes. We might summarize the table data in this simple formula:,"number of codes = 2
 number of dots and dashes",NA
"Powers of 2 tend to show up a lot in codes, and we'll see another example in the next chapter.",NA,NA
"To make the process of decoding Morse code even easier, we might want to draw something ",NA,NA
like the big treelike table shown here.,NA,NA
This table shows the letters that result from each particular consecutive sequence of dots and ,NA,NA
"dashes. To decode a particular sequence, follow the arrows from left to right. For example, ",NA,NA
suppose you want to know which letter corresponds to the code dot-dash-dot. Begin at the left ,NA,NA
and choose the dot; then continue moving right along the arrows and choose the dash and ,NA,NA
"then another dot. The letter is R, shown next to the last dot.",NA,NA
"If you think about it, constructing such a table was probably necessary for defining Morse ",NA,NA
"code in the first place. First, it ensures that you don't make the dumb mistake of using the ",NA,NA
"same code for two different letters! Second, you're assured of using all the possible codes ",NA,NA
without making the sequences of dots and dashes unnecessarily long.,NA,NA
"At the risk of extending this table beyond the limits of the printed page, we could continue it ",NA,NA
for codes of five dots and dashes and more. A sequence of exactly five dots and dashes gives us ,NA,NA
32 ,NA,NA
"(2x2x2x2x2, or 2",5,NA
) additional codes. Normally that would be enough for the 10 numbers and ,NA,NA
"the 16 punctuation symbols defined in Morse code, and indeed the numbers are encoded with ",NA,NA
five dots and dashes. But many of the other codes that use a sequence of five dots and dashes ,NA,NA
represent accented letters rather than punctuation marks.,NA,NA
"To include all the punctuation marks, the system must be expanded to six dots and dashes, ",NA,NA
"which gives us 64 (2x2x2x2x2x2, or 2",6,NA
) additional codes for a grand total of ,NA,NA
"2+4+8+16+32+64, or 126, characters. That's overkill for Morse code, which leaves many of ",NA,NA
"these longer codes ""undefined."" The word ",NA,NA
undefined,NA,NA
 used in this context refers to a code that ,NA,NA
"doesn't stand for anything. If you were receiving Morse code and you got an undefined code, ",NA,NA
you could be pretty sure that somebody made a mistake.,NA,NA
"Because we were clever enough to develop this little formula,","number of codes = 2
 number of dots and dashes",NA
we could continue figuring out how many codes we get from using longer sequences of ,NA,NA
dots and dashes:,"Number of Dots and Dashes
  
  Number of Codes
  
 1
  
 2
 1
  = 2
  
 2
  
 2
 2
  = 4
  
 3
  
 2
 3
  = 8
  
 4
  
 2
 4
  = 16
  
 5
  
 2
 5
  = 32
  
 6
  
 2
 6
  = 64
  
 7
  
 2
 7
  = 128
  
 8
  
 2
 8
  = 256
  
 9
  
 2
 9
  = 512
  
 10
  
 2
 10
  = 1024",NA
"Fortunately, we don't have to actually write out all the possible codes to determine how ",NA,NA
many there would be. All we have to do is multiply 2 by itself over and over again.,NA,NA
Morse code is said to be a ,NA,NA
binary,NA,NA
 (literally meaning ,NA,NA
two by two,NA,NA
) code because the components ,NA,NA
"of the code consist of only two things—a dot and a dash. That's similar to a coin, which can ",NA,NA
land only on the head side or the tail side. Binary objects (such as coins) and binary codes ,NA,NA
(such as Morse code) are always described by powers of two.,NA,NA
What we're doing by analyzing binary codes is a simple exercise in the branch of mathematics ,NA,NA
known as ,NA,NA
combinatorics,NA,NA
 or ,NA,NA
combinatorial analysis,NA,NA
". Traditionally, combinatorial analysis is ",NA,NA
used most often in the fields of probability and statistics because it involves determining the ,NA,NA
"number of ways that things, like coins and dice, can be combined. But it also helps us ",NA,NA
understand how codes can be put together and taken apart.,NA,NA
Chapter 3. Braille and Binary Codes,NA,NA
Samuel Morse wasn't the first person to successfully translate the letters of written language ,NA,NA
to an interpretable code. Nor was he the first person to be remembered more as the name of ,NA,NA
his code than as himself. That honor must go to a blind French teenager born some 18 years ,NA,NA
after Samuel Morse but who made his mark much more precociously. Little is known of his ,NA,NA
"life, but what is known makes a compelling story.",NA,NA
"Louis Braille was born in 1809 in Coupvray, France, just 25 miles east of Paris. His father was ",NA,NA
a harness maker. At the age of three—an age when young boys shouldn't be playing in their ,NA,NA
fathers' workshops—he accidentally stuck a pointed tool in his eye. The wound became ,NA,NA
"infected, and the infection spread to his other eye, leaving him totally blind. Normally he ",NA,NA
would have been doomed to a life of ignorance and poverty (as most blind people were in ,NA,NA
"those days), but young Louis's intelligence and desire to learn were soon recognized. Through ",NA,NA
"the intervention of the village priest and a schoolteacher, he first attended school in the ",NA,NA
village with the other children and at the age of 10 was sent to the Royal Institution for Blind ,NA,NA
Youth in Paris.,NA,NA
"One major obstacle in the education of the blind is, of course, their inability to read printed ",NA,NA
"books. Valentin Haüy (1745–1822), the founder of the Paris school, had invented a system of ",NA,NA
"raised letters on paper that could be read by touch. But this system was very difficult to use, ",NA,NA
and only a few books had been produced using this method.,NA,NA
"The sighted Haüy was stuck in a paradigm. To him, an A was an A was an A, and the letter A ",NA,NA
"must look (or feel) like an A. (If given a flashlight to communicate, he might have tried ",NA,NA
drawing letters in the air as we did before we discovered it didn't work very well.) Haüy ,NA,NA
probably didn't realize that a type of code quite different from the printed alphabet might be ,NA,NA
more appropriate for sightless people.,NA,NA
"The origins of an alternative type of code came from an unexpected source. Charles Barbier, a ",NA,NA
"captain of the French army, had by 1819 devised a system of writing he called ",NA,NA
écriture ,NA,NA
nocturne,NA,NA
", or ""night writing."" This system used a pattern of raised dots and dashes on heavy ",NA,NA
paper and was intended for use by soldiers in passing notes to each other in the dark when ,NA,NA
quiet was necessary. The soldiers were able to poke these dots and dashes into the back of ,NA,NA
the paper using an awl-like stylus. The raised dots could then be read with the fingers.,NA,NA
The problem with Barbier's system is that it was quite complex. Rather than using patterns of ,NA,NA
"dots and dashes that corresponded to letters of the alphabet, Barbier devised patterns that ",NA,NA
"corresponded to sounds, often requiring many codes for a single word. The system worked ",NA,NA
"fine for short messages in the field but was distinctly inadequate for longer texts, let alone ",NA,NA
entire books.,NA,NA
Louis Braille became familiar with Barbier's system at the age of 12. He liked the use of raised ,NA,NA
"dots, not only because it proved easy to read with the fingers but also because it was easy to ",NA,NA
write,NA,NA
. A student in the classroom equipped with paper and a stylus could actually take notes ,NA,NA
and read them back. Louis Braille diligently tried to improve the system and within three ,NA,NA
"years (at the age of 15) had come up with his own, the basics of which are still used today. For ",NA,NA
"many years, the system was known only within the school, but it gradually made its way to ",NA,NA
"the rest of the world. In 1835, Louis Braille contracted tuberculosis, which would eventually ",NA,NA
kill him shortly after his 43rd birthday in 1852.,NA,NA
"Today, enhanced versions of the Braille system compete with tape-recorded books for ",NA,NA
"providing the blind with access to the written word, but Braille still remains an invaluable ",NA,NA
"system and the only way to read for people who are both blind and deaf. In recent years, ",NA,NA
Braille has become more familiar in the public arena as elevators and automatic teller ,NA,NA
machines are made more accessible to the blind.,NA,NA
What we're going to do in this chapter is dissect Braille code and see how it works. We don't ,NA,NA
have to actually ,NA,NA
learn,NA,NA
 Braille or memorize anything. We just want some insight into the nature ,NA,NA
of codes.,NA,NA
"In Braille, every symbol used in normal written language—specifically, letters, numbers, and ",NA,NA
punctuation marks—is encoded as one or more raised dots within a two-by-three cell. The ,NA,NA
dots of the cell are commonly numbered 1 through 6:,NA,NA
"In modern-day use, special typewriters or embossers punch the Braille dots into the paper.",NA,NA
Because embossing just a couple pages of this book in Braille would be prohibitively ,NA,NA
"expensive, I've used a notation common for showing Braille on the printed page. In this ",NA,NA
"notation, all six dots in the cell are shown. Large dots indicate the parts of the cell where the ",NA,NA
"paper is raised. Small dots indicate the parts of the cell that are flat. For example, in the Braille ",NA,NA
"character dots 1, 3, and 5 are raised and dots 2, 4, and 6 are not.",NA,NA
What should be interesting to us at this point is that the dots are ,NA,NA
binary,NA,NA
. A particular dot is ,NA,NA
either flat or raised. That means we can apply what we've learned about Morse code and ,NA,NA
combinatorial analysis to Braille. We know that there are 6 dots and that each dot can be ,NA,NA
"either flat or raised, so the total number of combinations of 6 flat and raised dots is 2 x 2 x 2 x ",NA,NA
"2 x 2 x 2, or 2",6,NA
", or 64.",NA,NA
"Thus, the system of Braille is capable of representing 64 unique codes. Here they ",NA,NA
are—all 64 possible Braille codes:,NA,NA
"If we find fewer than 64 codes used in Braille, we should question why some of the 64 ",NA,NA
possible codes aren't being used. If we find ,NA,NA
more,NA,NA
" than 64 codes used in Braille, we should ",NA,NA
"question either our sanity or fundamental truths of mathematics, such as 2 plus 2 equaling 4.",NA,NA
"To begin dissecting the code of Braille, let's look at the basic lowercase alphabet:",NA,NA
"For example, the phrase ""you and me"" in Braille looks like this:",NA,NA
Notice that the cells for each letter within a word are separated by a little bit of space; a ,NA,NA
larger space (essentially a cell with no raised dots) is used between words.,NA,NA
"This is the basis of Braille as Louis Braille devised it, or at least as it applies to the letters of ",NA,NA
"the Latin alphabet. Louis Braille also devised codes for letters with accent marks, common in ",NA,NA
French. Notice that there's no code for ,NA,NA
w,NA,NA
", which isn't used in classical French. (Don't worry. ",NA,NA
"The letter will show up eventually.) At this point, only 25 of the 64 possible codes have been ",NA,NA
accounted for.,NA,NA
"Upon close examination, you'll discover that the three rows of Braille illustrated above show ",NA,NA
a pattern. The first row (letters ,NA,NA
a,NA,NA
 through ,NA,NA
j,NA,NA
") uses only the top four spots in the cell—dots 1, 2, ",NA,NA
"4, and 5.",NA,NA
The second row duplicates the first row except that dot 3 is also raised. The third row is the ,NA,NA
same,NA,NA
except that dots 3 and 6 are raised.,NA,NA
"Since the days of Louis Braille, the Braille code has been expanded in various ways. ",NA,NA
Currently the system used most often in published material in English is called Grade 2 ,NA,NA
Braille. Grade 2 Braille uses many contractions in order to save trees and to speed reading. ,NA,NA
"For example, if letter codes appear by themselves, they stand for common words. The ",NA,NA
"following three rows (including a ""completed"" third row) show these word codes:",NA,NA
"Thus, the phrase ""you and me"" can be written in Grade 2 Braille as this:",NA,NA
"So far, I've described 31 codes—the no-raised-dots space between words and the 3 rows of 10 ",NA,NA
codes for letters and words. We're still not close to the 64 codes that are theoretically ,NA,NA
"available. In Grade 2 Braille, as we shall see, nothing is wasted.",NA,NA
"First, we can use the codes for letters ",NA,NA
a,NA,NA
 through ,NA,NA
j,NA,NA
 combined with a raised dot 6. These are ,NA,NA
used mostly for contractions of letters within words and also include ,NA,NA
w,NA,NA
 and another word ,NA,NA
abbreviation:,NA,NA
"For example, the word ""about"" can be written in Grade 2 Braille this way:",NA,NA
"Second, we can take the codes for letters ",NA,NA
a,NA,NA
 through ,NA,NA
j,NA,NA
" and ""lower"" them to use only dots 2, 3, 5, ",NA,NA
"and 6. These codes are used for some punctuation marks and contractions, depending on ",NA,NA
context:,NA,NA
"The first four of these codes are the comma, semicolon, colon, and period. Notice that the ",NA,NA
same code is used for both left and right parentheses but that two different codes are used ,NA,NA
for open and closed quotation marks.,NA,NA
"We're up to 51 codes so far. The following 6 codes use various unused combinations of dots 3, ",NA,NA
"4, 5,",NA,NA
and 6 to represent contractions and some additional punctuation:,NA,NA
"The code for ""ble"" is very important because when it's not part of a word, it means that the ",NA,NA
codes that follow should be interpreted as numbers. These number codes are the same as ,NA,NA
those for letters ,NA,NA
a ,NA,NA
through ,NA,NA
j,NA,NA
:,NA,NA
"Thus, this sequence of codes means the number 256.",NA,NA
"If you've been keeping track, we need 7 more codes to reach the maximum of 64. Here they ",NA,NA
are:,NA,NA
The first (a raised dot 4) is used as an accent indicator. The others are used as prefixes for ,NA,NA
some contractions and also for some other purposes: When dots 4 and 6 are raised (the fifth ,NA,NA
"code in this row), the code is a decimal point in numbers or an emphasis indicator, ",NA,NA
"depending on context. When dots 5 and 6 are raised, the code is a letter indicator that ",NA,NA
counterbalances a number indicator.,NA,NA
And finally (if you've been wondering how Braille encodes capital letters) we have dot 6—the ,NA,NA
"capital indicator. This signals that the letter that follows is uppercase. For example, we can ",NA,NA
write the name of the original creator of this system as,NA,NA
"This is a capital indicator, the letter l, the contraction ou, the letters i and s, a space, another ",NA,NA
"capital indicator, and the letters b, r, a, i, l, l, and e. (In actual use, the name might be ",NA,NA
"abbreviated even more by eliminating the last two letters, which aren't pronounced.)",NA,NA
"In summary, we've seen how six binary elements (the dots) yield 64 possible codes and no ",NA,NA
more. It just so happens that many of these 64 codes perform double duty depending on ,NA,NA
their context. Of particular interest is the number indicator and the letter indicator that ,NA,NA
undoes the number indicator.,NA,NA
These codes alter the meaning of the codes that follow them—from letters to numbers and ,NA,NA
from numbers back to letters. Codes such as these are often called ,NA,NA
precedence,NA,NA
", or ",NA,NA
shift,NA,NA
", ",NA,NA
codes. They alter the meaning of all subsequent codes until the shift is undone.,NA,NA
The capital indicator means that the following letter (and only the following letter) should be ,NA,NA
uppercase rather than lowercase. A code such as this is known as an ,NA,NA
escape,NA,NA
 code. Escape ,NA,NA
"codes let you ""escape"" from the humdrum, routine interpretation of a sequence of codes and ",NA,NA
"move to a new interpretation. As we'll see in later chapters, shift codes and escape codes are ",NA,NA
common when written languages are represented by binary codes.,NA,NA
Chapter 4. Anatomy of a Flashlight,NA,NA
"Flashlights are useful for numerous tasks, of which reading under the covers and sending ",NA,NA
coded messages are only the two most obvious. The common household flashlight can also ,NA,NA
take center stage in an educational show-and-tell of the magical stuff known as electricity.,NA,NA
"Electricity is an amazing phenomenon, managing to be pervasively useful while remaining ",NA,NA
"largely mysterious, even to people who pretend to know how it works. But I'm afraid we must ",NA,NA
"wrestle with electricity anyway. Fortunately, we need to understand only a few basic concepts ",NA,NA
to comprehend how it's used inside computers.,NA,NA
The flashlight is certainly one of the simpler electrical appliances found in most homes. ,NA,NA
"Disassemble a typical flashlight, and you'll find it consists of a couple of batteries, a bulb, a ",NA,NA
"switch, some metal pieces, and a plastic case to hold everything together.",NA,NA
You can make your own no-frills flashlight by disposing of everything except the batteries ,NA,NA
and the lightbulb. You'll also need some short pieces of insulated wire (with the insulation ,NA,NA
stripped from the ends) and enough hands to hold everything together.,NA,NA
Notice the two loose ends of the wires at the right of the diagram. That's our switch. Assuming ,NA,NA
"that the batteries are good and the bulb isn't burned out, touching these loose ends together ",NA,NA
will turn on the light.,NA,NA
"What we've constructed here is a simple electrical circuit, and the first thing to notice is that a ",NA,NA
circuit ,NA,NA
is a ,NA,NA
circle,NA,NA
. The lightbulb will be lit only if the path from the batteries to the wire to the ,NA,NA
bulb to the switch and back to the batteries is continuous. Any break in this circuit will cause ,NA,NA
the bulb to go out. The purpose of the switch is to control this process.,NA,NA
The circular nature of the electrical circuit suggests that something is moving around the ,NA,NA
"circuit, perhaps like water flowing through pipes. The ""water and pipes"" analogy is quite ",NA,NA
"common in explanations of how electricity works, but eventually it breaks down, as all ",NA,NA
analogies must.,NA,NA
"Electricity is like nothing else in this universe, and we must confront it on its own terms.",NA,NA
The prevailing scientific wisdom regarding the workings of electricity is called the ,NA,NA
electron ,NA,NA
theory,NA,NA
", which says that electricity derives from the movement of electrons.",NA,NA
"As we know, all matter—the stuff that we can see and feel (usually)—is made up of extremely ",NA,NA
small things called atoms. Every atom is composed of three types of particles; these are called ,NA,NA
"neutrons, protons, and electrons. You can picture an atom as a little solar system, with the ",NA,NA
neutrons and protons bound into a nucleus and the electrons spinning around the nucleus ,NA,NA
like planets around a sun:,NA,NA
I should mention that this isn't exactly what you'd see if you were able to get a microscope ,NA,NA
"powerful enough to see actual atoms, but it works as a convenient model.",NA,NA
"The atom shown on the preceding page has 3 electrons, 3 protons, and 4 neutrons, which ",NA,NA
means that it's an atom of lithium. Lithium is one of 112 known ,NA,NA
elements,NA,NA
", each of which has a ",NA,NA
particular ,NA,NA
atomic number,NA,NA
 ranging from 1 to 112. The atomic number of an element indicates ,NA,NA
the number of protons in the nucleus of each of the element's atoms and also (usually) the ,NA,NA
number of electrons in each atom. The atomic number of lithium is 3.,NA,NA
Atoms can chemically combine with other atoms to form ,NA,NA
molecules,NA,NA
. Molecules usually have ,NA,NA
"very different properties from the atoms they comprise. For example, water is composed of ",NA,NA
"molecules that consist of two atoms of hydrogen and one atom of oxygen (hence, H",2,NA
O). ,NA,NA
"Obviously water is appreciably different from either hydrogen or oxygen. Likewise, the ",NA,NA
"molecules of table salt consist of an atom of sodium and an atom of chlorine, neither of which ",NA,NA
would be particularly appetizing on French fries.,NA,NA
"Hydrogen, oxygen, sodium, and chlorine are all elements. Water and salt are called ",NA,NA
compounds,NA,NA
". Salt water, however, is a ",NA,NA
mixture,NA,NA
 rather than a compound because the water and ,NA,NA
the salt maintain their own properties.,NA,NA
The number of electrons in an atom is usually the same as the number of protons. But in ,NA,NA
"certain circumstances, electrons can be dislodged from atoms. That's how electricity ",NA,NA
happens.,NA,NA
The words ,NA,NA
electron,NA,NA
 and ,NA,NA
electricity,NA,NA
 both derive from the ancient Greek word ηλεκτρον ,NA,NA
(,NA,NA
elektron,NA,NA
"), which you might expect means something like ""little tiny invisible thing."" But no—",NA,NA
"ηλεκτρον is actually the Greek word for ""amber,"" which is the glasslike hardened sap of trees. ",NA,NA
The reason for this unlikely derivation is that the ancient Greeks experimented with rubbing ,NA,NA
"amber with wool, which produces something we now call static electricity. Rubbing wool on ",NA,NA
amber causes the wool to pick up electrons from the amber. The wool winds up with more ,NA,NA
"electrons than protons, and the amber ends up with fewer electrons than protons. In more ",NA,NA
"modern experiments, carpeting picks up electrons from the soles of our shoes.",NA,NA
Protons and electrons have a characteristic called ,NA,NA
charge,NA,NA
. Protons are said to have a positive ,NA,NA
(+) charge and electrons are said to have a negative (–) charge. Neutrons are neutral and have ,NA,NA
"no charge. But even though we use plus and minus signs to denote protons and electrons, the ",NA,NA
symbols don't really,NA,NA
mean plus and minus in the arithmetical sense or that protons have something that electrons ,NA,NA
don't. The use of these symbols just means that protons and electrons are opposite in some ,NA,NA
way. This opposite characteristic manifests itself in how protons and electrons relate to each ,NA,NA
other.,NA,NA
Protons and electrons are happiest and most stable when they exist together in equal ,NA,NA
numbers. An imbalance of protons and electrons will attempt to correct itself. When the ,NA,NA
"carpet picks up electrons from your shoes, eventually everything gets evened out when you ",NA,NA
touch something and feel a spark.,NA,NA
That spark of static electricity is the movement of electrons by a rather circuitous route ,NA,NA
from the carpet through your body back to your shoes.,NA,NA
Another way to describe the relationship between protons and electrons is to note that ,NA,NA
opposite charges attract and like charges repel. But this isn't what we might assume by ,NA,NA
looking at the diagram of the atom. It looks like the protons huddled together in the nucleus ,NA,NA
are attracting each other. The protons are held together by something stronger than the ,NA,NA
"repulsion of like charges, and that something is called the ",NA,NA
strong force,NA,NA
. Messing around with ,NA,NA
"the strong force involves splitting the nucleus, which produces nuclear energy. In this chapter, ",NA,NA
we're merely fooling around with the electrons to get electricity.,NA,NA
Static electricity isn't limited to the little sparks produced by fingers touching doorknobs. ,NA,NA
"During storms, the bottoms of clouds accumulate electrons while the tops of clouds lose ",NA,NA
"electrons; eventually, the imbalance is evened out with a stroke of lightning. Lightning is ",NA,NA
a lot of electrons moving very quickly from one spot to another.,NA,NA
The electricity in the flashlight circuit is obviously much better mannered than a spark or a ,NA,NA
lightning bolt. The light burns steadily and continuously because the electrons aren't just ,NA,NA
jumping from one place to another. As one atom in the circuit loses an electron to another ,NA,NA
"atom nearby, it grabs another electron from an adjacent atom, which grabs an electron from ",NA,NA
"another adjacent atom, and so on. The electricity in the circuit is the passage of electrons ",NA,NA
from atom to atom.,NA,NA
This doesn't happen all by itself. We can't just wire up any old bunch of stuff and expect some ,NA,NA
electricity to happen. We need something to precipitate the movement of electrons around ,NA,NA
"the circuit. Looking back at our diagram of the no-frills flashlight, we can safely assume that ",NA,NA
"the thing that begins the movement of electricity is not the wires and not the lightbulb, so it's ",NA,NA
probably the batteries.,NA,NA
Almost everybody knows a few things about the types of batteries used in flashlights:,NA,NA
"They're tubular in shape and come in different sizes, such as D, C, A, AA, and AAA.",NA,NA
"Regardless of the battery's size, they're all labeled ""1.5 volts.""",NA,NA
One end of the battery is flat and is labeled with a minus sign (–); the other end has ,NA,NA
a little protrusion and is labeled with a plus sign (+).,NA,NA
"If you want your appliance to work right, it's a good idea to install the batteries correctly ",NA,NA
with the plus signs facing the right way.,NA,NA
"Batteries wear out eventually. Sometimes they can be recharged, sometimes not.",NA,NA
"And finally, we suspect that in some weird way, batteries produce electricity.",NA,NA
"In all batteries, chemical reactions take place, which means that some molecules break down ",NA,NA
"into other molecules, or molecules combine to form new molecules. The chemicals in batteries ",NA,NA
are chosen so that the reactions between them generate spare electrons on the side of the ,NA,NA
battery marked with a,NA,NA
"minus sign (called the negative terminal, or ",NA,NA
anode,NA,NA
) and demand extra electrons on the other ,NA,NA
"side of the battery (the positive terminal, or ",NA,NA
cathode,NA,NA
"). In this way, chemical energy is ",NA,NA
converted to electrical energy.,NA,NA
The chemical reaction can't proceed unless there's some way that the extra electrons can be ,NA,NA
taken away from the negative terminal of the battery and delivered back to the positive ,NA,NA
"terminal. So if the battery isn't connected to anything, nothing much happens. (Actually the ",NA,NA
"chemical reactions still take place, but very slowly.) The reactions take place only if an ",NA,NA
electrical circuit is present to take electrons away from the negative side and supply ,NA,NA
electrons to the positive side. The electrons travel around this circuit in a counterclockwise ,NA,NA
direction:,NA,NA
"In this book, the color red is used to indicate that electricity is flowing through the wires.",NA,NA
Electrons from the chemicals in the batteries might not so freely mingle with the ,NA,NA
"electrons in the copper wires if not for a simple fact: All electrons, wherever they're ",NA,NA
"found, are identical. There's nothing that distinguishes a copper electron from any other ",NA,NA
electron.,NA,NA
Notice that both batteries are facing the same direction. The positive end of the bottom ,NA,NA
battery takes electrons from the negative end of the top battery. It's as if the two batteries ,NA,NA
have been combined into one bigger battery with a positive terminal at one end and a ,NA,NA
negative terminal at the other end. The combined battery is 3 volts rather than 1.5 volts.,NA,NA
"If we turn one of the batteries upside down, the circuit won't work:",NA,NA
"The two positive ends of the battery need electrons for the chemical reactions, but there's no ",NA,NA
way electrons can get to them because they're attached to each other. If the two positive ends ,NA,NA
"of the battery are connected, the two negative ends should be also:",NA,NA
This works. The batteries are said to be connected ,NA,NA
in parallel,NA,NA
 rather than ,NA,NA
in series,NA,NA
 as shown ,NA,NA
"earlier. The combined voltage is 1.5 volts, which is the same as the voltage of each of the ",NA,NA
"batteries. The light will probably still glow, but not as brightly as with two batteries in series. ",NA,NA
But the batteries will last twice as long.,NA,NA
We normally like to think of a battery as providing electricity to a circuit. But we've seen that ,NA,NA
we can also think of a circuit as providing a way for a battery's chemical reactions to take ,NA,NA
place. The circuit takes electrons away from the negative end of the battery and delivers them ,NA,NA
to the positive end of the battery. The reactions in the battery proceed until all the chemicals ,NA,NA
"are exhausted, at which time you throw away the battery or recharge it.",NA,NA
"From the negative end of the battery to the positive end of the battery, the electrons flow ",NA,NA
through the wires and the lightbulb. But why do we need the wires? Can't the electricity just ,NA,NA
"flow through the air? Well, yes and no. Yes, electricity can flow through air (particularly wet ",NA,NA
"air), or else we wouldn't see lightning. But electricity doesn't flow through air very readily.",NA,NA
Some substances are significantly better than others for carrying electricity. The ability of an ,NA,NA
element,NA,NA
to carry electricity is related to its subatomic structure. Electrons orbit the nucleus in various ,NA,NA
"levels, called shells. An atom that has just one electron in its outer shell can readily give up ",NA,NA
"that electron, which is what's necessary to carry electricity. These substances are conducive ",NA,NA
to carrying electricity and thus are said to be ,NA,NA
conductors,NA,NA
". The best conductors are copper, ",NA,NA
"silver, and gold. It's no coincidence that these three elements are found in the same column ",NA,NA
of the periodic table. Copper is the most common substance for making wires.,NA,NA
The opposite of conductance is ,NA,NA
resistance,NA,NA
. Some substances are more resistant to the passage ,NA,NA
"of electricity than others, and these are known as ",NA,NA
resistors,NA,NA
. If a substance has a very high ,NA,NA
resistance—meaning that it doesn't conduct electricity much at all—it's known as an ,NA,NA
insulator,NA,NA
". Rubber and plastic are good insulators, which is why these substances are often ",NA,NA
used to coat wires. Cloth and wood are also good insulators as is dry air. Just about anything ,NA,NA
"will conduct electricity, however, if the voltage is high enough.",NA,NA
"Copper has a very low resistance, but it still has ",NA,NA
some,NA,NA
" resistance. The longer a wire, the ",NA,NA
"higher the resistance it has. If you tried wiring a flashlight with wires that were miles long, ",NA,NA
the resistance in the wires would be so high that the flashlight wouldn't work.,NA,NA
"The thicker a wire, the lower the resistance it has. This may be somewhat counterintuitive. ",NA,NA
"You might imagine that a thick wire requires much more electricity to ""fill it up."" But actually ",NA,NA
the thickness of the wire makes available many more electrons to move through the wire.,NA,NA
I've mentioned voltage but haven't defined it. What does it mean when a battery has 1.5 ,NA,NA
"volts? Actually, voltage—named after Count Alessandro Volta (1745–1827), who invented ",NA,NA
the first battery in 1800—is one of the more difficult concepts of elementary electricity. ,NA,NA
Voltage refers to a ,NA,NA
potential ,NA,NA
for doing work. Voltage exists whether or not something is ,NA,NA
hooked up to a battery.,NA,NA
"Consider a brick. Sitting on the floor, the brick has very little potential. Held in your hand ",NA,NA
"four feet above the floor, the brick has more potential. All you need do to realize this ",NA,NA
"potential is drop the brick. Held in your hand at the top of a tall building, the brick has much ",NA,NA
"more potential. In all three cases, you're holding the brick and it's not doing anything, but ",NA,NA
the ,NA,NA
potential,NA,NA
 is different.,NA,NA
A much easier concept in electricity is the notion of ,NA,NA
current,NA,NA
. Current is related to the number ,NA,NA
of electrons actually zipping around the circuit. Current is measured in ,NA,NA
amperes,NA,NA
", named after ",NA,NA
"AndréMarie Ampère (1775–1836), but everybody calls them ",NA,NA
amps,NA,NA
", as in ""a 10-amp fuse."" To ",NA,NA
"get one amp of current, you need 6,240,000,000,000,000,000 electrons flowing past a ",NA,NA
particular point per second.,NA,NA
The water-and-pipes analogy helps out here: Current is similar to the ,NA,NA
amount,NA,NA
 of water flowing ,NA,NA
through a pipe. Voltage is similar to the water ,NA,NA
pressure,NA,NA
. Resistance is similar to the width of a ,NA,NA
"pipe—the smaller the pipe, the larger the resistance. So the more water pressure you have, ",NA,NA
"the more water that flows through the pipe. The smaller the pipe, the less water that flows ",NA,NA
through it. The amount of water flowing through a pipe (the current) is directly proportional ,NA,NA
to the water pressure (the voltage) and inversely proportional to the skinniness of the pipe ,NA,NA
(the resistance).,NA,NA
"In electricity, you can calculate how much current is flowing through a circuit if you know the ",NA,NA
voltage and the resistance. Resistance—the tendency of a substance to impede the flow of ,NA,NA
electrons—is measured in ,NA,NA
ohms,NA,NA
", named after Georg Simon Ohm (1789–1854), who also ",NA,NA
proposed the famous Ohm's Law. The law states,I = E / R,NA
"where I is traditionally used to represent current in amperes, E is used to represent voltage ",NA,NA
(it stands for ,NA,NA
electromotive force,NA,NA
"), and R is resistance.",NA,NA
"For example, let's look at a battery that's just sitting around not connected to anything:",NA,NA
The voltage E is 1.5. That's a potential for doing work. But because the positive and negative ,NA,NA
"terminals are connected solely by air, the resistance (the symbol R) is very, very, very high, ",NA,NA
which means the current (I) equals 1.5 volts divided by a large number. This means that the ,NA,NA
current is just about zero.,NA,NA
Now let's connect the positive and negative terminals with a short piece of copper wire ,NA,NA
"(and from here on, the insulation on the wires won't be shown):",NA,NA
This is known as a ,NA,NA
short circuit,NA,NA
". The voltage is still 1.5, but the resistance is now very, very ",NA,NA
low.,NA,NA
The current is 1.5 volts divided by a very small number. This means that the current will be ,NA,NA
"very, very high. Lots and lots of electrons will be flowing through the wire. In reality, the ",NA,NA
actual current will be limited by the physical size of the battery. The battery will probably ,NA,NA
"not be able to deliver such a high current, and the voltage will drop below 1.5 volts. If the ",NA,NA
"battery is big enough, the wire will get hot because the electrical energy is being converted ",NA,NA
"to heat. If the wire gets very hot, it will actually glow and might even melt.",NA,NA
Most circuits are somewhere between these two extremes. We can symbolize them like so:,NA,NA
The squiggly line is recognizable to electrical engineers as the symbol for a resistor. Here it ,NA,NA
means that the circuit has a resistance that is neither very low nor very high.,NA,NA
"If a wire has a low resistance, it can get hot and start to glow. This is how an incandescent ",NA,NA
"lightbulb works. The lightbulb is commonly credited to America's most famous inventor, ",NA,NA
"Thomas Alva Edison (1847–1931), but the concepts were well known at the time he patented ",NA,NA
the lightbulb (1879) and many other inventors also worked on the problem.,NA,NA
"Inside a lightbulb is a thin wire called a filament, which is commonly made of tungsten. One ",NA,NA
end of the filament is connected to the tip at the bottom of the base; the other end of the ,NA,NA
"filament is connected to the side of the metal base, separated from the tip by an insulator. The ",NA,NA
"resistance of the wire causes it to heat up. In open air, the tungsten would get hot enough to ",NA,NA
"burn, but in the vacuum of the lightbulb, the tungsten glows and gives off light.",NA,NA
Most common flashlights have two batteries connected in series. The total voltage is 3.0 volts. ,NA,NA
"A lightbulb of the type commonly used in a flashlight has a resistance of about 4 ohms. Thus, ",NA,NA
"the current is 3 volts divided by 4 ohms, or 0.75 ampere, which can also be expressed as 750 ",NA,NA
"milliamperes. This means that 4,680,000,000,000,000,000 electrons are flowing through the ",NA,NA
lightbulb every second.,NA,NA
(A brief reality check: If you actually try to measure the resistance of a flashlight lightbulb ,NA,NA
"with an ohmmeter, you'll get a reading much lower than 4 ohms. The resistance of tungsten is ",NA,NA
"dependent upon its temperature, and the resistance gets higher as the bulb heats up.)",NA,NA
"As you may know, lightbulbs you buy for your home are labeled with a certain wattage. The ",NA,NA
"watt is named after James Watt (1736–1819), who is best known for his work on the steam ",NA,NA
engine. The watt is a measurement of power (P) and can be calculated as,P = E x I,NA
The 3 volts and 0.75 amp of our flashlight indicate that we're dealing with a 2.25-watt ,NA,NA
lightbulb.,NA,NA
Your home might be lit by 100-watt lightbulbs. These are designed for the 120 volts of your ,NA,NA
"home. Thus, the current that flows through them is equal to 100 watts divided by 120 volts, ",NA,NA
"or about 0.83 ampere. Hence, the resistance of a 100-watt lightbulb is 120 volts divided by ",NA,NA
"0.83 ampere, or 144 ohms.",NA,NA
"So we've seemingly analyzed everything about the flashlight—the batteries, the wires, ",NA,NA
and the lightbulb. But we've forgotten the most important part!,NA,NA
"Yes, the switch. The switch controls whether electricity is flowing in the circuit or not. When ",NA,NA
"a switch allows electricity to flow, it is said to be ",NA,NA
on,NA,NA
", or ",NA,NA
closed,NA,NA
. An ,NA,NA
off,NA,NA
", or ",NA,NA
open,NA,NA
", switch doesn't ",NA,NA
allow electricity to flow. (The way we use the words ,NA,NA
closed,NA,NA
 and ,NA,NA
open,NA,NA
 for switches is opposite ,NA,NA
to the way we use them for a door. A closed door prevents anything from passing through it; ,NA,NA
a closed switch allows electricity to flow.),NA,NA
Either the switched is closed or it's open. Either current flows or it doesn't. Either the ,NA,NA
"lightbulb lights up or it doesn't. Like the binary codes invented by Morse and Braille, this ",NA,NA
simple flashlight is either on or off. There's no in-between. This similarity between binary ,NA,NA
codes and simple electrical circuits is going to prove very useful in the chapters ahead.,NA,NA
Chapter 5. Seeing Around Corners,NA,NA
You're twelve years old. One horrible day your best friend's family moves to another town. ,NA,NA
"You speak to your friend on the telephone now and then, but telephone conversations just ",NA,NA
aren't the same as those late-night sessions with the flashlights blinking out Morse code. Your ,NA,NA
"second-best friend, who lives in the house next door to yours, eventually becomes your new ",NA,NA
best friend. It's time to teach your new best friend some Morse code and get the late-night ,NA,NA
flashlights blinking again.,NA,NA
"The problem is, your new best friend's bedroom window doesn't face your bedroom window. ",NA,NA
"The houses are side by side, but the bedroom windows face the same direction. Unless you ",NA,NA
"figure out a way to rig up a few mirrors outside, the flashlights are now inadequate for after-",NA,NA
dark communication.,NA,NA
Or are they?,NA,NA
"Maybe you have learned something about electricity by this time, so you decide to make ",NA,NA
"your own flashlights out of batteries, lightbulbs, switches, and wires. In the first experiment, ",NA,NA
"you wire up the batteries and switch in your bedroom. Two wires go out your window, ",NA,NA
"across a fence, and into your friend's bedroom, where they're connected to a lightbulb:",NA,NA
"Although I'm showing only one battery, you might actually be using two. In this and future ",NA,NA
"diagrams, this will be an off (or open) switch:",NA,NA
and this will be the switch when it's on (or closed):,NA,NA
The flashlight in this chapter works the same way as the one illustrated in the previous ,NA,NA
"chapter, although the wires connecting the components for this chapter's flashlight are a bit ",NA,NA
"longer. When you close the switch at your end, the light goes on at your friend's end:",NA,NA
Now you can send messages using Morse code.,NA,NA
"Once you have one flashlight working, you can wire another long-distance flashlight so ",NA,NA
that your friend can send messages to you:,NA,NA
Congratulations! You have just rigged up a bidirectional telegraph system. You'll notice that ,NA,NA
these are two identical circuits that are entirely independent of and unconnected to each ,NA,NA
"other. In theory, you can be sending a message to your friend while your friend is sending a ",NA,NA
message to you (although it might be hard for your brain to read and send messages at the ,NA,NA
same time).,NA,NA
You also might be clever enough to discover that you can reduce your wire ,NA,NA
requirements by 25 percent by wiring the configuration this way:,NA,NA
Notice that the negative terminals of the two batteries are now connected. The two circular ,NA,NA
"circuits (battery to switch to bulb to battery) still operate independently, even though ",NA,NA
they're now joined like Siamese twins.,NA,NA
This connection is called a ,NA,NA
common,NA,NA
. In this circuit the common extends from the point where ,NA,NA
the leftmost lightbulb and battery are connected to the point where the rightmost lightbulb ,NA,NA
and battery are connected. These connections are indicated by dots.,NA,NA
"Let's take a closer look to assure ourselves that nothing funny is going on. First, when you ",NA,NA
"depress the switch on your side, the bulb in your friend's house lights up. The red wires show ",NA,NA
the flow of electricity in the circuit:,NA,NA
No electricity flows in the other part of the circuit because there's no place for the electrons ,NA,NA
to go to complete a circuit.,NA,NA
"When you're not sending but your friend is sending, the switch in your friend's house ",NA,NA
"controls the lightbulb in your house. Once again, the red wires show how electricity ",NA,NA
flows in the circuit:,NA,NA
"When you and your friend both try to send at the same time, sometimes both switches are ",NA,NA
"open, sometimes one switch is closed but the other is open, and sometimes both switches are ",NA,NA
"depressed. In that case, the flow of electricity in the circuit looks like this:",NA,NA
No current flows through the common part of the circuit.,NA,NA
"By using a common to join two separate circuits into one circuit, we've reduced the electrical ",NA,NA
connection between the two houses from four wires to three wires and reduced our wire ,NA,NA
expenses by 25 percent.,NA,NA
"If we had to string the wires for a very long distance, we might be tempted to reduce our ",NA,NA
"expenses even more by eliminating another wire. Unfortunately, this isn't feasible with 1.5-",NA,NA
volt D cells and,NA,NA
"small lightbulbs. But if we were dealing with 100-volt batteries and much larger lightbulbs, it ",NA,NA
could certainly be done.,NA,NA
"Here's the trick: Once you have established a common part of the circuit, you don't have to ",NA,NA
use wire for it. You can replace the wire with something else. And what you can replace it ,NA,NA
"with is a giant sphere approximately 7900 miles in diameter made up of metal, rock, water, ",NA,NA
"and organic material, most of which is dead. The giant sphere is known to us as Earth.",NA,NA
"When I described good conductors in the last chapter, I mentioned silver, copper, and gold, ",NA,NA
"but not gravel and mulch. In truth, the earth isn't such a hot conductor, although some kinds ",NA,NA
"of earth (damp soil, for example) are better than others (such as dry sand). But one thing we ",NA,NA
learned about ,NA,NA
conductors is this: The larger the better. A very thick wire conducts much better than a very ,NA,NA
"thin wire. That's where the earth excels. It's really, really, really big.",NA,NA
"To use the earth as a conductor, you can't merely stick a little wire into the ground next to the ",NA,NA
"tomato plants. You have to use something that maintains a substantial contact with the earth, ",NA,NA
and by that I mean a conductor with a large surface area. One good solution is a copper pole at ,NA,NA
least 8 feet long and ½ inch in diameter. That provides 150 square inches of contact with the ,NA,NA
earth. You can bury the pole into the ground with a sledgehammer and then connect a wire to ,NA,NA
"it. Or, if the cold-water pipes in your home are made of copper and originate in the ground ",NA,NA
"outside the house, you can connect a wire to the pipe.",NA,NA
An electrical contact with the earth is called an ,NA,NA
earth,NA,NA
 in Great Britain and a ,NA,NA
ground,NA,NA
 in America. ,NA,NA
A bit of confusion surrounds the word ,NA,NA
ground,NA,NA
 because it's also often used to refer to a part of ,NA,NA
a circuit we've been calling the ,NA,NA
common,NA,NA
". In this chapter, and until I indicate otherwise, a ",NA,NA
ground is a physical connection with the earth.,NA,NA
"When people draw electrical circuits, they use this symbol to represent a ground:",NA,NA
Electricians use this symbol because they don't like to take the time to draw an 8-foot ,NA,NA
copper pole buried in the ground.,NA,NA
Let's see how this works. We began this chapter by looking at a one-way configuration like ,NA,NA
this:,NA,NA
"If you were using high-voltage batteries and lightbulbs, you would need only one wire ",NA,NA
between your house and your friend's house because you could use the earth as one of the ,NA,NA
connectors:,NA,NA
"When you turn the switch on, electricity flows like this:",NA,NA
"The electrons come out of the earth at your friend's house, go through the lightbulb and wire, ",NA,NA
"the switch at your house, and then go into the positive terminal of the battery. Electrons from ",NA,NA
the negative terminal of the battery go into the earth.,NA,NA
You might also want to visualize electrons leaping from the 8-foot copper pole buried in the ,NA,NA
"backyard of your house into the earth, then scurrying through the earth to get to the 8-foot ",NA,NA
copper pole buried in the backyard of your friend's house.,NA,NA
But if you consider that the earth is performing this same function for many thousands of ,NA,NA
"electrical circuits around the world, you might ask: How do the electrons know where to ",NA,NA
"go? Well, obviously they don't. A different image of the earth seems much more appropriate.",NA,NA
"Yes, the earth is a massive conductor of electricity, but it can also be viewed as both a source ",NA,NA
of and a repository for electrons. ,NA,NA
The earth is to electrons as an ocean is to drops of water,NA,NA
. The ,NA,NA
earth is a virtually limitless source of electrons and also a giant sink for electrons.,NA,NA
"The earth, however, does have ",NA,NA
some,NA,NA
 resistance. That's why we can't use the earth ground to ,NA,NA
reduce our wiring needs if we're playing around with 1.5-volt D cells and flashlight bulbs. ,NA,NA
The earth simply has too much resistance for low-voltage batteries.,NA,NA
You'll notice that the previous two diagrams include a battery with the negative terminal ,NA,NA
connected to the ground:,NA,NA
"I'm not going to draw this battery connected to the ground anymore. Instead, I'm going ",NA,NA
"to use the capital letter V, which stands for ",NA,NA
voltage,NA,NA
. The one-way lightbulb telegraph ,NA,NA
now looks like this:,NA,NA
The V stands for ,NA,NA
voltage,NA,NA
", but it could also stand for ",NA,NA
vacuum,NA,NA
. Think of the V as an electron ,NA,NA
vacuum and think of the ground as an ocean of electrons. The electron vacuum pulls the ,NA,NA
"electrons from the earth through the circuit, doing work along the way (such as lighting a ",NA,NA
lightbulb).,NA,NA
The ground is sometimes also known as the point of ,NA,NA
zero potential,NA,NA
. This means that no ,NA,NA
"voltage is present. A voltage—as I explained earlier—is a potential for doing work, much as a ",NA,NA
brick suspended in the air is a potential source of energy. Zero potential is like a brick sitting ,NA,NA
on the ground—there's no place left for it to fall.,NA,NA
In ,NA,NA
Chapter 4,NA,NA
", one of the first things we noticed was that circuits were circles. Our new circuit ",NA,NA
"doesn't look like a circle at all. It still is one, however. You could replace the V with a battery ",NA,NA
"with the negative terminal connected to ground, and then you could draw a wire connecting ",NA,NA
all the places you see a ground symbol. You'd end up with the same diagram that we started ,NA,NA
with in this chapter.,NA,NA
"So with the help of a couple of copper poles (or cold-water pipes), we can construct a ",NA,NA
two-way Morse code system with just two wires crossing the fence between your house ,NA,NA
and your friend's:,NA,NA
"This circuit is functionally the same as the configuration shown previously, in which ",NA,NA
three wires crossed the fence between the houses.,NA,NA
"In this chapter, we've taken an important step in the evolution of communications. Previously ",NA,NA
we had been able to communicate with Morse code but only in a straight line of sight and only ,NA,NA
as far as the beam from a flash-light would travel.,NA,NA
"By using wires, not only have we constructed a system to communicate around corners ",NA,NA
"beyond the line of sight, but we've freed ourselves of the limitation of distance. We can ",NA,NA
communicate over hundreds and thousands of miles just by stringing longer and longer ,NA,NA
wires.,NA,NA
"Well, not exactly. Although copper is a very good conductor of electricity, it's not perfect. The ",NA,NA
"longer the wires, the more resistance they have. The more resistance, the less current that ",NA,NA
flows. The less,NA,NA
"current, the dimmer the lightbulbs.",NA,NA
So how long exactly can we make the wires? That depends. Let's suppose you're using the ,NA,NA
"original four-wire, bidirectional hookup without grounds and commons, and you're using ",NA,NA
"flashlight batteries and lightbulbs. To keep your costs down, you may have initially purchased ",NA,NA
some 20-gauge speaker wire from Radio Shack at $9.99 per 100 feet. Speaker wire is normally ,NA,NA
"used to connect your speakers to your stereo system. It has two conductors, so it's also a good ",NA,NA
choice for our telegraph system. If your bedroom and your friend's bedroom are less than 50 ,NA,NA
"feet apart, this one roll of wire is all you need.",NA,NA
The thickness of wire is measured in ,NA,NA
American Wire Gauge,NA,NA
", or ",NA,NA
AWG,NA,NA
. The smaller the AWG ,NA,NA
"number, the thicker the wire and also the less resistance it has. The 20-gauge speaker wire ",NA,NA
you bought has a diameter of about 0.032 inches and a resistance of about 10 ohms per 1000 ,NA,NA
"feet, or 1 ohm for the 100-foot round-trip distance between the bedrooms.",NA,NA
"That's not bad at all, but what if we strung the wire out for a mile? The total resistance of the ",NA,NA
wire would be more than 100 ohms. Recall from the last chapter that our lightbulb was only 4 ,NA,NA
"ohms. From Ohm's Law, we can easily calculate that the current through the circuit will no ",NA,NA
"longer be 0.75 amp (3 volts divided by 4 ohms) as before, but will now be less than 0.03 amp ",NA,NA
"(3 volts divided by more than 100 ohms). Almost certainly, that won't be enough current to ",NA,NA
light the bulb.,NA,NA
"Using thicker wire is a good solution, but that can be expensive. Ten-gauge wire (which Radio ",NA,NA
"Shack sells as Automotive Hookup Wire at $11.99 for 35 feet, and you'd need twice as much ",NA,NA
because it has only one conductor rather than two) is about 0.1 inch thick but has a resistance ,NA,NA
"of only 1 ohm per 1000 feet, or 5 ohms per mile.",NA,NA
Another solution is to increase the voltage and use lightbulbs with a much higher resistance. ,NA,NA
"For example, a 100-watt lightbulb that lights a room in your house is designed to be used ",NA,NA
with 120 volts and has a resistance of about 144 ohms. The resistance of the wires will then ,NA,NA
affect the overall circuitry much less.,NA,NA
These are problems faced 150 years ago by the people who strung up the first telegraph ,NA,NA
systems across America and Europe. Regardless of the thickness of the wires and the high ,NA,NA
"levels of voltage, telegraph wires simply couldn't be continued indefinitely. At most, the limit ",NA,NA
for a working system according to this scheme was a couple hundred miles. That's nowhere ,NA,NA
close to spanning the thousands of miles between New York and California.,NA,NA
The solution to this problem—not for flashlights but for the clicking and clacking telegraphs ,NA,NA
"of yesteryear—turns out to be a simple and humble device, but one from which entire ",NA,NA
computers can be built.,NA,NA
Chapter 6. Telegraphs and Relays,NA,NA
"Samuel Finley Breese Morse was born in 1791 in Charleston, Massachusetts, the town where ",NA,NA
the Battle of Bunker Hill was fought and which is now the northeast part of Boston. In the year ,NA,NA
"of Morse's birth, the United States Constitution had been ratified just two years before and ",NA,NA
George Washington was serving his first term as president. Catherine the Great ruled Russia. ,NA,NA
Louis XVI and Marie Antoinette would lose their heads two years later in the French ,NA,NA
"Revolution. And in 1791, Mozart completed ",NA,NA
The Magic Flute,NA,NA
", his last opera, and died later that ",NA,NA
year at the age of 35.,NA,NA
Morse was educated at Yale and studied art in London. He became a successful portrait artist. ,NA,NA
His painting ,NA,NA
General Lafayette,NA,NA
" (1825) hangs in New York's City Hall. In 1836, he ran for mayor ",NA,NA
of New York City on an independent ticket and received 5.7 percent of the vote. He was also ,NA,NA
an early photography buff. Morse learned how to make daguerreotype photographs from ,NA,NA
"Louis Daguerre himself and made some of the first daguerreotypes in America. In 1840, he ",NA,NA
"taught the process to the 17-year-old Mathew Brady, who with his colleagues would be ",NA,NA
"responsible for creating the most memorable photographs of the Civil War, Abraham Lincoln, ",NA,NA
and Samuel Morse himself.,NA,NA
But these are just footnotes to an eclectic career. Samuel F. B. Morse is best known these days ,NA,NA
for his invention of the telegraph and the code that bears his name.,NA,NA
The instantaneous worldwide communication we've become accustomed to is a relatively ,NA,NA
"recent development. In the early 1800s, you could communicate instantly and you could ",NA,NA
"communicate over long distances, but you couldn't do both at the same time. Instantaneous ",NA,NA
communication was limited to as far as your voice could carry (no amplification available) or ,NA,NA
as far as the eye could see (aided perhaps by a telescope). Communication over longer ,NA,NA
"distances by letter took time and involved horses, trains, or ships.",NA,NA
"For decades prior to Morse's invention, many attempts were made to speed long-distance ",NA,NA
communication. Technically simple methods employed a relay system of men standing on ,NA,NA
hills waving flags in semaphore codes. Technically more complex solutions used large ,NA,NA
structures with movable arms that did basically the same thing as men waving flags.,NA,NA
"The idea of the telegraph (literally meaning ""far writing"") was certainly in the air in the early ",NA,NA
"1800s, and other inventors had taken a stab at it before Samuel Morse began experimenting ",NA,NA
in 1832. In,NA,NA
"principle, the idea behind an electrical telegraph was simple: You do something at one end of a ",NA,NA
wire that causes something to happen at the other end of the wire. This is exactly what we did ,NA,NA
"in the last chapter when we made a long-distance flashlight. However, Morse couldn't use a ",NA,NA
lightbulb as his signaling device because a practical one wouldn't be invented until 1879. ,NA,NA
"Instead, Morse relied upon the phenomenon of ",NA,NA
electromagnetism,NA,NA
.,NA,NA
"If you take an iron bar, wrap it with a couple hundred turns of thin wire, and then run a ",NA,NA
"current through the wire, the iron bar becomes a magnet. It then attracts other pieces of iron ",NA,NA
and steel. (There's enough thin wire in the electromagnet to create a resistance great enough ,NA,NA
"to prevent the electromagnet from constituting a short circuit.) Remove the current, and the ",NA,NA
iron bar loses its magnetism:,NA,NA
The electromagnet is the foundation of the telegraph. Turning the switch on and off at one ,NA,NA
end causes the electromagnet to do something at the other end.,NA,NA
Morse's first telegraphs were actually more complex than the ones that later evolved. Morse ,NA,NA
"felt that a telegraph system should actually write something on paper, or as computer users ",NA,NA
"would later phrase it, ""produce a hard copy."" This wouldn't necessarily be words, of course, ",NA,NA
because that would be too complex. But ,NA,NA
something,NA,NA
" should be written on paper, whether it be ",NA,NA
squiggles or dots and dashes.,NA,NA
"Notice that Morse was stuck in a paradigm that required paper and reading, much like ",NA,NA
Valentin Haüy's notion that books for the blind should use raised letters of the ,NA,NA
alphabet.,NA,NA
Although Samuel Morse notified the patent office in 1836 that he had invented a successful ,NA,NA
"telegraph, it wasn't until 1843 that he was able to persuade Congress to fund a public ",NA,NA
"demonstration of the device. The historic day was May 24, 1844, when a telegraph line rigged ",NA,NA
"between Washington, D.C., and Baltimore, Maryland, successfully carried the biblical message: ",NA,NA
"""What hath God wrought!""",NA,NA
"The traditional telegraph ""key"" used for sending messages looked something like this:",NA,NA
"Despite the fancy appearance, this was just a switch designed for maximum speed. The most ",NA,NA
comfortable way to use the key for long periods of time was to hold the handle between ,NA,NA
"thumb, forefinger, and middle finger, and tap it up and down. Holding the key down for a short ",NA,NA
period of time produced a Morse code dot. Holding it down longer produced a Morse code ,NA,NA
dash.,NA,NA
At the other end of the wire was a receiver that was basically an electromagnet pulling a metal ,NA,NA
"lever. Originally, the electromagnet controlled a pen. While a mechanism using a wound-up ",NA,NA
"spring slowly pulled a roll of paper through the gadget, an attached pen bounced up and down ",NA,NA
and drew dots and,NA,NA
dashes on the paper. A person who could read Morse code would then transcribe the dots and ,NA,NA
dashes into letters and words.,NA,NA
"Of course, we humans are a lazy species, and telegraph operators soon discovered that ",NA,NA
they could transcribe the code simply by listening to the pen bounce up and down. The ,NA,NA
"pen mechanism was eventually eliminated in favor of the traditional telegraph ""sounder,"" ",NA,NA
which looked something like this:,NA,NA
"When the telegraph key was pressed, the electromagnet in the sounder pulled the movable ",NA,NA
"bar down and it made a ""click"" noise. When the key was released, the bar sprang back to its ",NA,NA
"normal position, making a ""clack"" noise. A fast ""click-clack"" was a dot; a slower ""click…clack"" ",NA,NA
was a dash.,NA,NA
"The key, the sounder, a battery, and some wires can be connected just like the lightbulb ",NA,NA
telegraph in the preceding chapter:,NA,NA
"As we discovered, you don't need two wires connecting the two telegraph stations. One ",NA,NA
wire will suffice if the earth provides the other half of the circuit.,NA,NA
"As we did in the previous chapter, we can replace the battery connected to the ground with a ",NA,NA
capital V. So the complete one-way setup looks something like this:,NA,NA
Two-way communication simply requires another key and sender. This is similar to what ,NA,NA
we did in the preceding chapter.,NA,NA
The invention of the telegraph truly marks the beginning of modern communication. For the ,NA,NA
"first time, people were able to communicate further than the eye could see or the ear could ",NA,NA
hear and faster than a,NA,NA
horse could gallop. That this invention used a binary code is all the more intriguing. In later ,NA,NA
"forms of electrical and wireless communication, including the telephone, radio, and ",NA,NA
"television, binary codes were abandoned, only to later make an appearance in computers, ",NA,NA
"compact discs, digital videodiscs, digital satellite television broadcasting, and high-definition ",NA,NA
TV.,NA,NA
Morse's telegraph triumphed over other designs in part because it was tolerant of bad line ,NA,NA
"conditions. If you strung a wire between a key and a sounder, it usually worked. Other ",NA,NA
"telegraph systems were not quite as forgiving. But as I mentioned in the last chapter, a big ",NA,NA
problem with the telegraph lay in the resistance of long lengths of wire. Although some ,NA,NA
"telegraph lines used up to 300 volts and could work over a 300-mile length, wires couldn't be ",NA,NA
extended indefinitely.,NA,NA
"One obvious solution is to have a relay system. Every couple hundred miles or so, a person ",NA,NA
equipped with a sounder and a key could receive a message and resend it.,NA,NA
Now imagine that you have been hired by the telegraph company to be part of this relay ,NA,NA
system. They have put you out in the middle of nowhere between New York and California in ,NA,NA
a little hut with a table and a chair. A wire coming through the east window is connected to a ,NA,NA
sounder. Your telegraph key is connected to a battery and wire going out the west window. ,NA,NA
"Your job is to receive messages originating in New York and to resend them, eventually to ",NA,NA
reach California.,NA,NA
"At first, you prefer to receive an entire message before resending it. You write down the ",NA,NA
"letters that correspond to the clicks of the sounder, and when the message is finished, you ",NA,NA
start sending it using your key. Eventually you get the knack of sending the message as ,NA,NA
you're hearing it without having to write the whole thing down. This saves time.,NA,NA
"One day while resending a message, you look at the bar on the sounder bouncing up and ",NA,NA
"down, and you look at your fingers bouncing the key up and down. You look at the sounder ",NA,NA
"again and you look at the key again, and you realize that the sounder is bouncing up and down ",NA,NA
the same way the key is bouncing up and down. So you go outside and pick up a little piece of ,NA,NA
wood and you use the wood and some string to physically connect the sounder and the key:,NA,NA
"Now it works by itself, and you can take the rest of the afternoon off and go fishing.",NA,NA
"It's an interesting fantasy, but in reality Samuel Morse had understood the concept of this ",NA,NA
device early on. The device we've invented is called a ,NA,NA
repeater,NA,NA
", or a ",NA,NA
relay,NA,NA
. A relay is like a ,NA,NA
sounder in that an incoming current is used to power an electromagnet that pulls down a ,NA,NA
"metal lever. The lever, however, is used as part of a switch connecting a battery to an outgoing ",NA,NA
"wire. In this way, a weak incoming current is ""amplified"" to make a stronger outgoing current.",NA,NA
"Drawn rather schematically, the relay looks like this:",NA,NA
"When an incoming current triggers the electromagnet, the electromagnet pulls down a ",NA,NA
flexible strip of metal that acts like a switch to turn on an outgoing current:,NA,NA
"So a telegraph key, a relay, and a sounder are connected more or less like this:",NA,NA
"The relay is a remarkable device. It's a switch, surely, but a switch that's turned on and off ",NA,NA
not by human hands but by a current. You could do amazing things with such devices. You ,NA,NA
could actually assemble much of a computer with them.,NA,NA
"Yes, this relay thing is much too sweet an invention to leave sitting around the telegraphy ",NA,NA
museum. Let's grab one and stash it inside our jacket and walk quickly past the guards. This ,NA,NA
"relay will come in very handy. But before we can use it, we're going to have to learn to count.",NA,NA
Chapter 7. Our Ten Digits,NA,NA
The idea that language is merely a code seems readily acceptable. Many of us at least ,NA,NA
"attempted to learn a foreign language in high school, so we're willing to acknowledge that the ",NA,NA
animal we call a cat in English can also be a ,NA,NA
gato,NA,NA
", ",NA,NA
chat,NA,NA
", ",NA,NA
Katze,NA,NA
", ",NA,NA
KOIIIKa,NA,NA
", or ",NA,NA
Kάττα,NA,NA
.,NA,NA
"Numbers, however, seem less culturally malleable. Regardless of the language we speak and ",NA,NA
"the way we pronounce the numbers, just about everybody we're likely to come in contact ",NA,NA
with on this planet writes them the same way:,NA,NA
"Isn't mathematics called ""the universal language"" for a reason?",NA,NA
Numbers are certainly the most abstract codes we deal with on a regular basis. When we ,NA,NA
see the number,NA,NA
we don't immediately need to relate it to anything. We might visualize 3 apples or 3 of ,NA,NA
"something else, but we'd be just as comfortable learning from context that the number refers ",NA,NA
"to a child's birthday, a television channel, a hockey score, or the number of cups of flour in a ",NA,NA
"cake recipe. Because our numbers are so abstract to begin with, it's more difficult for us to ",NA,NA
understand that this number of apples,NA,NA
doesn't necessarily have to be denoted by the symbol,NA,NA
Much of this chapter and the next will be devoted to persuading ourselves that this many ,NA,NA
apples,NA,NA
can also be indicated by writing,NA,NA
Let's first dispense with the idea that there's something inherently special about the number ,NA,NA
ten. That most civilizations have based their number systems around ten (or sometimes five) ,NA,NA
isn't surprising.,NA,NA
"From the very beginning, people have used their fingers to count. Had our species developed ",NA,NA
"possessing eight or twelve fingers, our ways of counting would be a little different. It's no ",NA,NA
coincidence that the word ,NA,NA
digit,NA,NA
 can refer to fingers or toes as well as numbers or that the ,NA,NA
words ,NA,NA
five ,NA,NA
and ,NA,NA
fist,NA,NA
 have similar roots.,NA,NA
"So in that sense, using a ",NA,NA
base-ten,NA,NA
", or ",NA,NA
decimal,NA,NA
 (from the Latin for ,NA,NA
ten,NA,NA
"), number system is ",NA,NA
completely arbitrary. Yet we endow numbers based on ten with an almost magical ,NA,NA
significance and give them,NA,NA
special names. Ten years is a decade; ten decades is a century; ten centuries is a millennium. A ,NA,NA
thousand thousands is a million; a thousand millions is a billion. These numbers are all ,NA,NA
powers of ten:,"10
 1
  =10 
  
 10
 2
  =100 
  
 10
 3
  =1000 (thousand) 
  
 10
 4
  =10,000 
  
 10
 5
  =100,000 
  
 10
 6
  =1,000,000 (million) 
  
 10
 7
  =10,000,000 
  
 10
 8
  =100,000,000 
  
 10
 9
  =1,000,000,000 
 (billion)",NA
"Most historians believe that numbers were originally invented to count things, such as people, ",NA,NA
"possessions, and transactions in commerce. For example, if someone owned four ducks, that ",NA,NA
might be recorded with drawings of four ducks:,NA,NA
"Eventually the person whose job it was to draw the ducks thought, ""Why do I have to draw ",NA,NA
"four ducks? Why can't I draw one duck and indicate that there are four of them with, I don't ",NA,NA
"know, a scratch mark or something?""",NA,NA
"And then there came the day when someone had 27 ducks, and the scratch marks got ",NA,NA
ridiculous:,NA,NA
"Someone said, ""There's got to be a better way,"" and a number system was born.",NA,NA
"Of all the early number systems, only Roman numerals are still in common use. You find ",NA,NA
"them on the faces of clocks and watches, used for dates on monuments and statues, for some ",NA,NA
"page numbering in books, for some items in an outline, and—most annoyingly—for the ",NA,NA
"copyright notice in movies. (The question ""What year was this picture made?"" can often be ",NA,NA
answered only if one is quick enough to decipher MCMLIII as the tail end of the credits goes ,NA,NA
by.) ,NA,NA
Twenty-seven ducks in Roman numerals is,NA,NA
The concept here is easy enough: The X stands for 10 scratch marks and the V stands for 5 ,NA,NA
scratch marks.,NA,NA
The symbols of Roman numerals that survive today are,NA,NA
"The I is a one. This could be derived from a scratch mark or a single raised finger. The V, ",NA,NA
"which is probably a symbol for a hand, stands for five. Two V's make an X, which stands for ",NA,NA
ten. The L is a fifty. The letter C comes from the word ,NA,NA
centum,NA,NA
", which is Latin for a hundred. ",NA,NA
"D is five hundred. Finally, M comes from the Latin word ",NA,NA
mille,NA,NA
", or a thousand.",NA,NA
"Although we might not agree, for a long time Roman numerals were considered easy to add ",NA,NA
"and subtract, and that's why they survived so long in Europe for bookkeeping. Indeed, when ",NA,NA
"adding two Roman numerals, you simply combine all the symbols from both numbers and ",NA,NA
"then simplify the result using just a few rules: Five I's make a V, two V's make an X, five X's ",NA,NA
"make an L, and so forth.",NA,NA
But multiplying and dividing Roman numerals is difficult. Many other early number systems ,NA,NA
(such as that of the ancient Greeks) are similarly in-adequate for working with numbers in a ,NA,NA
sophisticated manner. While the Greeks developed an extraordinary geometry still taught ,NA,NA
"virtually unchanged in high schools today, the ancient Greeks aren't known for their algebra.",NA,NA
The number system we use today is known as the Hindu-Arabic or Indo-Arabic. It's of Indian ,NA,NA
origin but was brought to Europe by Arab mathematicians. Of particular renown is the ,NA,NA
Persian ,NA,NA
mathematician Muhammed ibn-Musa al-Khwarizmi (from whose name we have derived the ,NA,NA
word ,NA,NA
algorithm,NA,NA
) who wrote a book on algebra around A.D. 825 that used the Hindu system ,NA,NA
of counting. A Latin translation dates from A.D. 1120 and was influential in hastening the ,NA,NA
transition throughout Europe from Roman numerals to our present Hindu-Arabic system.,NA,NA
The Hindu-Arabic number system was different from previous number systems in three ,NA,NA
ways:,NA,NA
The Hindu-Arabic number system is said to be ,NA,NA
positional,NA,NA
", which means that a particular ",NA,NA
digit represents a different quantity depending on where it is found in the number. Where ,NA,NA
"digits appear in a number is just as significant (actually, more significant) than what the ",NA,NA
"digits actually are. Both 100 and 1,000,000 have only a single 1 in them, yet we all know ",NA,NA
that a million is much larger than a hundred.,NA,NA
Virtually all early number systems have something that the Hindu-Arabic system does ,NA,NA
not,NA,NA
 ,NA,NA
"have, and that's a special symbol for the number ten. In our number system, there's ",NA,NA
no,NA,NA
 ,NA,NA
special symbol for ten.,NA,NA
"On the other hand, virtually all of the early number systems are missing something that ",NA,NA
"the Hindu-Arabic system has, and which turns out to be much more important than a ",NA,NA
symbol for ten. And that's the zero.,NA,NA
"Yes, the zero. The lowly zero is without a doubt one of the most important inventions in the ",NA,NA
history of numbers and mathematics. It supports positional notation because it allows ,NA,NA
differentiation of 25 from 205 and 250. The zero also eases many mathematical operations ,NA,NA
"that are awkward in nonpositional systems, particularly multiplication and division.",NA,NA
The whole structure of Hindu-Arabic numbers is revealed in the way we pronounce them. ,NA,NA
"Take 4825, for instance. We say ""four thousand, eight hundred, twenty-five."" That means",NA,NA
Or we can write the components like this:,4825 = 4000 + 800 + 20 + 5,NA
"Or breaking it down even further, we can write the number this way:","4825 = 4 x 1000 
 + 
  
 8 x 100 + 
  
 2 x 10 + 
  
 5 x 1",NA
"Or, using powers of ten, the number can be rewritten like this:","4825 = 4 x 10
 3
  
 + 
  
 8 x 10
 2
  + 
  
 2 x 10
 1
  + 
  
 5 x 10
 0",NA
Remember that any number to the 0 power equals 1.,NA,NA
"Each position in a multidigit number has a particular meaning, as shown in the following ",NA,NA
diagram.,NA,NA
"The seven boxes shown here let us represent any number from 0 through 9,999,999:",NA,NA
Each position corresponds to a power of ten. We don't need a special symbol for ten because ,NA,NA
we set the 1 in a different position and we use the 0 as a placeholder.,NA,NA
What's also really nice is that fractional quantities shown as digits to the right of a ,NA,NA
"decimal point follow this same pattern. The number 42,705.684 is",NA,NA
"This number can also be written without any division, like this:","4 x 10,000 
 + 
  
 2 x 1000 + 
  
 7 x 100 + 
  
 0 x 10 + 
  
 5 x 1 + 
  
 6 x 0.1 + 
  
 8 x 0.01 + 
  
 4 x 0.001",NA
"Or, using powers of ten, the number is","4 x 10
 4
  + 
  
 2 x 10
 3
  + 
  
 7 x 10
 2
  + 
  
 0 x 10
 1
  + 
  
 5 x 10
 0
  + 
  
 6 x 10
 -1
  
 + 
  
 8 x 10
 -2
  
 + 
  
 4 x 10
 -3",NA
Notice how the exponents go down to zero and then become negative numbers.,NA,NA
"We know that 3 plus 4 equals 7. Similarly, 30 plus 40 equals 70, 300 plus 400 equals 700, ",NA,NA
and 3000 plus 4000 equals 7000. This is the beauty of the Hindu-Arabic system. When you ,NA,NA
"add decimal numbers of any length, you follow a procedure that breaks down the problem ",NA,NA
into steps. Each step involves nothing more complicated than adding pairs of single-digit ,NA,NA
numbers. That's why someone a long time ago forced you to memorize an addition table:,"+ 
  
 0 
  
 1
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 0
  
  
 0 
  
 1
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 1
  
  
 1 
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 10
  
 2
  
  
 2 
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 10
  
  11
  
 3
  
  
 3 
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 10
  
  11
  
  12
  
 4
  
  
 4 
  
 5
  
 6
  
 7
  
 8
  
 9
  
 10
  
  11
  
  12
  
  13",NA
Find the two numbers you wish to add in the top row and the left column. Follow down and ,NA,NA
"across to get the sum. For example, 4 plus 6 equals 10.",NA,NA
"Similarly, when you need to multiply two decimal numbers, you follow a somewhat more ",NA,NA
complicated procedure but still one that breaks down the problem so that you need do ,NA,NA
nothing more complex than adding or multiplying single-digit decimal numbers. Your early ,NA,NA
schooling probably also entailed memorizing a multiplication table:,"x 
  
 0 
  
 1 
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 0
  
  
 0 
  
 0 
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 1
  
  
 0 
  
 1 
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 2
  
  
 0 
  
 2 
  
 4
  
 6
  
 8
  
 10
  
  12
  
  14
  
  16
  
  18
  
 3
  
  
 0 
  
 3 
  
 6
  
 9
  
 12
  
  15
  
  18
  
  21
  
  24
  
  27
  
 4
  
  
 0 
  
 4 
  
 8
  
 12
  
  16
  
  20
  
  24
  
  28
  
  32
  
  36
  
 5
  
  
 0 
  
 5 
  
 10
  
  15
  
  20
  
  25
  
  30
  
  35
  
  40
  
  45
  
 6
  
  
 0 
  
 6 
  
 12
  
  18
  
  24
  
  30
  
  36
  
  42
  
  48
  
  54
  
 7
  
  
 0 
  
 7 
  
 14
  
  21
  
  28
  
  35
  
  42
  
  49
  
  56
  
  63
  
 8
  
  
 0 
  
 8 
  
 16
  
  24
  
  32
  
  40
  
  48
  
  56
  
  64
  
  72
  
 9
  
  
 0 
  
 9 
  
 18
  
  27
  
  36
  
  45
  
  54
  
  63
  
  72
  
  81",NA
"What's best about the positional system of notation isn't how well it works, but how well it ",NA,NA
works for counting systems ,NA,NA
not,NA,NA
 based on ten. Our number system isn't necessarily ,NA,NA
appropriate for everyone. One big problem with our base-ten system of numbers is that it ,NA,NA
doesn't have any relevance for cartoon characters. Most cartoon characters have only four ,NA,NA
"fingers on each hand (or paw), so they prefer a number system that's based on eight. ",NA,NA
"Interestingly enough, much of what we know about decimal numbering can be applied to a ",NA,NA
numbering system more appropriate for our friends in cartoons.,NA,NA
Chapter 8. Alternatives to Ten,NA,NA
Ten is an exceptionally important number to us humans. Ten is the number of fingers and ,NA,NA
"toes most of us have, and we certainly prefer to have all ten of each. Because our fingers are ",NA,NA
"convenient for counting, we humans have adapted an entire number system that's based on ",NA,NA
the number 10.,NA,NA
"As I mentioned in the previous chapter, the number system that we use is called ",NA,NA
base ten,NA,NA
", or ",NA,NA
decimal,NA,NA
. The number system seems so natural to us that it's difficult at first to conceive of ,NA,NA
"alternatives. Indeed, when we see the number ",NA,NA
10,NA,NA
 we can't help but think that this number ,NA,NA
refers to this many ducks:,NA,NA
But the only reason that the number 10 refers to this many ducks is that this many ducks is ,NA,NA
"the same as the number of fingers we have. If human beings had a different number of fingers, ",NA,NA
"the way we counted would be different, and 10 would mean something else. That same ",NA,NA
number 10 could refer to this many ducks:,NA,NA
or this many ducks:,NA,NA
or even this many ducks:,NA,NA
"When we get to the point where 10 means just two ducks, we'll be ready to examine how ",NA,NA
"switches, wires, lightbulbs, and relays (and by extension, computers) can represent ",NA,NA
numbers.,NA,NA
"What if human beings had only four fingers on each hand, like cartoon characters? We ",NA,NA
probably never,NA,NA
"would have thought to develop a number system based on ten. Instead, we would have ",NA,NA
considered it normal and natural and sensible and inevitable and incontrovertible and ,NA,NA
undeniably proper to base our number system on eight. We wouldn't call this a ,NA,NA
decimal,NA,NA
 ,NA,NA
number system. We'd call it an ,NA,NA
octal ,NA,NA
"number system, or ",NA,NA
base eight,NA,NA
.,NA,NA
"If our number system were organized around eight rather than ten, we wouldn't need the ",NA,NA
symbol that looks like this:,NA,NA
"Show this symbol to any cartoon character and you'll get the response, ""What's that? What's ",NA,NA
"it for?"" And if you think about it a moment, we also wouldn't need the symbol that looks like ",NA,NA
this:,NA,NA
"In the decimal number system, there's no special symbol for ten, so in the octal number ",NA,NA
system there's no special symbol for eight.,NA,NA
"The way we count in the decimal number system is 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, and then 10. The ",NA,NA
"way we count in the octal number system is 0, 1, 2, 3, 4, 5, 6, 7, and then what? We've run out ",NA,NA
"of symbols. The only thing that makes sense is 10, and that's correct. In octal, the next number ",NA,NA
"after 7 is 10. But this 10 doesn't mean the number of fingers that humans have. In octal, 10 ",NA,NA
refers to the number of fingers that cartoon characters have.,NA,NA
We can continue counting on our four-toed feet:,NA,NA
"When you're working with number systems other than decimal, you can avoid some confusion ",NA,NA
if you pronounce a number like 10 as ,NA,NA
one zero,NA,NA
". Similarly, 13 is pronounced ",NA,NA
one three,NA,NA
 and 20 is ,NA,NA
pronounced ,NA,NA
two zero,NA,NA
. To ,NA,NA
really,NA,NA
" avoid confusion, we can say ",NA,NA
two zero base eight,NA,NA
 or ,NA,NA
two zero ,NA,NA
octal,NA,NA
.,NA,NA
"Even though we've run out of fingers and toes, we can still continue counting in octal. It's ",NA,NA
basically the same as counting in decimal except that we skip every number that has an 8 or a ,NA,NA
"9 in it. And of course, the actual numbers refer to different quantities:","0, 1, 2, 3, 4, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 20, 21, 
 22, 
  
 23, 24, 25, 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 40, 41, 
 42, 43, 
  
 44, 45, 46, 47, 50, 51, 52, 53, 54, 55, 56, 57, 60, 61, 62, 
 63, 64, 
  
 65, 66, 67, 70, 71, 72, 73, 74, 75, 76, 77, 100…",NA
That last number is pronounced ,NA,NA
one zero zero,NA,NA
. It's the number of fingers that cartoon ,NA,NA
"characters have, multiplied by itself.",NA,NA
"When writing decimal and octal numbers, we can avoid confusion and denote which is ",NA,NA
which by using a subscript to indicate the numbering system. The subscript TEN means ,NA,NA
"base ten or decimal, and EIGHT means base eight or octal.","Thus, the number of dwarfs that Snow White meets is 7TEN or 
 7EIGHT The number of fingers that cartoon characters have is 8TEN 
 or 10EIGHT The number of symphonies that Beethoven wrote is 
 9TEN or 11EIGHT The number of fingers that humans have is 
 10TEN or 12EIGHT 
  
 The number of months in a year is 12TEN or 14EIGHT 
  
 The number of days in a fortnight is 14TEN or 16EIGHT 
  
 The ""sweet"" birthday celebration is 16TEN or 20EIGHT",NA
"Notice that there are a few nice round octal numbers in this list, such as 100",EIGHT,NA
 and ,NA,NA
200,EIGHT,NA
 and 400,EIGHT,NA
. By the term ,NA,NA
nice round number,NA,NA
 we usually mean a number that has ,NA,NA
some zeros at the end. Two zeros on the end of a decimal number means that the number is a ,NA,NA
multiple of 100,TEN,NA
", which is 10",TEN,NA
 times 10,TEN,NA
". With octal numbers, two zeros on the end ",NA,NA
means that the number is a multiple of 100,EIGHT,NA
", which is 10",EIGHT,NA
 times 10,EIGHT,NA
 (or 8,TEN,NA
 ,NA,NA
times 8,TEN,NA
", which is 64",TEN,NA
).,NA,NA
You might also notice that these nice round octal numbers 100,EIGHT,NA
 and 200,EIGHT,NA
 and ,NA,NA
400,EIGHT,NA
 have the decimal equivalents 64,TEN,NA
", 128",TEN,NA
", and 256",TEN,NA
", all of which are powers of ",NA,NA
two. This makes sense. The number 400,EIGHT,NA
 (for example) is 4,EIGHT,NA
 times 10,EIGHT,NA
 times ,NA,NA
10,EIGHT,NA
", all of which are powers of two. And anytime we multiply a power of two by a power ",NA,NA
"of two, we get another power of two.",NA,NA
The following table shows some powers of two with the decimal and octal representations:,"Power of
  
  Two Decimal
  
  Octal
  
 2
 0
  
 1
  
 1
  
 2
 1
  
 2
  
 2
  
 2
 2
  
 4
  
 4
  
 2
 3
  
 8
  
 10
  
 2
 4
  
 16
  
 20
  
 2
 5
  
 32
  
 40
  
 2
 6
  
 64
  
 100
  
 2
 7
  
 128
  
 200
  
 2
 8
  
 256
  
 400
  
 2
 9
  
 512
  
 1000
  
 2
 10
  
 1024
  
 2000
  
 2
 11
  
 2048
  
 4000
  
 2
 12
  
 4096
  
 10000",NA
The nice round numbers in the rightmost column are a hint that number systems other ,NA,NA
than decimal might help in working with binary codes.,NA,NA
The octal system isn't different from the decimal system in any structural way. It just differs ,NA,NA
"in details. For example, each position in an octal number is a digit that's multiplied by a power ",NA,NA
of eight:,NA,NA
"Thus, an octal number such as 3725",EIGHT,NA
 can be broken down like so:,3725EIGHT = 3000EIGHT + 700EIGHT + 20EIGHT + 5EIGHT,NA
"This can be rewritten in any of several ways. Here's one way, using the powers of eight ",NA,NA
in their decimal forms:,"3725EIGHT = 3 x 512TEN + 
  
 7 x 64TEN + 
  
 2 x 8TEN + 
  
 5 x 1",NA
This is the same thing with the powers of eight shown in their octal form:,"3725EIGHT = 3 x 1000EIGHT + 
  
 7 x 100EIGHT + 
  
 2 x 10EIGHT + 
  
 5 x 1",NA
Here's another way of doing it:,"3725EIGHT = 3 x 8
 3
  + 
  
 7 x 8
 2
  + 
  
 2 x 8
 1
  + 
  
 5 x 8
 0",NA
"If you work out this calculation in decimal, you'll get 2005",TEN,NA
. This is how you can convert ,NA,NA
octal numbers to decimal numbers.,NA,NA
We can add and multiply octal numbers the same way we add and multiply decimal ,NA,NA
numbers. The only real difference is that we use different tables for adding and ,NA,NA
multiplying the individual digits.,NA,NA
Here's the addition table for octal numbers:,NA,NA
"For example, 5",EIGHT,NA
 + 7,EIGHT,NA
 = 14,EIGHT,NA
. So we can add two longer octal numbers the same ,NA,NA
way we add decimal numbers:,NA,NA
"To begin with the right column, 5 plus 3 equals 10. Put down the 0, carry the 1. One plus 3 ",NA,NA
"plus 4 equals 10. Put down the 0, carry the 1. One plus 1 plus 6 equals 10.",NA,NA
"Similarly, 2 times 2 is still 4 in octal. But 3 times 3 isn't 9. How could it be? Instead 3 times ",NA,NA
3 is 11,EIGHT,NA
", which is the same amount as 9",TEN,NA
. You can see the entire octal multiplication ,NA,NA
table at the top of the following page.,"x 
  
 0 
  
 1 
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 0
  
  
 0 
  
 0 
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 1
  
  
 0 
  
 1 
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 2
  
  
 0 
  
 2 
  
 4
  
 6
  
 10
  
  12
  
  14
  
  16
  
 3
  
  
 0 
  
 3 
  
 6
  
 11
  
  14
  
  17
  
  22
  
  25
  
 4
  
  
 0 
  
 4 
  
 10
  
  14
  
  20
  
  24
  
  30
  
  34
  
 5
  
  
 0 
  
 5 
  
 12
  
  17
  
  24
  
  31
  
  36
  
  43
  
 6
  
  
 0 
  
 6 
  
 14
  
  22
  
  30
  
  36
  
  44
  
  52
  
 7
  
  
 0 
  
 7 
  
 16
  
  25
  
  34
  
  43
  
  52
  
  61",NA
Here we have 4 x 6 equaling 30,EIGHT,NA
", but 30",EIGHT,NA
 is the same as 24,TEN,NA
", which is what 4 x 6 ",NA,NA
equals in decimal.,NA,NA
Octal is as valid a number system as decimal. But let's go further. Now that we've ,NA,NA
"developed a numbering system for cartoon characters, let's develop something that's ",NA,NA
"appropriate for lobsters. Lobsters don't have fingers exactly, but they do have pincers at ",NA,NA
the ends of their two front legs. An appropriate number system for lobsters is the ,NA,NA
quaternary,NA,NA
" system, or base four:",NA,NA
"Counting in quaternary goes like this: 0, 1, 2, 3, 10, 11, 12, 13, 20, 21, 22, 23, 30, 31, 32, 33, ",NA,NA
"100, 101, 102, 103, 110, and so forth.",NA,NA
I'm not going to spend much time with the quaternary system because we'll be moving on ,NA,NA
shortly to something much more important. But we can see how each position in a ,NA,NA
quaternary number corresponds this time to a power of ,NA,NA
four,NA,NA
:,NA,NA
The quaternary number 31232 can be written like this:,"31232FOUR = 3 x 256TEN + 
  
 1 x 64TEN + 
  
 2 x 16TEN + 
  
 3 x 4TEN + 
  
 2 x 1TEN",NA
which is the same as,"31232FOUR = 3 x 10000FOUR 
 + 
  
 1 x 1000FOUR + 
  
 2 x 100FOUR + 
  
 3 x 10FOUR + 
  
 2 x 1FOUR",NA
And it's also the same as,NA,NA
"If we do the calculations in decimal, we'll find that 31232",FOUR,NA
 equals 878,TEN,NA
.,NA,NA
"Now we're going to make another leap, and this one is extreme. Suppose we were dolphins ",NA,NA
and must resort to using our two flippers for counting. This is the number system known as ,NA,NA
"base two, or ",NA,NA
binary ,NA,NA
(from the Latin for ,NA,NA
two by two,NA,NA
). It seems likely that we'd have only two ,NA,NA
"digits, and these two digits would be 0 and 1.",NA,NA
"Now, 0 and 1 isn't a whole lot to work with, and it takes some practice to get accustomed to ",NA,NA
"binary numbers. The big problem is that you run out of digits very quickly. For example, ",NA,NA
here's how a dolphin counts using its flippers:,NA,NA
"Yes, in binary the next number after 1 is 10. This is startling, but it shouldn't really be a ",NA,NA
"surprise. No matter what number system we use, whenever we run out of single digits, the ",NA,NA
first two-digit number is always 10. In binary we count like this:,"0, 1, 10, 11, 100, 101, 110, 111, 1000, 1001, 1010, 
 1011, 1100, 
  
 1101, 1110, 1111, 10000, 10001…",NA
"These numbers might look large, but they're really not. It's more accurate to say that binary ",NA,NA
numbers get ,NA,NA
long,NA,NA
 very quickly rather than large:,"The number of heads that humans have is 1TEN or 1TWO 
  
 The number of flippers that dolphins have is 2TEN or 
 10TWO 
  
 The number of teaspoons in a tablespoon is 3TEN or 
 11TWO 
  
 The number of sides to a square is 4TEN or 100TWO 
  
 The number of fingers on one human hand is 5TEN or",NA
and so forth.,NA,NA
"In a multidigit binary number, the positions of the digits correspond to powers of two:",NA,NA
"So anytime we have a binary number composed of a 1 followed by all zeros, that number is a ",NA,NA
power of two. The power is the same as the number of zeros in the binary number. Here's our ,NA,NA
expanded table of the powers of two demonstrating this rule:,"Power of Two
  
  Decimal
  
  Octal
  
  Quaternary
  
  Binary
  
 2
 0
  
 1
  
 1
  
 1
  
 1
  
 2
 1
  
 2
  
 2
  
 2
  
 10
  
 2
 2
  
 4
  
 4
  
 10
  
 100
  
 2
 3
  
 8
  
 10
  
 20
  
 1000
  
 2
 4
  
 16
  
 20
  
 100
  
 10000
  
 2
 5
  
 32
  
 40
  
 200
  
 100000
  
 2
 6
  
 64
  
 100
  
 1000
  
 1000000
  
 2
 7
  
 128
  
 200
  
 2000
  
 10000000
  
 2
 8
  
 256
  
 400
  
 10000
  
 100000000
  
 2
 9
  
 512
  
 1000
  
 20000
  
 1000000000
  
 2
 10
  
 1024
  
 2000
  
 100000
  
 10000000000
  
 2
 11
  
 2048
  
 4000
  
 200000
  
 10000000000
 0
  
 2
 12
  
 4096
  
 1000
 0 
  
 1000000
  
 10000000000
 00",NA
Let's say we have the binary number 101101011010. This can be written as,NA,NA
The same number can be written this way:,"101101011010TWO = 1 x 
 2
 11
  + 
  
 0 x 2
 10
  + 
  
 1 x 2
 9
  + 
  
 1 x 2
 8
  + 
  
 0 x 2
 7
  + 
  
 1 x 2
 6
  + 
  
 0 x 2
 5
  + 
  
 1 x 2
 4
  + 
  
 1 x 2
 3
  + 
  
 0 x 2
 2
  + 
  
 1 x 2
 1
  + 
  
 0 x 2
 0",NA
"If we just add up the parts in decimal, we get 2048 + 512 + 256 + 64 + 16 + 8 + 2, ",NA,NA
"which is 2,906",TEN,NA
.,NA,NA
"To convert binary numbers to decimal more concisely, you might prefer a method that uses a ",NA,NA
template I've prepared:,NA,NA
"This template allows you to convert numbers up to eight binary digits in length, but it could ",NA,NA
"easily be extended. To use it, put up to eight binary digits in the 8 boxes at the top, one digit to ",NA,NA
a box. Do the eight multiplications and put the products in the 8 lower boxes. Add these eight ,NA,NA
boxes for the final result. This example shows how to find the decimal equivalent of ,NA,NA
10010110:,NA,NA
"Converting from decimal to binary isn't quite as straightforward, but here's a template that ",NA,NA
let's you convert decimal numbers from 0 through 255 to binary:,NA,NA
"The conversion is actually trickier than it appears, so follow the directions carefully. Put the ",NA,NA
entire decimal number (less than or equal to 255) in the box in the upper left corner. Divide ,NA,NA
"that number (the dividend) by the first divisor (128), as indicated. Put the quotient in the box ",NA,NA
"below (the box at the lower left corner), and the remainder in the box to the right (the second ",NA,NA
"box on the top row). That first remainder is the dividend for the next calculation, which uses a ",NA,NA
divisor of 64. Continue in the same manner through the template.,NA,NA
"Keep in mind that each quotient will be either 0 or 1. If the dividend is less than the divisor, ",NA,NA
the quotient is 0 and the remainder is simply the dividend. If the dividend is greater than or ,NA,NA
"equal to the divisor, the quotient is 1 and the remainder is the dividend minus the divisor. ",NA,NA
Here's how it's done with 150:,NA,NA
"If you need to add or multiply two binary numbers, it's probably easier to do the calculation in ",NA,NA
binary rather than convert to decimal. This is the part you're ,NA,NA
really,NA,NA
 going to like. Imagine how ,NA,NA
quickly you could have mastered addition if the only thing you had to memorize was this:,"+ 
  
 0 
  
 1
  
 0
  
  
 0 
  
 1
  
 1
  
  
 1 
  
 10",NA
Let's use this table to add two binary numbers:,NA,NA
Starting at the right column: 1 plus 0 equals 1. Second column from right: 0 plus 1 equals 1. ,NA,NA
"Third column: 1 plus 1 equals 0, carry the 1. Fourth column: 1 (carried) plus 0 plus 0 equals ",NA,NA
"1. Fifth column: 0 plus 1 equals 1. Sixth column: 1 plus 1 equals 0, carry the 1. Seventh ",NA,NA
column: 1 (carried),NA,NA
plus 1 plus 0 equals 10.,NA,NA
The multiplication table is even simpler than the addition table because it can be entirely ,NA,NA
derived by using two of the very basic rules of multiplication: Multiplying anything by 0 gets ,NA,NA
"you 0, and multiplying any number by 1 has no effect on the number.","x 
  
 0 
  
 1
  
 0
  
  
 0 
  
 0
  
 1
  
  
 0 
  
 1",NA
Here's a multiplication of 13,TEN,NA
 by 11,TEN,NA
 in binary:,NA,NA
The result is 143,TEN,NA
.,NA,NA
"People who work with binary numbers often write them with leading zeros (that is, zeros to ",NA,NA
"the left of the first 1)—for example, 0011 rather than just 11. This doesn't change the value of ",NA,NA
"the number at all; it's just for cosmetic purposes. For example, here are the first sixteen ",NA,NA
binary numbers with their decimal equivalents:,"Binary
  
  Decimal
  
 0000
  
 0
  
 0001
  
 1
  
 0010
  
 2
  
 0011
  
 3
  
 0100
  
 4
  
 0101
  
 5
  
 0110
  
 6
  
 0111
  
 7
  
 1000
  
 8
  
 1001
  
 9
  
 1010
  
 10
  
 1011
  
 11",NA
Let's take a look at this list of binary numbers for a moment. Consider each of the four ,NA,NA
"vertical columns of zeros and ones, and notice how the digits alternate going down the ",NA,NA
column:,NA,NA
The rightmost digit alternates between 0 and 1.,NA,NA
The next digit from the right alternates between two 0s and two 1s.,NA,NA
The next digit alternates between four 0s and four 1s.,NA,NA
The next digit alternates between eight 0s and eight 1s.,NA,NA
This is ,NA,NA
very,NA,NA
" methodical, wouldn't you say? Indeed, you can easily write the next sixteen ",NA,NA
binary numbers by just repeating the first sixteen and putting a 1 in front:,"Binary
  
  Decimal
  
 10000
  
 16
  
 10001
  
 17
  
 10010
  
 18
  
 10011
  
 19
  
 10100
  
 20
  
 10101
  
 21
  
 10110
  
 22
  
 10111
  
 23
  
 11000
  
 24
  
 11001
  
 25
  
 11010
  
 26
  
 11011
  
 27
  
 11100
  
 28
  
 11101
  
 29
  
 11110
  
 30
  
 11111
  
 31",NA
"Here's another way of looking at it: When you count in binary, the rightmost digit (also called ",NA,NA
"the least significant digit), alternates between 0 and 1. Every time it changes from a 1 to a 0, ",NA,NA
"the digit second to right (that is, the next most significant digit) also changes, either from 0 to ",NA,NA
1 or from 1 to 0.,NA,NA
"So every time a binary digit changes from a 1 to a 0, the next most significant digit also ",NA,NA
"changes, either from a 0 to a 1 or from a 1 to a 0.",NA,NA
"When we're writing large decimal numbers, we use commas every three places so that we ",NA,NA
"can more easily know what the number means at a glance. For example, if you see ",NA,NA
"12000000, you probably have to count digits, but if you see 12,000,000, you know that ",NA,NA
means twelve million.,NA,NA
"Binary numbers can get very long very quickly. For example, twelve million in binary is ",NA,NA
101101110001101100000000. To make this a ,NA,NA
little,NA,NA
" more readable, it's customary to ",NA,NA
"separate every four binary digits with a dash, for example 1011-0111-0001-1011-0000-",NA,NA
"0000 or with spaces: 1011 0111 0001 1011 0000 0000. Later on in this book, we'll look at a ",NA,NA
more concise way of expressing binary numbers.,NA,NA
"By reducing our number system to just the binary digits 0 and 1, we've gone as far as we can ",NA,NA
"go. We can't get any simpler. Moreover, the binary number system bridges the gap between ",NA,NA
"arithmetic and electricity. In previous chapters, we've been looking at switches and wires and ",NA,NA
"lightbulbs and relays, and any of these objects can represent the binary digits 0 and 1:",NA,NA
A wire can be a binary digit,NA,NA
". If current is flowing through the wire, the binary digit is 1. If ",NA,NA
"not, the binary digit is 0.",NA,NA
A switch can be a binary digit,NA,NA
". If the switch is on, or closed, the binary digit is 1. If the switch is ",NA,NA
"off, or open, the binary digit is 0.",NA,NA
A lightbulb can be a binary digit,NA,NA
". If the lightbulb is lit, the binary digit is 1. If the lightbulb is ",NA,NA
"not lit, the binary digit is 0.",NA,NA
A telegraph relay can be a binary digit,NA,NA
". If the relay is closed, the binary digit is 1. If the relay is ",NA,NA
"at rest, the binary digit is 0.",NA,NA
Binary numbers have a whole ,NA,NA
lot,NA,NA
 to do with computers.,NA,NA
"Sometime around 1948, the American mathematician John Wilder Tukey (born 1915) ",NA,NA
realized that the words ,NA,NA
binary digit,NA,NA
 were likely to assume a much greater importance in the ,NA,NA
"years ahead as computers became more prevalent. He decided to coin a new, shorter word to ",NA,NA
replace the unwieldy five syllables of ,NA,NA
binary digit,NA,NA
. He considered ,NA,NA
bigit,NA,NA
 and ,NA,NA
binit,NA,NA
 but settled ,NA,NA
"instead on the short, simple, elegant, and perfectly lovely word ",NA,NA
bit,NA,NA
.,NA,NA
Chapter 9. Bit by Bit by Bit,NA,NA
"When Tony Orlando requested in a 1973 song that his beloved ""Tie a Yellow Ribbon Round ",NA,NA
"the Ole Oak Tree,"" he wasn't asking for elaborate explanations or extended discussion. He ",NA,NA
"didn't want any ifs, ands, or buts. Despite the complex feelings and emotional histories that ",NA,NA
"would have been at play in the real-life situation the song was based on, all the man really ",NA,NA
"wanted was a simple yes or no. He wanted a yellow ribbon tied around the tree to mean ""Yes, ",NA,NA
"even though you messed up big time and you've been in prison for three years, I still want you ",NA,NA
"back with me under my roof."" And he wanted the absence of a yellow ribbon to mean ""Don't ",NA,NA
even ,NA,NA
think,NA,NA
" about stopping here.""",NA,NA
"These are two clear-cut, mutually exclusive alternatives. Tony Orlando did ",NA,NA
not,NA,NA
" sing, ""Tie ",NA,NA
"half of a yellow ribbon if you want to think about it for a while"" or ""Tie a blue ribbon if you ",NA,NA
"don't love me anymore but you'd still like to be friends."" Instead, he made it very, very ",NA,NA
simple.,NA,NA
Equally effective as the absence or presence of a yellow ribbon (but perhaps more awkward ,NA,NA
"to put into verse) would be a choice of traffic signs in the front yard: Perhaps ""Merge"" or ",NA,NA
"""Wrong Way.""",NA,NA
"Or a sign hung on the door: ""Closed"" or ""Open.""",NA,NA
"Or a flashlight in the window, turned on or off.",NA,NA
You can choose from lots of ways to say yes or no if that's all you need to say. You don't need ,NA,NA
"a sentence to say yes or no; you don't need a word, and you don't even need a letter. All you ",NA,NA
need is a ,NA,NA
bit,NA,NA
", and by that I mean all you need is a 0 or a 1.",NA,NA
"As we discovered in the previous chapters, there's nothing really all that special about the ",NA,NA
decimal number system that we normally use for counting. It's pretty clear that we base our ,NA,NA
number system on ten because that's the number of fingers we have. We could just as ,NA,NA
reasonably base our number system on eight (if we were cartoon characters) or four (if we ,NA,NA
were lobsters) or even two (if we were dolphins).,NA,NA
But there ,NA,NA
is,NA,NA
 something special about the binary number system. What's special about binary ,NA,NA
is that it's the ,NA,NA
simplest,NA,NA
 number system possible. There are only two binary digits—0 and 1. If ,NA,NA
"we want something simpler than binary, we'll have to get rid of the 1, and then we'll be left ",NA,NA
with just a 0. We can't do much of anything with just a 0.,NA,NA
The word ,NA,NA
bit,NA,NA
", coined to mean ",NA,NA
binary digit,NA,NA
", is surely one of the loveliest words invented in ",NA,NA
"connection with computers. Of course, the word has the normal meaning, ""a small portion, ",NA,NA
"degree, or amount,"" and that normal meaning is perfect because a bit—one binary digit—is a ",NA,NA
very small quantity indeed.,NA,NA
"Sometimes when a new word is invented, it also assumes a new meaning. That's certainly ",NA,NA
true in this case. A ,NA,NA
bit,NA,NA
 has a meaning beyond the ,NA,NA
binary digits,NA,NA
 used by dolphins for counting. ,NA,NA
"In the computer age, the bit has come to be regarded as ",NA,NA
the basic building block of ,NA,NA
information,NA,NA
.,NA,NA
"Now that's a bold statement, and of course, bits aren't the only things that convey information. ",NA,NA
Letters and words and Morse code and Braille and decimal digits convey information as well. ,NA,NA
The thing about the bit is that it conveys very ,NA,NA
little,NA,NA
 information. A bit of information is the ,NA,NA
tiniest amount of information possible. Anything less than a bit is no information at all. But ,NA,NA
"because a bit represents the smallest amount of information possible, more complex ",NA,NA
"information can be conveyed with multiple bits. (By saying that a bit conveys a ""small"" amount ",NA,NA
"of information, I surely don't mean that the information borders on the unimportant. Indeed, ",NA,NA
the yellow ribbon is a ,NA,NA
very,NA,NA
 important bit to the two,NA,NA
people concerned with it.),NA,NA
"""Listen, my children, and you shall hear / Of the midnight ride of Paul Revere,"" wrote Henry ",NA,NA
"Wadsworth Longfellow, and while he might not have been historically accurate when ",NA,NA
"describing how Paul Revere alerted the American colonies that the British had invaded, he ",NA,NA
did provide a ,NA,NA
thoughtprovoking example of the use of bits to communicate important information:,"He said to his friend ""If the British march
  
 By land or sea from the town to-night,
  
 Hang a lantern aloft in the belfry arch
  
 Of the North Church tower as a special light,—
  
 One, if by land, and two, if by sea…""",NA
"To summarize, Paul Revere's friend has two lanterns. If the British are invading by land, he ",NA,NA
"will put just one lantern in the church tower. If the British are coming by sea, he will put ",NA,NA
both lanterns in the church tower.,NA,NA
"However, Longfellow isn't explicitly mentioning all the possibilities. He left unspoken a ",NA,NA
third ,NA,NA
"possibility, which is that the British aren't invading just yet. Longfellow implies that this ",NA,NA
possibility will be conveyed by the ,NA,NA
absence,NA,NA
 of lanterns in the church tower.,NA,NA
Let's assume that the two lanterns are actually permanent fixtures in the church tower. ,NA,NA
Normally they aren't lit:,NA,NA
"This means that the British aren't yet invading. If one of the lanterns is lit,",NA,NA
or,NA,NA
"the British are coming by land. If both lanterns are lit,",NA,NA
the British are coming by sea.,NA,NA
Each lantern is a bit. A lit lantern is a 1 bit and an unlit lantern is a 0 bit. Tony Orlando ,NA,NA
demonstrated to us that only one bit is necessary to convey one of two possibilities. If Paul ,NA,NA
Revere needed only to be alerted that the British were invading (and not where they were ,NA,NA
"coming from), one lantern would have been sufficient. The lantern would have been lit for an ",NA,NA
invasion and unlit for another evening of peace.,NA,NA
Conveying one of three possibilities requires another lantern. Once that second lantern is ,NA,NA
"present, however, the two bits allows communicating one of four possibilities:","00 = The British aren't invading tonight.
  
 01 = They're coming by land.
  
 10 = They're coming by land.
  
 11 = They're coming by sea.",NA
What Paul Revere did by sticking to just three possibilities was actually quite sophisticated. ,NA,NA
"In the lingo of communication theory, he used ",NA,NA
redundancy,NA,NA
 to counteract the effect of ,NA,NA
noise,NA,NA
. ,NA,NA
The word ,NA,NA
noise ,NA,NA
is used in communication theory to refer to anything that interferes with ,NA,NA
communication. Static on a telephone line is an obvious example of noise that interferes with ,NA,NA
"a telephone communication. Communication over the telephone is usually successful, ",NA,NA
"nevertheless, even in the presence of noise because spoken language is heavily redundant. ",NA,NA
We don't need to hear every syllable of every word in order to understand what's being said.,NA,NA
"In the case of the lanterns in the church tower, noise can refer to the darkness of the night ",NA,NA
and the,NA,NA
"distance of Paul Revere from the tower, both of which might prevent him from ",NA,NA
distinguishing one lantern from the other. Here's the crucial passage in Longfellow's ,NA,NA
poem:,"And lo! As he looks, on the belfry's height
  
 A glimmer, and then a gleam of light!
  
 He springs to the saddle, the bridle he turns,
  
 But lingers and gazes, till full on his sight
  
 A second lamp in the belfry burns!",NA
It certainly doesn't sound as if Paul Revere was in a position to figure out exactly which ,NA,NA
one of the two lanterns was first lit.,NA,NA
The essential concept here is that ,NA,NA
information represents a choice among two or more ,NA,NA
possibilities,NA,NA
". For example, when we talk to another person, every word we speak is a choice ",NA,NA
among all the words in the dictionary. If we numbered all the words in the dictionary from 1 ,NA,NA
"through 351,482, we could just as accurately carry on conversations using the numbers rather ",NA,NA
"than words. (Of course, both participants would need dictionaries where the words are ",NA,NA
"numbered identically, as well as plenty of patience.)",NA,NA
The flip side of this is that ,NA,NA
any information that can be reduced to a choice among two or more ,NA,NA
possibilities can be expressed using bits,NA,NA
". Needless to say, there are plenty of forms of human ",NA,NA
communication that do ,NA,NA
not,NA,NA
 represent choices among discrete possibilities and that are also ,NA,NA
vital to our existence. This is why people don't form romantic relationships with computers. ,NA,NA
"(Let's hope they don't, anyway.) If you can't express something in words, pictures, or sounds, ",NA,NA
you're not going to be able to encode the information in bits. Nor would you want to.,NA,NA
A thumb up or a thumb down is one bit of information. And two thumbs up or down—such as ,NA,NA
the thumbs of film critics Roger Ebert and the late Gene Siskel when they rendered their final ,NA,NA
verdicts on the latest movies—convey two bits of information. (We'll ignore what they ,NA,NA
actually had to ,NA,NA
say,NA,NA
 about the movies; all we care about here are their thumbs.) Here we have ,NA,NA
four possibilities that can be represented with a pair of bits:,"00 = They both hated it.
  
 01 = Siskel hated it; Ebert loved it.
  
 10 = Siskel loved it; Ebert hated it.
  
 11 = They both loved it.",NA
"The first bit is the Siskel bit, which is 0 if Siskel hated the movie and 1 if he liked it. Similarly, ",NA,NA
the second bit is the Ebert bit.,NA,NA
"So if your friend asked you, ""What was the verdict from Siskel and Ebert about that movie ",NA,NA
Impolite Encounter,NA,NA
"?"" instead of answering, ""Siskel gave it a thumbs up and Ebert gave it a ",NA,NA
"thumbs down"" or even ""Siskel liked it; Ebert didn't,"" you could have simply said, ""One zero."" ",NA,NA
"As long as your friend knew which was the Siskel bit and which was the Ebert bit, and that a 1 ",NA,NA
"bit meant thumbs up and a 0 bit meant thumbs down, your answer would be perfectly ",NA,NA
understandable. But you and your friend have to know the code.,NA,NA
We could have declared initially that a 1 bit meant a thumbs down and a 0 bit meant a thumbs ,NA,NA
"up. That might seem counterintuitive. Naturally, we like to think of a 1 bit as representing ",NA,NA
something ,NA,NA
"affirmative and a 0 bit as the opposite, but it's really just an arbitrary assignment. The only",NA,NA
requirement is that everyone who uses the code must know what the 0 and 1 bits mean.,NA,NA
The meaning of a particular bit or collection of bits is always understood contextually. The ,NA,NA
meaning of a yellow ribbon around a particular oak tree is probably known only to the person ,NA,NA
"who put it there and the person who's supposed to see it. Change the color, the tree, or the ",NA,NA
"date, and it's just a meaningless scrap of cloth. Similarly, to get some useful information out of ",NA,NA
"Siskel and Ebert's hand gestures, at the very least we need to know what movie is under ",NA,NA
discussion.,NA,NA
If you maintained a list of the movies that Siskel and Ebert reviewed and how they voted ,NA,NA
"with their thumbs, you could add another bit to the mix to include your own opinion. ",NA,NA
Adding this third bit increases the number of different possibilities to eight:,"000 = Siskel hated it; Ebert hated it; I 
 hated it. 
  
 001 = Siskel hated it; Ebert hated it; I loved 
 it. 
  
 010 = Siskel hated it; Ebert loved it; I hated 
 it. 
  
 011 = Siskel hated it; Ebert loved it; I loved 
 it. 
  
 100 = Siskel loved it; Ebert hated it; I hated 
 it. 
  
 101 = Siskel loved it; Ebert hated it; I loved 
 it. 
  
 110 = Siskel loved it; Ebert loved it; I hated 
 it. 
  
 111 = Siskel loved it; Ebert loved it; I loved 
 it.",NA
One bonus of using bits to represent this information is that we know that we've accounted ,NA,NA
for all the possibilities. We know there can be eight and only eight possibilities and no more ,NA,NA
"or fewer. With 3 bits, we can count only from zero to seven. There are no more 3-digit binary ",NA,NA
numbers.,NA,NA
"Now, during this description of the Siskel and Ebert bits, you might have been considering a ",NA,NA
"very serious and disturbing question, and that question is this: What do we do about ",NA,NA
Leonard Maltin's Movie & Video Guide?,NA,NA
" After all, Leonard Maltin doesn't do the thumbs up ",NA,NA
and thumbs down thing. Leonard Maltin rates the movies using the more traditional star ,NA,NA
system.,NA,NA
"To determine how many Maltin bits we need, we must first know a few things about his ",NA,NA
system.,NA,NA
"Maltin gives a movie anything from 1 star to 4 stars, with half stars in between. (Just to make ",NA,NA
"this interesting, he doesn't actually award a single star; instead, the movie is rated as a ",NA,NA
"BOMB.) There are seven possibilities, which means that we can represent a particular rating ",NA,NA
using just 3 bits:,NA,NA
"""What about 111?"" you may ask. Well, that code doesn't mean anything. It's not defined. If the ",NA,NA
"binary code 111 were used to represent a Maltin rating, you'd know that a mistake was made. ",NA,NA
(Probably a computer made the mistake because people never do.) ,NA,NA
"You'll recall that when we had two bits to represent the Siskel and Ebert ratings, the leftmost ",NA,NA
bit was the Siskel bit and the rightmost bit was the Ebert bit. Do the individual bits mean ,NA,NA
"anything here? Well,",NA,NA
"sort of. If you take the numeric value of the bit code, add 2, and then divide by 2, that will ",NA,NA
give you the number of stars. But that's only because we defined the codes in a reasonable ,NA,NA
and consistent manner. We could just as well have defined the codes this way:,"000 = *** 
  
 001 = *½
  
 010 = **½
  
 011 = **** 
  
 101 = ***½
  
 110 = ** 
  
 111 = BOMB",NA
This code is just as legitimate as the preceding code so long as everybody knows what it ,NA,NA
"means. If Maltin ever encountered a movie undeserving of even a single full star, he could ",NA,NA
award a half star. He would certainly have enough codes for the half-star option. The codes ,NA,NA
could be redefined like so:,"000 = MAJOR BOMB 
  
 001 = BOMB 
  
 010 = *½
  
 011 = ** 
  
 100 = **½
  
 101 = *** 
  
 110 = ***½
  
 111 = ****",NA
But if he then encountered a movie not even worthy of a half star and decided to award ,NA,NA
"no stars (ATOMIC BOMB?), he'd need another bit. No more 3-bit codes are available.",NA,NA
The magazine ,NA,NA
Entertainment Weekly,NA,NA
" gives grades, not only for movies but for television ",NA,NA
"shows, CDs, books, CD-ROMs, Web sites, and much else. The grades range from A+ straight ",NA,NA
down to F (although it seems that only Pauly Shore movies are worthy of that honor). If you ,NA,NA
"count them, you see 13 possible grades. We would need 4 bits to represent these grades:","0000 = F 
  
 0001 = D–
  
 0010 = D 
  
 0011 = D+ 
  
 0100 = C–
  
 0101 = C 
  
 0110 = C+ 
  
 0111 = B–
  
 1000 = B 
  
 1001 = B+ 
  
 1010 = A–",NA
"We have three unused codes: 1101, 1110, and 1111, for a grand total of 16.",NA,NA
"Whenever we talk about bits, we often talk about a certain ",NA,NA
number,NA,NA
 of bits. The more bits we ,NA,NA
"have, the greater the number of different possibilities we can convey.",NA,NA
"It's the same situation with decimal numbers, of course. For example, how many telephone ",NA,NA
"area codes are there? The area code is three decimal digits long, and if all of them are used ",NA,NA
"(which they aren't, but we'll ignore that), there are 10",3,NA
", or 1000, codes, ranging from 000 ",NA,NA
through 999. How many 7-digit phone numbers are possible within the 212 area code? That's ,NA,NA
10,7,NA
", or 10,000,000. How many phone numbers can you have with a 212 area code and a 260 ",NA,NA
prefix? That's 10,4,NA
", or 10,000.",NA,NA
"Similarly, in binary the number of possible codes is always equal to 2 to the power of the ",NA,NA
number of bits:,"Number of Bits
  
  Number of Codes
  
 1
  
 2
 1
  = 2
  
 2
  
 2
 2
  = 4
  
 3
  
 2
 3
  = 8
  
 4
  
 2
 4
  = 16
  
 5
  
 2
 5
  = 32
  
 6
  
 2
 6
  = 64
  
 7
  
 2
 7
  = 128
  
 8
  
 2
 8
  = 256
  
 9
  
 2
 9
  = 512
  
 10
  
 2
 10
  = 1024",NA
Every additional bit doubles the number of codes.,NA,NA
"If you know how many codes you need, how can you calculate how many bits you need? ",NA,NA
"In other words, how do you go backward in the preceding table?",NA,NA
The method you use is something called the ,NA,NA
base two logarithm,NA,NA
. The logarithm is the opposite ,NA,NA
of the power. We know that 2 to the 7th power equals 128. The base two logarithm of 128 ,NA,NA
"equals 7. To use more mathematical notation, this statement","2
 7
  = 128",NA
is equivalent to this statement:,log2128 = 7,NA
"So if the base two logarithm of 128 is 7, and the base two logarithm of 256 is 8, then what's ",NA,NA
"the base two logarithm of 200? It's actually about 7.64, but we really don't have to know ",NA,NA
"that. If we needed to represent 200 different things with bits, we'd need 8 bits.",NA,NA
Bits are often hidden from casual observation deep within our electronic appliances. We can't ,NA,NA
see the bits encoded in our compact discs or in our digital watches or inside our computers. ,NA,NA
But sometimes the bits are in clear view.,NA,NA
"Here's one example. If you own a camera that uses 35-millimeter film, take a look at a roll of ",NA,NA
film. Hold it this way:,NA,NA
You'll see a checkerboard-like grid of silver and black squares that I've numbered 1 through ,NA,NA
12 in the diagram. This is called ,NA,NA
DX-encoding,NA,NA
. These 12 squares are actually 12 bits. A silver ,NA,NA
square means a 1 bit and a black square means a 0 bit. Square 1 and square 7 are always ,NA,NA
silver (1).,NA,NA
What do the bits mean? You might be aware that some films are more sensitive to light than ,NA,NA
others. This sensitivity to light is often called the film ,NA,NA
speed,NA,NA
. A film that's very sensitive to light ,NA,NA
is said to be ,NA,NA
fast,NA,NA
 because it can be exposed very quickly. The speed of the film is indicated by ,NA,NA
"the film's ASA (American Standards Association) rating, the most popular being 100, 200, and ",NA,NA
400. This ASA rating isn't only printed on the box and the film's cassette but is also encoded in ,NA,NA
bits.,NA,NA
There are 24 standard ASA ratings for photographic film. Here they are:,"25
  
 32
  
 40
  
 50
  
 64
  
 80
  
 100
  
 125
  
 160
  
 200
  
 250
  
 320
  
 400
  
 500
  
 640
  
 800
  
 1000
  
  
 1250
  
 1600
  
  
 2000
  
  
 2500
  
 3200
  
  
 4000
  
  
 5000",NA
How many bits are required to encode the ASA rating? The answer is 5. We know that 2,4,NA
 ,NA,NA
"equals 16, so that's too few. But 2",5,NA
" equals 32, which is more than sufficient.",NA,NA
The bits that correspond to the film speed are shown in the following table:,"Square 2
  
  Square 3
  
  Square 4
  
  Square 5
  
  Square 6
  
  Film Speed
  
 0
  
 0
  
 0
  
 1
  
 0
  
 25
  
 0
  
 0
  
 0
  
 0
  
 1
  
 32
  
 0
  
 0
  
 0
  
 1
  
 1
  
 40
  
 1
  
 0
  
 0
  
 1
  
 0
  
 50
  
 1
  
 0
  
 0
  
 0
  
 1
  
 64
  
 1
  
 0
  
 0
  
 1
  
 1
  
 80
  
 0
  
 1
  
 0
  
 1
  
 0
  
 100
  
 0
  
 1
  
 0
  
 0
  
 1
  
 125
  
 0
  
 1
  
 0
  
 1
  
 1
  
 160
  
 1
  
 1
  
 0
  
 1
  
 0
  
 200
  
 1
  
 1
  
 0
  
 0
  
 1
  
 250
  
 1
  
 1
  
 0
  
 1
  
 1
  
 320
  
 0
  
 0
  
 1
  
 1
  
 0
  
 400
  
 0
  
 0
  
 1
  
 0
  
 1
  
 500
  
 0
  
 0
  
 1
  
 1
  
 1
  
 640
  
 1
  
 0
  
 1
  
 1
  
 0
  
 800
  
 1
  
 0
  
 1
  
 0
  
 1
  
 1000
  
 1
  
 0
  
 1
  
 1
  
 1
  
 1250
  
 0
  
 1
  
 1
  
 1
  
 0
  
 1600
  
 0
  
 1
  
 1
  
 0
  
 1
  
 2000
  
 0
  
 1
  
 1
  
 1
  
 1
  
 2500
  
 1
  
 1
  
 1
  
 1
  
 0
  
 3200
  
 1
  
 1
  
 1
  
 0
  
 1
  
 4000
  
 1
  
 1
  
 1
  
 1
  
 1
  
 5000",NA
Most modern 35-millimeter cameras use these codes. (Exceptions are cameras on which you ,NA,NA
must set the exposure manually and cameras that have built-in light meters but require you ,NA,NA
"to set the film speed manually.) If you take a look inside the camera where you put the film, ",NA,NA
you should see six metal contacts that correspond to squares 1 through 6 on the film canister. ,NA,NA
"The silver squares are actually the metal of the film cassette, which is a conductor. The black ",NA,NA
"squares are paint, which is an insulator.",NA,NA
"The electronic circuitry of the camera runs a current into square 1, which is always silver. This ",NA,NA
"current will be picked up (or not picked up) by the five contacts on squares 2 through 6, ",NA,NA
"depending on whether the squares are bare silver or are painted over. Thus, if the camera ",NA,NA
"senses a current on contacts 4 and 5 but not on contacts 2, 3, and 6, the film speed is 400 ASA. ",NA,NA
The camera can then adjust film exposure accordingly.,NA,NA
"Inexpensive cameras need read only squares 2 and 3 and assume that the film speed is 50, ",NA,NA
"100, 200, or 400 ASA.",NA,NA
"Most cameras don't read or use squares 8 through 12. Squares 8, 9, and 10 encode the number ",NA,NA
"of exposures on the roll of film, and squares 11 and 12 refer to the ",NA,NA
exposure latitude,NA,NA
", which ",NA,NA
"depends on whether the film is for black-and-white prints, for color prints, or for color slides.",NA,NA
Perhaps the most common visual display of binary digits is the ubiquitous Universal ,NA,NA
"Product Code (UPC), that little bar code symbol that appears on virtually every packaged ",NA,NA
item that we purchase these days. The UPC has come to symbolize one of the ways ,NA,NA
computers have crept into our lives.,NA,NA
"Although the UPC often inspires fits of paranoia, it's really an innocent little thing, invented for ",NA,NA
"the purpose of automating retail checkout and inventory, which it does fairly successfully. ",NA,NA
"When it's used with a well-designed checkout system, the consumer can have an itemized ",NA,NA
"sales receipt, which isn't possible with conventional cash registers.",NA,NA
"Of interest to us here is that the UPC is a binary code, although it might not seem like one at ",NA,NA
first. So it will be instructive to decode the UPC and examine how it works.,NA,NA
"In its most common form, the UPC is a collection of 30 vertical black bars of various widths, ",NA,NA
"divided by gaps of various widths, along with some digits. For example, this is the UPC that ",NA,NA
appears on the 10 ¾-ounce can of Campbell's Chicken Noodle Soup:,NA,NA
"We're tempted to try to visually interpret the UPC in terms of thin bars and black bars, ",NA,NA
"narrow gaps and wide gaps, and indeed, that's one way to look at it. The black bars in the ",NA,NA
"UPC can have four different widths, with the thicker bars being two, three, and four times ",NA,NA
"the width of the thinnest bar. Similarly, the wider gaps between the bars are two, three, and ",NA,NA
four times the width of the thinnest gap.,NA,NA
But another way to look at the UPC is as a series of bits. Keep in mind that the whole bar code ,NA,NA
"symbol isn't exactly what the scanning wand ""sees"" at the checkout counter. The wand ",NA,NA
"doesn't try to interpret the numbers at the bottom, for example, because that would require ",NA,NA
a more sophisticated computing technique known as ,NA,NA
optical character recognition,NA,NA
", or OCR. ",NA,NA
"Instead, the scanner sees just a thin slice of this whole block. The UPC is as large as it is to ",NA,NA
give the checkout person something to aim the scanner at. The slice that the scanner sees can ,NA,NA
be represented like this:,NA,NA
"This looks almost like Morse code, doesn't it?",NA,NA
"As the computer scans this information from left to right, it assigns a 1 bit to the first black bar ",NA,NA
"it encounters, a 0 bit to the next white gap. The subsequent gaps and bars are read as series of ",NA,NA
"bits 1, 2, 3, or 4 bits in a row, depending on the width of the gap or the bar. The ",NA,NA
correspondence of the scanned bar code to bits is simply:,NA,NA
"So the entire UPC is simply a series of 95 bits. In this particular example, the bits can be ",NA,NA
grouped as follows:,NA,NA
The first 3 bits are always 101. This is known as the ,NA,NA
left-hand guard pattern,NA,NA
", and it allows the ",NA,NA
"computer-scanning device to get oriented. From the guard pattern, the scanner can determine ",NA,NA
"the width of the bars and gaps that correspond to single bits. Otherwise, the UPC would have ",NA,NA
to be a specific size on all packages.,NA,NA
The left-hand guard pattern is followed by six groups of 7 bits each. Each of these is a code ,NA,NA
"for a numeric digit 0 through 9, as I'll demonstrate shortly. A 5-bit center guard pattern ",NA,NA
follows. The presence of this fixed pattern (always 01010) is a form of built-in error ,NA,NA
checking. If the computer scanner doesn't find the center guard pattern where it's supposed ,NA,NA
"to be, it won't acknowledge that it has interpreted the UPC. This center guard pattern is one ",NA,NA
of several precautions against a code that has been tampered with or badly printed.,NA,NA
"The center guard pattern is followed by another six groups of 7 bits each, which are then ",NA,NA
"followed by a right-hand guard pattern, which is always 101. As I'll explain later, the presence ",NA,NA
"of a guard pattern at the end allows the UPC code to be scanned backward (that is, right to ",NA,NA
left) as well as forward.,NA,NA
"So the entire UPC encodes 12 numeric digits. The left side of the UPC encodes 6 digits, ",NA,NA
each requiring 7 bits. You can use the following table to decode these bits:,NA,NA
Table 9-1. Left-Side Codes,"0001101 = 0 0110001 = 5
  
 0011001 = 1 0101111 = 
 6
  
 0010011 = 2 0111011 = 7
  
 0111101 = 3 0110111 = 
 8
  
 0100011 = 4 0001011 = 9",NA
Notice that each 7-bit code begins with a 0 and ends with a 1. If the scanner encounters a 7-bit ,NA,NA
"code on the left side that begins with a 1 or ends with a 0, it knows either that it hasn't ",NA,NA
correctly read the UPC code or that the code has been tampered with. Notice also that each ,NA,NA
code has only two groups of consecutive 1 bits. This implies that each digit corresponds to ,NA,NA
two vertical bars in the UPC code.,NA,NA
You'll see that each code in this table has an odd number of 1 bits. This is another form of ,NA,NA
error and consistency checking known as ,NA,NA
parity,NA,NA
. A group of bits has ,NA,NA
even parity,NA,NA
 if it has an ,NA,NA
even number of 1 bits and ,NA,NA
odd parity,NA,NA
" if it has an odd number of 1 bits. Thus, all of these ",NA,NA
codes have odd parity.,NA,NA
"To interpret the six 7-bit codes on the right side of the UPC, use the following table:",NA,NA
Table 9-2. Right-Side Codes,"1110010 = 0 1001110 = 5
  
 1100110 = 1 1010000 = 
 6
  
 1101100 = 2 1000100 = 7
  
 1000010 = 3 1001000 = 
 8
  
 1011100 = 4 1110100 = 9",NA
"These codes are the complements of the earlier codes: Wherever a 0 appeared is now a 1, and ",NA,NA
"vice versa. These codes always begin with a 1 and end with a 0. In addition, they have an even ",NA,NA
"number of 1 bits, which is even parity.",NA,NA
"So now we're equipped to decipher the UPC. Using the two preceding tables, we can ",NA,NA
determine that the 12 digits encoded in the 10 ¾-ounce can of Campbell's Chicken Noodle ,NA,NA
Soup are,0 51000 01251 7,NA
This is ,NA,NA
very,NA,NA
" disappointing. As you can see, these are precisely the same numbers that are ",NA,NA
conveniently printed at the bottom of the UPC. (This makes a lot of sense because if the ,NA,NA
"scanner can't read the code for some reason, the person at the register can manually enter the ",NA,NA
"numbers. Indeed, you've undoubtedly seen this happen.) We didn't have to go through all that ",NA,NA
"work to decode them, and moreover, we haven't come close to decoding any secret ",NA,NA
information. Yet there isn't anything left in the UPC to decode. Those 30 vertical lines resolve ,NA,NA
to just 12 digits.,NA,NA
The first digit (a 0 in this case) is known as the ,NA,NA
number system character,NA,NA
. A 0 means that this ,NA,NA
is a regular UPC code. If the UPC appeared on variable-weight grocery items such as meat or ,NA,NA
"produce, the code would be a 2. Coupons are coded with a 5.",NA,NA
"The next five digits make up the manufacturer code. In this case, 51000 is the code for the ",NA,NA
Campbell Soup Company. All Campbell products have this code. The five digits that follow ,NA,NA
"(01251) are the code for a particular product of that company, in this case, the code for a 10 ",NA,NA
¾-ounce can of chicken noodle soup. This product code has meaning only when combined ,NA,NA
with the manufacturer's code. Another company's chicken noodle soup might have a ,NA,NA
"different product code, and a product code of 01251 might mean something totally different ",NA,NA
from another manufacturer.,NA,NA
"Contrary to popular belief, the UPC doesn't include the price of the item. That information ",NA,NA
has to be retrieved from the computer that the store uses in conjunction with the checkout ,NA,NA
scanners.,NA,NA
The final digit (a 7 in this case) is called the ,NA,NA
modulo check character,NA,NA
. This character enables ,NA,NA
"yet another form of error checking. To examine how this works, let's assign each of the first ",NA,NA
11 digits (0 51000 01251 in our example) a letter:,A BCDEF GHIJK,NA
Now calculate the following:,3 x (A + C + E + G + I + K) + (B + D + F + H + J),NA
and subtract that from the next highest multiple of 10. That's called the ,NA,NA
modulo check ,NA,NA
character,NA,NA
". In the case of Campbell's Chicken Noodle Soup, we have",3 x (0 + 1 + 0 + 0 + 2 + 1) + (5 + 0 + 0 + 1 + 5) = 3 x 4 + 11 = 23,NA
"The next highest multiple of 10 is 30, so",30 – 23 = 7,NA
and that's the modulo check character printed and encoded in the UPC. This is a form of ,NA,NA
redundancy. If the computer controlling the scanner doesn't calculate the same modulo ,NA,NA
"check character as the one encoded in the UPC, the computer won't accept the UPC as valid.",NA,NA
"Normally, only 4 bits would be required to specify a decimal digit from 0 through 9. The UPC ",NA,NA
"uses 7 bits per digit. Overall, the UPC uses 95 bits to encode only 11 useful decimal digits. ",NA,NA
"Actually, the UPC includes blank space (equivalent to nine 0 bits) at both the left and the ",NA,NA
right side of the guard pattern. That means the entire UPC requires 113 bits to encode 11 ,NA,NA
"decimal digits, or over 10 bits per decimal digit!",NA,NA
"Part of this overkill is necessary for error checking, as we've seen. A product code such ",NA,NA
as this wouldn't be very useful if it could be easily altered by a customer wielding a felt-,NA,NA
tip pen.,NA,NA
The UPC also benefits by being readable in both directions. If the first digits that the scanning ,NA,NA
"device decodes have even parity (that is, an even number of 1 bits in each 7-bit code), the ",NA,NA
scanner knows that it's interpreting the UPC code from right to left. The computer system ,NA,NA
then uses this table to decode the right-side digits:,NA,NA
Table 9-3. Right-Side Codes in Reverse,NA,NA
and this table for the left-side digits:,NA,NA
Table 9-4. Left-Side Codes in Reverse,"1011000 = 0 1000110 = 5
  
 1001100 = 1 1111010 = 
 6
  
 1100100 = 2 1101110 = 7
  
 1011110 = 3 1110110 = 
 8
  
 1100010 = 4 1101000 = 9",NA
These 7-bit codes are all different from the codes read when the UPC is scanned from left ,NA,NA
to right. There's no ambiguity.,NA,NA
"We began looking at codes in this book with Morse code, composed of dots, dashes, and ",NA,NA
pauses between the dots and dashes. Morse code doesn't immediately seem like it's ,NA,NA
"equivalent to zeros and ones, yet it is.",NA,NA
Recall the rules of Morse code: A dash is three times as long as a dot. The dots and dashes of a ,NA,NA
single letter are separated by a pause the length of a dot. Letters within a word are separated ,NA,NA
by pauses equal in length to a dash. Words are separated by pauses equal in length to two ,NA,NA
dashes.,NA,NA
"Just to simplify this analysis a bit, let's assume that a dash is twice the length of a dot rather ",NA,NA
than three times. That means that a dot can be a 1 bit and a dash can be two 1 bits. Pauses are ,NA,NA
0 bits.,NA,NA
Here's the basic table of Morse code from ,NA,NA
Chapter 2,NA,NA
:,NA,NA
Here's the table converted to bits:,NA,NA
Notice that all the codes begin with a 1 bit and end with a pair of 0 bits. The pair of 0 bits ,NA,NA
represents the pause between letters in the same word. The code for the space between ,NA,NA
"words is another pair of 0 bits. So the Morse code for ""hi there"" is normally given as",NA,NA
but Morse code using bits can look like the cross section of the UPC code:,NA,NA
"In terms of bits, Braille is much simpler than Morse code. Braille is a 6-bit code. Each ",NA,NA
"character is represented by an array of six dots, and each of the six dots can be either raised ",NA,NA
or not raised. As I explained in ,NA,NA
Chapter 3,NA,NA
", the dots are commonly numbered 1 through 6:",NA,NA
"The word ""code"" (for example) is represented by the Braille symbols:",NA,NA
"If a raised dot is 1 and a flat dot is 0, each of the characters in Braille can be represented by a ",NA,NA
"6-bit binary number. The four Braille symbols for the letters in the word ""code"" are then ",NA,NA
simply:,100100 101010 100110 100010,NA
"where the leftmost bit corresponds to the 1 position in the grid, and the rightmost bit ",NA,NA
corresponds to the 6 position.,NA,NA
"As we shall see later in this book, bits can represent words, pictures, sounds, music, and ",NA,NA
"movies as well as product codes, film speeds, movie ratings, an invasion of the British army, ",NA,NA
"and the intentions of one's beloved. But most fundamentally, bits are numbers. All that needs ",NA,NA
to be done when bits represent other information is to count the number of possibilities. This ,NA,NA
determines the number of bits that are needed so that each possibility can be assigned a ,NA,NA
number.,NA,NA
Bits also play a part in ,NA,NA
logic,NA,NA
", that strange blend of philosophy and mathematics for which a ",NA,NA
primary goal is to determine whether certain statements are true or false. True and false ,NA,NA
can also be 1 and 0.,NA,NA
Chapter 10. Logic and Switches,NA,NA
What is truth? Aristotle thought that logic had something to do with it. The collection of his ,NA,NA
teachings known as the ,NA,NA
Organon,NA,NA
 (which dates from the fourth century B.C.E.) is the earliest ,NA,NA
"extensive writing on the subject of logic. To the ancient Greeks, logic was a means of ",NA,NA
analyzing language in the search for truth and thus was considered a form of philosophy. The ,NA,NA
basis of Aristotle's logic was the ,NA,NA
syllogism,NA,NA
. The most famous syllogism (which isn't actually ,NA,NA
found in the works of Aristotle) is,"All men are mortal;
  
 Socrates is a man;
  
 Hence, Socrates is mortal.",NA
"In a syllogism, two premises are assumed to be correct, and from these a conclusion is ",NA,NA
deduced.,NA,NA
"The mortality of Socrates might seem straightforward enough, but there are many varieties ",NA,NA
"of syllogisms. For example, consider the following two premises, proposed by the ",NA,NA
nineteenth-century mathematician Charles Dodgson (also known as Lewis Carroll):,"All philosophers are logical;
  
 An illogical man is always obstinate.",NA
"The conclusion isn't obvious at all. (It's ""Some obstinate persons are not philosophers."" ",NA,NA
"Notice the unexpected and disturbing appearance of the word ""some."")",NA,NA
"For over two thousand years, mathematicians wrestled with Aristotle's logic, attempting to ",NA,NA
"corral it using mathematical symbols and operators. Prior to the nineteenth century, the only ",NA,NA
"person to come close was Gottfried Wilhelm von Leibniz (1648–1716), who dabbled with ",NA,NA
logic early in life but then went on to other interests (such as independently inventing ,NA,NA
calculus at the same time as Isaac Newton).,NA,NA
And then came George Boole.,NA,NA
George Boole was born in England in 1815 to a world where the odds were certainly stacked ,NA,NA
"against him. Because he was the son of a shoe-maker and a former maid, Britain's rigid class ",NA,NA
structure would normally have prevented Boole from achieving anything much different from ,NA,NA
his ancestors. But aided by an inquisitive mind and his helpful father (who had strong ,NA,NA
"interests in science, mathematics, and literature), young George gave himself the type of ",NA,NA
"education normally the privilege of upper-class boys; his studies included Latin, Greek, and ",NA,NA
mathematics. As a result of his early papers on ,NA,NA
"mathematics, in 1849 Boole was appointed the first Professor of Mathematics at Queen's ",NA,NA
"College, Cork, in Ireland.",NA,NA
Several mathematicians in the mid-1800s had been working on a mathematical definition of ,NA,NA
"logic (most notably Augustus De Morgan), but it was Boole who had the real conceptual ",NA,NA
"breakthrough, first in the short book ",NA,NA
"The Mathematical Analysis of Logic, Being an Essay ",NA,NA
Towards a Calculus of Deductive Reasoning,NA,NA
 (1847) and then in a much longer and more ,NA,NA
"ambitious text, ",NA,NA
An Investigation of the Laws of Thought on Which Are Founded the ,NA,NA
Mathematical Theories of Logic and Probabilities ,NA,NA
"(1854), more conveniently referred to as ",NA,NA
The ,NA,NA
Laws of Thought,NA,NA
. Boole died in 1864 at the age of 49 after hurrying to class in the rain and ,NA,NA
contracting pneumonia.,NA,NA
The title of Boole's 1854 book suggests an ambitious motivation: Because the rational ,NA,NA
"human brain uses logic to think, if we were to find a way in which logic can be represented ",NA,NA
"by mathematics, we would also have a mathematical description of how the brain works. Of ",NA,NA
"course, nowadays this view of the mind seems to us quite naive. (Either that or it's way ",NA,NA
ahead of its time.),NA,NA
Boole invented a kind of algebra that looks and acts very much like conventional algebra. In ,NA,NA
"conventional algebra, the ",NA,NA
operands,NA,NA
" (which are usually letters) stand for numbers, and the ",NA,NA
operators ,NA,NA
(most often + and x) indicate how these numbers are to be combined. Often we use ,NA,NA
conventional algebra to solve problems such as this: Anya has 3 pounds of tofu. Betty has ,NA,NA
twice as much tofu as Anya. Carmen has 5 pounds more tofu than Betty. Deirdre has three ,NA,NA
times the tofu that Carmen has. How much tofu does Deirdre have?,NA,NA
"To solve this problem, we first convert the English to arithmetical statements, using four ",NA,NA
letters to stand for the pounds of tofu that each of the four women has:,"A = 3
  
 B = 2 x A
  
 C = B + 5
  
 D = 3 x C",NA
We can combine these four statements into one statement by substitution and then finally ,NA,NA
perform the additions and multiplications:,D = 3 x C,NA
"When we do conventional algebra, we follow certain rules. These rules have probably ",NA,NA
become so ingrained in our practice that we no longer think of them as rules and might ,NA,NA
even forget their names. But rules indeed underlie all the workings of any form of ,NA,NA
mathematics.,NA,NA
The first rule is that addition and multiplication are ,NA,NA
commutative,NA,NA
. That means we can switch ,NA,NA
around the symbols on each side of the operations:,"A + B = B + A
  
 A x B = B x A",NA
"By contrast, subtraction and division are ",NA,NA
not,NA,NA
 commutative.,NA,NA
Addition and multiplication are also ,NA,NA
associative,NA,NA
", that is","A + (B + C) = (A + B) + C
  
 A x (B x C) = (A x B) x C",NA
"And finally, multiplication is said to be ",NA,NA
distributive,NA,NA
 over addition:,A x (B + C) = (A x B) + (A x C),NA
"Another characteristic of conventional algebra is that it always deals with numbers, such as ",NA,NA
pounds of tofu or numbers of ducks or distances that a train travels or the ages of family ,NA,NA
members. It was Boole's genius to make algebra more abstract by divorcing it from concepts ,NA,NA
"of number. In Boolean algebra (as Boole's algebra was eventually called), the operands refer ",NA,NA
not to numbers but instead to ,NA,NA
classes,NA,NA
". A class is simply a group of things, what in later times ",NA,NA
came to be known as a ,NA,NA
set,NA,NA
.,NA,NA
"Let's talk about cats. Cats can be either male or female. For convenience, we can use the letter ",NA,NA
M to refer to the class of male cats and F to refer to the class of female cats. Keep in mind that ,NA,NA
these two symbols do ,NA,NA
not,NA,NA
 represent numbers of cats. The number of male and female cats can ,NA,NA
change by the minute as new cats are born and old cats (regrettably) pass away. The letters ,NA,NA
"stand for classes of cats—cats with specific characteristics. Instead of referring to male cats, ",NA,NA
"we can just say ""M.""",NA,NA
"We can also use other letters to represent the color of the cats: For example, T can refer to ",NA,NA
"the class of tan cats, B can be the class of black cats, W the class of white cats, and O the class ",NA,NA
"of cats of all ""other"" colors—all cats not in the class T, B, or W.",NA,NA
"Finally (at least as far as this example goes), cats can be either neutered or unneutered. ",NA,NA
Let's use the letter N to refer to the class of neutered cats and U for the class of unneutered ,NA,NA
cats.,NA,NA
"In conventional (numeric) algebra, the operators + and x are used to indicate addition and ",NA,NA
"multiplication. In Boolean algebra, the same + and x symbols are used, and here's where ",NA,NA
things might get confusing. Everybody knows how to add and multiply numbers in ,NA,NA
"conventional algebra, but how do we add and multiply ",NA,NA
classes,NA,NA
?,NA,NA
"Well, we don't actually add and multiply in Boolean algebra. Instead, the + and x symbols ",NA,NA
mean something else entirely.,NA,NA
The + symbol in Boolean algebra means a ,NA,NA
union,NA,NA
 of two classes. A union of two classes is ,NA,NA
"everything in the first class combined with everything in the second class. For example, B + W ",NA,NA
represents the class of all cats that are either black or white.,NA,NA
The x symbol in Boolean algebra means an ,NA,NA
intersection,NA,NA
 of two classes. An intersection of two ,NA,NA
classes is everything that is in ,NA,NA
both,NA,NA
 the first class ,NA,NA
and,NA,NA
" the second class. For example, F x T ",NA,NA
"represents the class of all cats that are both female and tan. As in conventional algebra, we can ",NA,NA
write F x T as F·T or simply FT (which is what Boole preferred). You can think of the two ,NA,NA
"letters as two adjectives strung together: ""female tan"" cats.",NA,NA
"To avoid confusion between conventional algebra and Boolean algebra, sometimes the ",NA,NA
symbols U and ∩ are used for union and intersection instead of + and x. But part of Boole's ,NA,NA
"liberating influence on mathematics was to make the use of familiar operators more abstract, ",NA,NA
so I've decided to stick with his decision not to introduce new symbols into his algebra.,NA,NA
"The commutative, associative, and distributive rules all hold for Boolean algebra. What's ",NA,NA
"more, in Boolean algebra the + operator is distributive over the x operator. This isn't true of ",NA,NA
conventional algebra:,W + (B x F) = (W + B) x (W + F),NA
The union of white cats and black female cats is the same as the intersection of two unions: ,NA,NA
"the union of white cats and black cats, and the union of white cats and female cats. This is ",NA,NA
"somewhat difficult to grasp, but it works.",NA,NA
Two more symbols are necessary to complete Boolean algebra. These two symbols might look ,NA,NA
"like numbers, but they're really not because they're sometimes treated a little differently than ",NA,NA
"numbers. The symbol 1 in Boolean algebra means ""the universe""—that is, everything we're ",NA,NA
"talking about. In this example, the symbol 1 means ""the class of all cats."" Thus,",M + F = 1,NA
"This means that the union of male cats and female cats is the class of all cats. Similarly, the ",NA,NA
union of tan cats and black cats and white cats and other colored cats is also the class of all ,NA,NA
cats:,T + B + W + O = 1,NA
"And you achieve the class of all cats this way, too:",N + U = 1,NA
The 1 symbol can be used with a minus sign to indicate the universe ,NA,NA
excluding,NA,NA
 ,NA,NA
"something. For example,",1 – M,NA
is the class of all cats except the male cats. The universe excluding all male cats is the same ,NA,NA
as the class of female cats:,1 – M = F,NA
"The other symbol that we need is the 0, and in Boolean algebra the 0 means an empty class—",NA,NA
a class of nothing. The empty class results when we take an intersection of two mutually ,NA,NA
"exclusive classes, for example, cats that are both male and female:",F x M = 0,NA
Notice that the 1 and 0 symbols sometimes work the same way in Boolean algebra as in ,NA,NA
conventional,NA,NA
"algebra. For example, the intersection of all cats and female cats is the class of female cats: ",1 x F = F,NA
The intersection of no cats and female cats is the class of no cats: ,0 x F = 0,NA
The union of no cats and all female cats is the class of female cats: ,0 + F = F,NA
"But sometimes the result doesn't look the same as in conventional algebra. For example, the ",NA,NA
union of all cats and female cats is the class of all cats: ,1 + F = 1,NA
This doesn't make much sense in conventional algebra.,NA,NA
"Because F is the class of all female cats, and (1 – F) is the class of all cats that aren't ",NA,NA
"female, the union of these two classes is 1: ",F + (1 – F) = 1,NA
and the intersection of the two classes is 0: ,F x (1 – F) = 0,NA
"Historically, this formulation represents an important concept in logic: It's called the Law ",NA,NA
of Contradiction and indicates that something can't be both itself and the opposite of ,NA,NA
itself.,NA,NA
Where Boolean algebra really looks different from conventional algebra is in a statement ,NA,NA
like this: ,F x F = F,NA
The statement makes perfect sense in Boolean algebra: The intersection of female cats and ,NA,NA
female cats is still the class of female cats. But it sure wouldn't look quite right if F referred ,NA,NA
to a number.,NA,NA
Boole considered ,"X
 2
  = X",NA
to be the single statement that differentiates his algebra from conventional algebra. Another ,NA,NA
Boolean statement that looks funny in terms of conventional algebra is this: ,F + F = F,NA
The union of female cats and female cats is still the class of female cats.,NA,NA
Boolean algebra provides a mathematical method for solving the syllogisms of Aristotle. Let's ,NA,NA
"look at the first two-thirds of that famous syllogism again, but now using gender-neutral ",NA,NA
language: ,"All persons are mortal; 
  
  
 Socrates is a person.",NA
"We'll use P to represent the class of all persons, M to represent the class of mortal things, and ",NA,NA
"S to represent the class of Socrates. What does it mean to say that ""all persons are mortal""? It ",NA,NA
means that the intersection of the class of all persons and the class of all mortal things is the ,NA,NA
class of all persons:,NA,NA
"It would be wrong to say that P x M = M, because the class of all mortal things includes cats, ",NA,NA
"dogs, and elm trees.",NA,NA
"To say, ""Socrates is a person,"" means that the intersection of the class containing Socrates ",NA,NA
(a very small class) and the class of all persons (a much larger class) is the class containing ,NA,NA
Socrates:,S x P = S,NA
Because we know from the first equation that P equals (P x M) we can substitute that into the ,NA,NA
second equation:,S x (P x M) = S,NA
"By the associative law, this is the same as",(S x P) x M = S,NA
"But we already know that (S x P) equals S, so we can simplify by using this substitution:",S x M = S,NA
And now we're finished. This formula tells us that the intersection of Socrates and the class of ,NA,NA
"all mortal things is S, which means that Socrates is mortal. If we found instead that (S x M) ",NA,NA
"equaled 0, we'd conclude that Socrates wasn't mortal. If we found that (S x M) equaled M, the ",NA,NA
conclusion would have to be that Socrates was the only mortal thing and everything else was ,NA,NA
immortal!,NA,NA
Using Boolean algebra might seem like overkill for proving the obvious fact (particularly ,NA,NA
"considering that Socrates proved himself mortal 2400 years ago), but Boolean algebra can ",NA,NA
also be used to determine whether something satisfies a certain set of criteria. Perhaps one ,NA,NA
"day you walk into a pet shop and say to the salesperson, ""I want a male cat, neutered, either ",NA,NA
"white or tan; or a female cat, neutered, any color but white; or I'll take any cat you have as ",NA,NA
"long as it's black."" And the salesperson says to you, ""So you want a cat from the class of cats ",NA,NA
represented by the following expression:,(M x N x (W + T)) + (F x N x (1 – W)) + B,NA
"Right?"" And you say, ""Yes! Exactly!""",NA,NA
"In verifying that the salesperson is correct, you might want to forgo the concepts of union ",NA,NA
and intersection and instead switch to the words OR and AND. I'm capitalizing these words ,NA,NA
"because the words normally represent concepts in English, but they can also represent ",NA,NA
"operations in Boolean algebra. When you form a union of two classes, you're actually ",NA,NA
"accepting things from the first class OR the second class. And when you form an intersection, ",NA,NA
"you're accepting only those things in both the first class AND the second class. In addition, ",NA,NA
"you can use the word NOT wherever you see a 1 followed by a minus sign. In summary,",NA,NA
The + (previously known as a union) now means OR.,NA,NA
The x (previously known as an intersection) now means AND.,NA,NA
The 1 – (previously the universe without something) now means NOT.,NA,NA
So the expression can also be written like this:,(M AND N AND (W OR T)) OR (F AND N AND (NOT W)) OR B,NA
This is very nearly what you said. Notice how the parentheses clarify your intentions. You ,NA,NA
want a cat from one of three classes:,"(M AND N AND (W OR T))
  
 OR
  
 (F AND N AND (NOT W))
  
 OR
  
 B",NA
"With this formula written down, the salesperson can perform something called a ",NA,NA
Boolean test,NA,NA
.,NA,NA
"Without making a big fuss about it, I've subtly shifted to a somewhat different form of Boolean ",NA,NA
"algebra. In this form of Boolean algebra, letters no longer refer to classes. Instead, the letters ",NA,NA
can now be assigned numbers. The catch is that they can be assigned only the number 0 or 1. ,NA,NA
"The numeral 1 means Yes, True, this particular cat satisfies these criteria. The numeral 0 ",NA,NA
"means No, False, this cat doesn't satisfy these criteria.",NA,NA
First the salesperson brings out an unneutered tan male. Here's the expression of acceptable ,NA,NA
cats:,(M x N x (W + T)) + (F x N x (1 – W)) + B,NA
and here's how it looks with 0s and 1s substituted:,(1 x 0 x (0 + 1)) + (0 x 0 x (1 – 0)) + 0,NA
Notice that the only symbols assigned 1s are M and T because the cat is male and tan.,NA,NA
"What we must do now is simplify this expression. If it simplifies to 1, the cat satisfies your ",NA,NA
"criteria; if it simplifies to 0, the cat doesn't. While we're simplifying the expression, keep in ",NA,NA
"mind that we're not really adding and multiplying, although generally we can pretend that we ",NA,NA
are. Most of the same rules apply when + means OR and x means AND. (Sometimes in modern ,NA,NA
texts the symbols ^ and ν are used for AND and OR instead of x and +. But here's where the + ,NA,NA
and x signs perhaps make the most sense.),NA,NA
"When the x sign means AND, the possible results are","0 x 0 = 0
  
 0 x 1 = 0
  
 1 x 0 = 0
  
 1 x 1 = 1",NA
"In other words, the result is 1 only if both the left operand AND the right operand are 1. This ",NA,NA
"operation works exactly the same way as regular multiplication, and it can be summarized in ",NA,NA
"a little table, similar to the way the addition and multiplication tables were shown in ",NA,NA
Chapter ,NA,NA
8,NA,NA
:,"AND 
  
 0 
  
 1
  
 0
  
 0 
  
 0
  
 1
  
 0 
  
 1",NA
"When the + sign means OR, the possible results are",0 + 0 = 0,NA
The result is 1 if either the left operand OR the right operand is 1. This operation produces ,NA,NA
"results very similar to those of regular addition, except that in this case 1 + 1 equals 1. The OR ",NA,NA
operation can be summarized in another little table:,"OR 
  
 0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 1",NA
We're ready to use these tables to calculate the result of the ,NA,NA
expression ,(1 x 0 x 1) + (0 x 0 x 1) + 0 = 0 + 0 + 0 = 0,NA
"The result 0 means No, False, this kitty won't do.",NA,NA
Next the salesperson brings out a neutered white female. The original ,NA,NA
expression was ,(M x N x (W + T)) + (F x N x (1 – W)) + B,NA
Substitute the 0s and 1s again: ,(0 x 1 x (1 + 0)) + (1 x 1 x (1 – 1)) + 0,NA
And simplify it: ,(0 x 1 x 1) + (1 x 1 x 0) + 0 = 0 + 0 + 0 = 0,NA
And another poor kitten must be rejected.,NA,NA
"Next the salesperson brings out a neutered gray female. (Gray qualifies as an ""other"" ",NA,NA
color—not white or black or tan.) Here's the expression: ,(0 x 1 x (0 + 0)) + (1 x 1 x (1 – 0)) + 0,NA
Now simplify it: ,(0 x 1 x 0) + (1 x 1 x 1) + 0 = 0 + 1 + 0 = 1,NA
"The final result 1 means Yes, True, a kitten has found a home. (And it was the cutest one ",NA,NA
"too!) Later that evening, when the kitten is curled up sleeping in your lap, you wonder ",NA,NA
whether you could have wired some switches and a lightbulb to help you determine ,NA,NA
"whether particular kittens satisfied your criteria. (Yes, you are a strange kid.) Little do you ",NA,NA
realize that you're about to make a crucial conceptual breakthrough. You're about to ,NA,NA
perform some experiments that will unite the algebra of George Boole with electrical ,NA,NA
circuitry and thus make possible the design and construction of computers that work with ,NA,NA
binary numbers. But don't let that intimidate you.,NA,NA
"To begin your experiment, you connect a lightbulb and battery as you would normally, but ",NA,NA
you use two switches instead of one:,NA,NA
Switches connected in this way—one right after the other—are said to be wired ,NA,NA
in series,NA,NA
. ,NA,NA
"If you close the left switch, nothing happens:",NA,NA
"Similarly, if you leave the left switch open and close the right switch, nothing happens. The ",NA,NA
"lightbulb lights up only if both the left switch and the right switch are closed, as shown on the ",NA,NA
next page.,NA,NA
The key word here is ,NA,NA
and,NA,NA
. Both the left switch ,NA,NA
and,NA,NA
 the right switch must be closed for the ,NA,NA
current to flow through the circuit.,NA,NA
"This circuit is performing a little exercise in logic. In effect, the lightbulb is answering the ",NA,NA
"question ""Are both switches closed?"" We can summarize the workings of this circuit in the ",NA,NA
following table:,NA,NA
"In the preceding chapter, we saw how binary digits, or bits, can represent information—",NA,NA
everything from numbers to the direction of Roger Ebert's thumb. We were able to say that a ,NA,NA
"0 bit means ""Ebert's thumb points down"" and a 1 bit means ""Ebert's thumb points up."" A ",NA,NA
"switch has two positions, so it can represent a bit. We can say that a 0 means ""switch is open"" ",NA,NA
"and a 1 means ""switch is closed."" A lightbulb has two states; hence it too can represent a bit. ",NA,NA
"We can say that a 0 means ""lightbulb is not lit"" and a 1 means ""lightbulb is lit."" Now we simply ",NA,NA
rewrite the table:,"Left Switch
  
  Right Switch
  
  Lightbulb
  
 0
  
 0
  
 0
  
 0
  
 1
  
 0
  
 1
  
 0
  
 0
  
 1
  
 1
  
 1",NA
"Notice that if we swap the left switch and the right switch, the results are the same. We ",NA,NA
really don't have to identify which switch is which. So the table can be rewritten to ,NA,NA
resemble the AND and OR tables that were shown earlier:,"Switches in Series 
  
 0 
  
 1
  
 0
  
 0 
  
 0
  
 1
  
 0 
  
 1",NA
"And indeed, this is the ",NA,NA
same,NA,NA
 as the AND table. Check it out:,"AND 
  
 0 
  
 1
  
 0
  
 0 
  
 0
  
 1
  
 0 
  
 1",NA
This simple circuit is actually performing an AND operation in Boolean ,NA,NA
algebra. Now try connecting the two switches a little differently:,NA,NA
These switches are said to be connected ,NA,NA
in parallel,NA,NA
. The difference between this and the ,NA,NA
preceding connection is that this lightbulb will light if you close the top switch:,NA,NA
or close the bottom switch:,NA,NA
or close both switches:,NA,NA
The lightbulb lights if the top switch ,NA,NA
or,NA,NA
 the bottom switch is closed. The key word here is ,NA,NA
or,NA,NA
". Again, the circuit is performing an exercise in logic. The lightbulb answers the question, ",NA,NA
"""Is either switch closed?"" The following table summarizes how this circuit works:","Left Switch
  
  Right Switch
  
  Lightbulb
  
 Open
  
 Open
  
 Not lit
  
 Open
  
 Closed
  
 Lit
  
 Closed
  
 Open
  
 Lit
  
 Closed
  
 Closed
  
 Lit",NA
"Again, using 0 to mean an open switch or an unlit lightbulb and 1 to mean a closed switch ",NA,NA
"or a lit lightbulb, this table can be rewritten this way:","Left Switch
  
  Right Switch
  
  Lightbulb
  
 0
  
 0
  
 0
  
 0
  
 1
  
 1
  
 1
  
 0
  
 1
  
 1
  
 1
  
 1",NA
"Again it doesn't matter if the two switches are swapped, so the table can also be rewritten ",NA,NA
like this:,"Switches in Parallel
  
  0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 1",NA
And you've probably already guessed that this is the same as the Boolean OR:,NA,NA
which means that two switches in parallel are performing the equivalent of a Boolean OR ,NA,NA
operation.,NA,NA
"When you originally entered the pet shop, you told the salesperson, ""I want a male cat, ",NA,NA
"neutered, either white or tan; or a female cat, neutered, any color but white; or I'll take any cat ",NA,NA
"you have as long as it's black,"" and the salesperson developed this expression:",(M x N x (W + T)) + (F x N x (1 – W)) + B,NA
Now that you know that two switches wired in series perform a logical AND (which is ,NA,NA
represented by a x sign) and two switches in parallel perform a logical OR (which is ,NA,NA
"represented by the + sign), you can wire up eight switches like so:",NA,NA
Each switch in this circuit is labeled with a letter—the same letters as in the Boolean ,NA,NA
expression. (,NA,NA
"means NOT W and is an alternative way to write 1 – W). Indeed, if you go through the wiring ",NA,NA
"diagram from left to right starting at the top and moving from top to bottom, you'll encounter ",NA,NA
the letters in the same order that they appear in the expression. Each x sign in the expression ,NA,NA
corresponds to a point in the circuit where two switches (or groups of switches) are ,NA,NA
connected in series. Each + sign in the expression corresponds to a place in the circuit where ,NA,NA
two switches (or groups of switches) are connected in parallel.,NA,NA
"As you'll recall, the salesperson first brought out an unneutered tan male. Close the ",NA,NA
appropriate switches:,NA,NA
"Although the M, T, and NOT W switches are closed, we don't have a complete circuit to light ",NA,NA
up the lightbulb. Next the salesperson brought out a neutered white female:,NA,NA
"Again, the right switches aren't closed to complete a circuit. But finally, the salesperson ",NA,NA
brought out a neutered gray female:,NA,NA
"And that's enough to complete the circuit, light up the lightbulb, and indicate that the kitten ",NA,NA
satisfies all your criteria.,NA,NA
George Boole never wired such a circuit. He never had the thrill of seeing a Boolean ,NA,NA
"expression realized in switches, wires, and lightbulbs. One obstacle, of course, was that the ",NA,NA
incandescent lightbulb wasn't invented until 15 years after Boole's death. But Samuel Morse ,NA,NA
had demonstrated his telegraph in 1844—ten years before the publication of Boole's ,NA,NA
The ,NA,NA
Laws of Thought,NA,NA
—and it would be simple to substitute a telegraph sounder for the lightbulb ,NA,NA
in the circuit shown above.,NA,NA
But nobody in the nineteenth century made the connection between the ANDs and ORs of ,NA,NA
"Boolean algebra and the wiring of simple switches in series and in parallel. No mathematician, ",NA,NA
"no electrician, no telegraph operator, nobody. Not even that icon of the computer revolution ",NA,NA
"Charles Babbage (1792–1871), who had corresponded with Boole and knew his work, and ",NA,NA
who struggled for much of his life designing first a Difference Engine and then an Analytical ,NA,NA
Engine that a century later would be regarded as the precursors to modern computers. What ,NA,NA
"might have helped Babbage, we know now, was the realization that perhaps instead of gears ",NA,NA
"and levers to perform calculations, a computer might better be built out of telegraph relays.",NA,NA
"Yes, telegraph relays.",NA,NA
Chapter 11. Gates (Not Bill),NA,NA
"In some far-off distant time, when the twentieth century history of primitive computing is just ",NA,NA
"a murky memory, someone is likely to suppose that devices known as ",NA,NA
logic gates,NA,NA
 were named ,NA,NA
"after the famous co-founder of Microsoft Corporation. Not quite. As we'll soon see, logic gates ",NA,NA
bear a much greater resemblance to those ordinary gates through which pass water or people. ,NA,NA
Logic gates perform simple tasks in logic by blocking or letting through the flow of electrical ,NA,NA
current.,NA,NA
"You'll recall how in the last chapter you went into a pet shop and announced, ""I want a ",NA,NA
"male cat, neutered, either white or tan; or a female cat, neutered, any color but white; or I'll ",NA,NA
"take any cat you have as long as it's black."" This is summarized by the following Boolean ",NA,NA
expression:,(M x N x (W + T)) + (F x N x (1 – W)) + B,NA
and also by this circuit made up of switches and a lightbulb:,NA,NA
Such a circuit is sometimes called a ,NA,NA
network,NA,NA
", except that nowadays that word is used ",NA,NA
much more often to refer to connected computers rather than an assemblage of mere ,NA,NA
switches.,NA,NA
"Although this circuit contains nothing that wasn't invented in the nineteenth century, nobody ",NA,NA
in that century ever realized that Boolean expressions could be directly realized in electrical ,NA,NA
"circuits. This equivalence wasn't discovered until the 1930s, most notably by Claude Elwood ",NA,NA
"Shannon (born 1916), whose famous 1938 M.I.T. master's thesis was entitled ""A Symbolic ",NA,NA
"Analysis of Relay and Switching Circuits."" (Ten years later, Shannon's article ""The ",NA,NA
"Mathematical Theory of Communication"" was the first publication that used the word ",NA,NA
bit,NA,NA
 to ,NA,NA
mean ,NA,NA
binary digit,NA,NA
.),NA,NA
"Prior to 1938, people knew that when you wired two switches in series, both switches had to ",NA,NA
"be closed for current to flow, and when you wired two switches in parallel, one or the other ",NA,NA
had to be closed. But nobody had shown with Shannon's clarity and rigor that electrical ,NA,NA
engineers could use all the tools of Boolean algebra to design circuits with switches. In ,NA,NA
"particular, if you can simplify a Boolean expression that describes a network, you can simplify ",NA,NA
the network accordingly.,NA,NA
"For example, the expression that indicates the characteristics you want in a cat looks like this:",(M x N x (W + T)) + (F x N x (1 – W)) + B,NA
"Using the associative law, we can reorder the variables that are combined with the AND (x) ",NA,NA
signs,NA,NA
and rewrite the expression this way: ,(N x M x (W + T)) + (N x F x (1 – W)) + B,NA
"In an attempt to clarify what I'm going to do here, I'll define two new symbols named X ",NA,NA
and Y: ,"X = M x (W + T) 
  
  
 Y = F x (1 – W)",NA
Now the expression for the cat you want can be written like this: ,(N x X) + (N x Y) + B,NA
"After we're finished, we can put the X and Y expressions back in.",NA,NA
"Notice that the N variable appears twice in the expression. Using the distributive law, the ",NA,NA
"expression can be rewritten like this, with only one N: ",(N x (X + Y)) + B,NA
Now let's put the X and Y expressions back in: ,(N x ((M x (W + T)) + (F x (1 – W)))) + B,NA
"Due to the plethora of parentheses, this expression hardly looks simplified. But there's one ",NA,NA
"less variable in this expression, which means there's one less switch in the network. Here's ",NA,NA
the revised version:,NA,NA
"Indeed, it's probably easier to see that this network is equivalent to the earlier one than to ",NA,NA
verify that the expressions are the same.,NA,NA
"Actually, there are still three too many switches in this network. In theory, you need only four ",NA,NA
switches to define your perfect cat. Why four? Each switch is a bit. You should be able to get ,NA,NA
"by with one switch for the sex (off for male, on for female), another switch that's on for ",NA,NA
"neutered, off for unneutered, and two more switches for the color. There are four possible ",NA,NA
"colors (white, black, tan, and ""other""), and we know that four choices can be defined with 2 ",NA,NA
"bits, so all you need are two color switches. For example, both switches can be off for white, ",NA,NA
"one switch on for black, the other switch on for tan, and both switches on for other colors.",NA,NA
Let's make a control panel right now for choosing a cat. The control panel is simply four ,NA,NA
switches (much like the on/off switches you have on your walls for controlling your lights) ,NA,NA
and a lightbulb mounted in a panel:,NA,NA
"The switches are on (closed) when they're up, and off (open) when they're down. The two ",NA,NA
"switches for the cat's color are labeled somewhat obscurely, I'm afraid, but that's a drawback ",NA,NA
of reducing this panel to the bare minimum: The left switch of the pair is labeled B; that means ,NA,NA
that the left switch on by itself (as shown) indicates the color black. The right switch of the ,NA,NA
pair is labeled T; that switch on by itself means the color tan. Both switches up means other ,NA,NA
"colors; this choice is labeled O. Both switches down means the color white, indicated by W, the ",NA,NA
letter at the bottom.,NA,NA
"In computer terminology, the switches are an ",NA,NA
input device,NA,NA
. Input is information that controls ,NA,NA
"how a circuit behaves. In this case, the input switches correspond to 4 bits of information that ",NA,NA
describe a cat. The ,NA,NA
output device,NA,NA
 is the lightbulb. This bulb lights up if the switches describe a ,NA,NA
satisfactory cat. The switches shown in the control panel on page 104 are set for a female ,NA,NA
"unneutered black cat. This satisfies your criteria, so the lightbulb is lit.",NA,NA
Now all we have to do is design a circuit that makes this control panel work.,NA,NA
"You'll recall that Claude Shannon's thesis was entitled ""A Symbolic Analysis of Relay and ",NA,NA
"Switching Circuits."" The relays he was referring to were quite similar to the telegraph relays ",NA,NA
that we ,NA,NA
encountered in ,NA,NA
Chapter 6,NA,NA
". By the time of Shannon's paper, however, relays were being used ",NA,NA
"for other purposes and, in particular, in the vast network of the telephone system.",NA,NA
"Like switches, relays can be connected in series and in parallel to perform simple tasks in ",NA,NA
logic. These combinations of relays are called ,NA,NA
logic gates,NA,NA
. When I say that these logic gates ,NA,NA
perform ,NA,NA
simple ,NA,NA
"tasks in logic, I mean as simple as possible. Relays have an advantage over ",NA,NA
switches in that relays can be switched on and off by other relays rather than by fingers. This ,NA,NA
"means that logic gates can be combined to perform more complex tasks, such as simple ",NA,NA
"functions in arithmetic. Indeed, the next chapter will demonstrate how to wire switches, ",NA,NA
"lightbulbs, a battery, and telegraph relays to make an adding machine (albeit one that works ",NA,NA
solely with binary numbers).,NA,NA
"As you recall, relays were crucial to the workings of the telegraph system. Over long distances, ",NA,NA
the wires connecting telegraph stations had a very high resistance. Some method was needed ,NA,NA
to receive a weak signal and send an identical strong signal. The relay did this by using an ,NA,NA
"electromagnet to control a switch. In effect, the relay ",NA,NA
amplified,NA,NA
 a weak signal to create a strong ,NA,NA
signal.,NA,NA
"For our purposes, we're not interested in using the relay to amplify a weak signal. We're ",NA,NA
interested only in the idea of a relay being a switch that can be controlled by electricity ,NA,NA
rather than by fingers.,NA,NA
"We can wire a relay with a switch, a lightbulb, and a couple of batteries like this:",NA,NA
"Notice that the switch at the left is open and the lightbulb is off. When you close the switch, ",NA,NA
the battery at the left causes current to flow through the many turns of wire around the iron ,NA,NA
bar. The iron bar becomes magnetic and pulls down a flexible metal contact that connects the ,NA,NA
circuit to turn on the lightbulb:,NA,NA
"When the electromagnet pulls the metal contact, the relay is said to be ",NA,NA
triggered,NA,NA
. When the ,NA,NA
"switch is turned off, the iron bar stops being magnetic, and the metal contact returns to its ",NA,NA
normal position.,NA,NA
"This seems like a rather indirect route to light the bulb, and indeed it is. If we were interested ",NA,NA
"only in lighting the bulb, we could dispense with the relay entirely. But we're not interested ",NA,NA
in lighting bulbs. We have a much more ambitious goal.,NA,NA
We're going to be using relays a lot in this chapter (and then hardly at all after the logic gates ,NA,NA
"have been built), so I want to simplify the diagram. We can eliminate some of the wires by ",NA,NA
"using a ground. In this case, the grounds simply represent a common connection; they don't ",NA,NA
need to be connected to the physical earth:,NA,NA
"I know this doesn't look like a simplification, but we're not done yet. Notice that the ",NA,NA
negative terminals of both batteries are connected to ground. So anywhere we see ,NA,NA
something like this:,NA,NA
let's replace it with the capital letter V (which stands for ,NA,NA
voltage,NA,NA
"), as we did in Chapters ",NA,NA
Chapter 5 ,NA,NA
and ,NA,NA
Chapter 6,NA,NA
. Now our relay looks like this:,NA,NA
"When the switch is closed, a current flows between V and ground through the coils of the ",NA,NA
electromagnet. This causes the electromagnet to pull the flexible metal contact. That ,NA,NA
"connects the circuit between V, the lightbulb, and ground. The bulb lights up:",NA,NA
"These diagrams of the relay show two voltage sources and two grounds, but in all the ",NA,NA
"diagrams in this chapter, all the V's can be connected to one another and all the grounds can ",NA,NA
be connected to one another. All the networks of relays and logic gates in this chapter and the ,NA,NA
"next will require only one battery, although it might need to be a big battery. For example, the ",NA,NA
preceding diagram can be redrawn with only one battery like this:,NA,NA
"But for what we need to do with relays, this diagram isn't very clear. It's better to avoid the ",NA,NA
circular circuits and look at the relay—like the control panel earlier—in terms of ,NA,NA
inputs,NA,NA
 and ,NA,NA
outputs,NA,NA
:,NA,NA
"If a current is flowing through the input (for example, if a switch connects the input to ",NA,NA
"V), the electromagnet is triggered and the output has a voltage.",NA,NA
"The input of a relay need not be a switch, and the output of a relay need not be a lightbulb. ",NA,NA
"The output of one relay can be connected to the input of another relay, for example, like this:",NA,NA
"When you turn the switch on, the first relay is triggered, which then provides a voltage to ",NA,NA
the second relay. The second relay is triggered and the light goes on:,NA,NA
Connecting relays is the key to building logic gates.,NA,NA
"Actually, the lightbulb can be connected to the relay in two ways. Notice the flexible metal ",NA,NA
"piece that's pulled by the electromagnet. At rest, it's touching one contact; when the ",NA,NA
"electromagnet pulls it, it hits another contact. We've been using that lower contact as the ",NA,NA
"output of the relay, but we could just as well use the upper contact. When we use this contact, ",NA,NA
the output of the relay is reversed and the lightbulb is on when the input switch is open:,NA,NA
"And when the input switch is closed, the bulb goes out:",NA,NA
"Using the terminology of switches, this type of relay is called a ",NA,NA
double-throw,NA,NA
 relay. It has two ,NA,NA
"outputs that are electrically opposite—when one has a voltage, the other doesn't.",NA,NA
"By the way, if you're having a tough time visualizing what modern relays look like, you can see ",NA,NA
"a few in conveniently transparent packaging at your local Radio Shack. Some, like the heavy-",NA,NA
"duty relays with Radio Shack part numbers 275-206 and 275-214, are about the size of ice ",NA,NA
"cubes. The insides are encased in a clear plastic shell, so you can see the electromagnet and ",NA,NA
the metal contacts. The circuits I'll be describing in this chapter and the next could be built ,NA,NA
"using Radio Shack part number 275-240 relays, which are smaller (about the size of a Chiclet) ",NA,NA
and cheaper ($2.99 apiece).,NA,NA
"Just as two switches can be connected in series, two relays can be connected in series:",NA,NA
"The output of the top relay supplies a voltage to the second relay. As you can see, when both ",NA,NA
"switches are open, the lightbulb isn't lit. We can try closing the top switch:",NA,NA
Still the lightbulb doesn't light because the bottom switch is still open and that relay isn't ,NA,NA
triggered. We can try opening the top switch and closing the bottom switch:,NA,NA
The lightbulb is still not lit. The current can't reach the lightbulb because the first relay isn't ,NA,NA
triggered. The only way to get the bulb to light up is to close both switches:,NA,NA
"Now both relays are triggered, and current can flow between V, the lightbulb, and ground.",NA,NA
"Like the two switches wired in series, these two relays are performing a little exercise in logic. ",NA,NA
The bulb lights up only if both relays are triggered. These two relays wired in series are ,NA,NA
known as an ,NA,NA
AND gate,NA,NA
". To avoid excessive drawing, electrical engineers have a special symbol ",NA,NA
for an AND gate.,NA,NA
That symbol looks like this:,NA,NA
This is the first of four basic logic gates. The AND gate has two inputs (at the left in this ,NA,NA
diagram) and one output (at the right). You'll often see the AND gate drawn as this one is with ,NA,NA
the inputs at the left and the output at the right. That's because people who are accustomed to ,NA,NA
reading from left to right also like to read electrical diagrams from left to right. But the AND ,NA,NA
"gate can just as well be drawn with the inputs at the top, the right, or the bottom.",NA,NA
The original circuit with the two relays wired in series with two switches and a lightbulb ,NA,NA
looked like this:,NA,NA
"Using the symbol for the AND gate, this same circuit looks like this:",NA,NA
"Notice that this symbol for the AND gate not only takes the place of two relays wired in series, ",NA,NA
"but it also implies that the top relay is connected to a voltage, and both relays are connected ",NA,NA
"to ground. Again, the lightbulb lights up only if both the top switch ",NA,NA
and,NA,NA
 the bottom switch are ,NA,NA
closed. That's why it's called an ,NA,NA
AND gate,NA,NA
.,NA,NA
"The inputs of the AND gate don't necessarily have to be connected to switches, and the output ",NA,NA
doesn't necessarily have to be connected to a lightbulb. What we're really dealing with here ,NA,NA
"are voltages at the inputs and a voltage at the output. For example, the output of one AND ",NA,NA
"gate can be an input to a second AND gate, like this:",NA,NA
This bulb will light up only if all three switches are closed. Only if the top two switches are ,NA,NA
closed will the output of the first AND gate trigger the first relay in the second AND gate. The ,NA,NA
bottom switch triggers the second relay in the second AND gate.,NA,NA
"If we think of the absence of a voltage as a 0, and the presence of a voltage as a 1, the output ",NA,NA
of the AND gate is dependent on inputs like this:,NA,NA
"As with the two switches wired in series, the AND gate can also be described in this little ",NA,NA
table:,"AND 
  
 0 
  
 1
  
 0
  
 0 
  
 0
  
 1
  
 0 
  
 1",NA
"It's also possible to make AND gates with more than two inputs. For example, suppose you ",NA,NA
connect three relays in series:,NA,NA
The lightbulb lights up only if all three switches are closed. This configuration is expressed ,NA,NA
by this symbol:,NA,NA
It's called a 3-input AND gate.,NA,NA
The next logic gate involves two relays that are wired in parallel like this:,NA,NA
Notice that the outputs of the two relays are connected to each other. This connected output ,NA,NA
then provides power for the lightbulb. Either one of the two relays is enough to light the ,NA,NA
"bulb. For example, if we close the top switch, the bulb lights up. The bulb is getting power ",NA,NA
from the left relay.,NA,NA
"Similarly, if we leave the top switch open but close the bottom switch, the bulb lights up:",NA,NA
The bulb also lights if both switches are closed:,NA,NA
What we have here is a situation in which the bulb lights up if the top switch ,NA,NA
or,NA,NA
 the bottom ,NA,NA
switch is closed. The key word here is ,NA,NA
or,NA,NA
", so this is called the ",NA,NA
OR gate,NA,NA
. Electrical engineers ,NA,NA
use a symbol for the OR gate that looks like this:,NA,NA
"It's somewhat similar to the symbol for the AND gate except that the input side is rounded, ",NA,NA
much like the O in OR. (That might help you to keep them straight.),NA,NA
"The output of the OR gate supplies a voltage if either of the two inputs has a voltage. Again, if ",NA,NA
"we say that the absence of a voltage is 0 and the presence of a voltage is 1, the OR gate has ",NA,NA
four possible states:,NA,NA
"In the same way that we summarized the output of the AND gate, we can summarize the ",NA,NA
output of the OR gate:,"OR 
  
 0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 1",NA
OR gates can also have more than two inputs. (The output of such a gate is 1 if any of the ,NA,NA
inputs are 1; the output is 0 only if all the outputs are 0.),NA,NA
Earlier I explained how the relays that we're using are called ,NA,NA
double-throw,NA,NA
 relays because an ,NA,NA
"output can be connected two different ways. Normally, the bulb isn't lit when the switch is ",NA,NA
open:,NA,NA
"When the switch is closed, the bulb lights up.",NA,NA
"Alternatively, you can use the other contact so that the bulb is lit when the switch is ",NA,NA
open,NA,NA
:,NA,NA
"In this case, the lightbulb goes out when you close the switch. A single relay wired in this way ",NA,NA
is called an ,NA,NA
inverter,NA,NA
. An inverter isn't a logic gate (logic gates always have two or more ,NA,NA
"inputs), but it's often very useful nonetheless. It's represented by a special symbol that looks ",NA,NA
like this:,NA,NA
It's called an inverter because it inverts 0 (no voltage) to 1 (voltage) and vice versa:,NA,NA
"With the inverter, the AND gate, and the OR gate, we can start wiring the control panel to ",NA,NA
automate a choice of the ideal kitty. Let's begin with the switches. The first switch is closed ,NA,NA
"for female and open for male. Thus we can generate two signals that we'll call F and M, like ",NA,NA
this:,NA,NA
"When F is 1, M will be 0 and vice versa. Similarly, the second switch is closed for a neutered ",NA,NA
cat and open for an unneutered cat:,NA,NA
"The next two switches are more complicated. In various combinations, these switches must ",NA,NA
"indicate four different colors. Here are the two switches, both wired to a voltage:",NA,NA
"When both switches are open (as shown), they indicate the color white. Here's how to use ",NA,NA
"two inverters and one AND gate to generate a signal I'll call W, which is a voltage (1) if ",NA,NA
you select a white cat and not a voltage (0) if not:,NA,NA
"When the switches are open, the inputs to both inverters are 0. The outputs of the inverters ",NA,NA
(which are inputs to the AND gate) are thus both 1. That means the output of the AND gate is ,NA,NA
"1. If either of the switches is closed, the output of the AND gate will be a 0.",NA,NA
"To indicate a black cat, we close the first switch. This can be realized using one inverter and an ",NA,NA
AND gate:,NA,NA
The output of the AND gate will be 1 only if the first switch is closed and the second switch is ,NA,NA
open.,NA,NA
"Similarly, if the second switch is closed, we want a tan cat:",NA,NA
"And if both switches are closed, we want a cat of an ""other"" color:",NA,NA
"Now let's combine all four little circuits into one big circuit. (As usual, the black dots ",NA,NA
indicate connections between wires in the circuit; wires that cross without black dots ,NA,NA
are ,NA,NA
not connected,NA,NA
.),NA,NA
"Yes, I know this set of connections now looks very complicated. But if you trace through very ",NA,NA
carefully—if you look at the two inputs to each AND gate to see where they're coming from ,NA,NA
and try to ignore where they're also going—you'll see that the circuit works. If both switches ,NA,NA
"are off, the W output will be 1 and the rest will be 0. If the first switch is closed, the B output ",NA,NA
"will be 1 and the rest will be 0, and so forth.",NA,NA
Some simple rules govern how you can connect gates and inverters: The output of one ,NA,NA
gate (or inverter) can be the input to one or more other gates (or inverters). But the ,NA,NA
outputs of two or more gates (or inverters) are never connected to one another.,NA,NA
This circuit of four AND gates and two inverters is called a ,NA,NA
2-Line-to-4-Line Decoder,NA,NA
. The input ,NA,NA
is two bits that in various combinations can represent four different values. The output is four ,NA,NA
"signals, only one of which is 1 at any time, depending on the two input values. On similar ",NA,NA
"principles, you can make a 3-Line-to-8-Line Decoder or a 4-Line-to-16-Line Decoder, and so ",NA,NA
forth.,NA,NA
The simplified version of the cat-selection expression was,(N x ((M x (W + T)) + (F x (1 – W)))) + B,NA
"For every + sign in this expression, there must be an OR gate in the circuit. For every x ",NA,NA
"sign, there must be an AND gate.",NA,NA
The symbols down the left side of the circuit diagram are in the same order as they ,NA,NA
appear in the expression. These signals come from the switches wired with inverters and ,NA,NA
the 2-line-to-4-line decoder. Notice the use of the inverter for the (1 – W) part of the ,NA,NA
expression.,NA,NA
"Now you might say, ""That's a heck of a lot of relays,"" and yes, that's true. There are two ",NA,NA
"relays in every AND gate and OR gate, and one relay for each inverter. I'd say the only ",NA,NA
"realistic response is,",NA,NA
"""Get used to it."" We'll be using a lot more relays in the chapters ahead. Just be thankful ",NA,NA
you don't actually have to buy them and wire them at home.,NA,NA
We'll look at two more logic gates in this chapter. Both use the output of the relay that ,NA,NA
normally has a voltage present when the relay is untriggered. (This is the output used in the ,NA,NA
"inverter.) For example, in this configuration the output from one relay supplies power to a ",NA,NA
"second relay. With both inputs off, the lightbulb is on:",NA,NA
"If the top switch is closed, the bulb goes off:",NA,NA
"The light goes off because power is no longer being supplied to the second relay. Similarly, ",NA,NA
"if the bottom switch is closed, the light is also off:",NA,NA
"And if both switches are closed, the lightbulb is off:",NA,NA
This behavior is precisely the opposite of what happens with the OR gate. It's called ,NA,NA
NOT ,NA,NA
OR,NA,NA
" or, more concisely, ",NA,NA
NOR,NA,NA
. This is the symbol for the NOR gate:,NA,NA
It's the same as the symbol for the OR except with a little circle at the output. The circle means ,NA,NA
invert,NA,NA
. The NOR is the same as,NA,NA
The output of the NOR gate is shown in the following table:,"NOR 
  
 0 
  
 1
  
 0
  
 1 
  
 0
  
 1
  
 0 
  
 0",NA
"This table shows results opposite those of the OR gate, which are 1 if either of the two inputs ",NA,NA
is 1 and 0 only if both inputs are 0.,NA,NA
And yet another way to wire two relays is shown here:,NA,NA
"In this case, the two outputs are connected, which is similar to the OR configuration but ",NA,NA
using the other contacts. The lightbulb is on when both switches are open.,NA,NA
The lightbulb remains on when the top switch is closed:,NA,NA
"Similarly, the lightbulb remains on when the bottom switch is closed:",NA,NA
Only when both switches are closed does the lightbulb go off:,NA,NA
This behavior is exactly opposite that of the AND gate. This is called ,NA,NA
NOT AND,NA,NA
" or, more ",NA,NA
"concisely, ",NA,NA
NAND,NA,NA
. The NAND gate is drawn just like the AND gate but with a circle at the ,NA,NA
"output, meaning the output is the inverse of the AND gate:",NA,NA
The NAND gate has the following behavior:,"NAND 
  
 0 
  
 1
  
 0
  
 1 
  
 1
  
 1
  
 1 
  
 0",NA
Notice that the output of the NAND gate is opposite the AND gate. The output of the AND ,NA,NA
"gate is 1 only if both inputs are 1; otherwise, the output is 0.",NA,NA
"At this point, we've looked at four different ways of wiring relays that have two inputs and ",NA,NA
one output. Each configuration behaves in a slightly different way. To avoid drawing and ,NA,NA
"redrawing the relays, we've called them logic gates and decided to use the same symbols to ",NA,NA
represent them that are used by electrical engineers. The output of the particular logic gate ,NA,NA
"depends on the input, which is summarized here:",NA,NA
So now we have four logic gates and the inverter. Completing this array of tools is just a ,NA,NA
regular old relay:,NA,NA
This is called a ,NA,NA
buffer,NA,NA
", and this is the symbol for it:",NA,NA
It's the same symbol as the inverter but without the little circle. The buffer is remarkable for ,NA,NA
not doing much. The output of the buffer is the same as the input:,NA,NA
But you can use a buffer when an input signal is weak. You'll recall that this was the reason ,NA,NA
relays were used with the telegraph many years ago. Or a buffer can be used to slightly delay ,NA,NA
a signal. This works because the relay requires a little time—some fraction of a second—to ,NA,NA
be triggered.,NA,NA
"From here on in the book, you'll see very few drawings of relays. Instead, the circuits that ",NA,NA
"follow will be built from buffers, inverters, the four basic logic gates, and more sophisticated ",NA,NA
circuits (like the 2-Line-to-4-Line Decoder) built from these logic gates. All these other ,NA,NA
"components are made from relays, of course, but we don't actually have to look at the relays.",NA,NA
"Earlier, when building the 2-Line-to-4-Line Decoder, we saw a little circuit that looked like ",NA,NA
this:,NA,NA
Two inputs are inverted and become inputs to an AND gate. Sometimes a configuration ,NA,NA
like this is drawn without the inverters:,NA,NA
Notice the little circles at the input to the AND gate. Those little circles mean that the ,NA,NA
signals are inverted at that point—a 0 (no voltage) becomes a 1 (voltage) and vice versa.,NA,NA
An AND gate with two inverted inputs does exactly the same thing as a NOR gate:,NA,NA
The output is 1 only if both inputs are 0.,NA,NA
"Similarly, an OR gate with the two inputs inverted is equivalent to a NAND gate:",NA,NA
The output is 0 only if both inputs are 1.,NA,NA
These two pairs of equivalent circuits represent an electrical implementation of ,NA,NA
De Morgan's ,NA,NA
Laws,NA,NA
.,NA,NA
"Augustus De Morgan was another Victorianera mathematician, nine years older than Boole, ",NA,NA
whose book ,NA,NA
Formal Logic,NA,NA
" was published in 1847, the very same day (the story goes) as ",NA,NA
Boole's ,NA,NA
The Mathematical Analysis of Logic,NA,NA
". Indeed, Boole had been inspired to investigate ",NA,NA
logic by a very public feud that was being waged between De Morgan and another British ,NA,NA
mathematician involving accusations of plagiarism. (De Morgan has been exonerated by ,NA,NA
"history.) Very early on, De Morgan recognized the importance of Boole's insights. He ",NA,NA
"unselfishly encouraged Boole and helped him along the way, and is today sadly almost ",NA,NA
forgotten except for his famous laws.,NA,NA
De Morgan's Laws are most simply expressed this way:,NA,NA
"A and B are two Boolean operands. In the first expression, they're inverted and then combined ",NA,NA
with the Boolean AND operator. This is the same as combining the two operands with the ,NA,NA
Boolean OR operator and then inverting the result (which is the NOR). In the second ,NA,NA
"expression, the two operands are inverted and then combined with the Boolean OR operator. ",NA,NA
This is the same as combining the operands with the Boolean AND operator and then ,NA,NA
inverting (which is the NAND).,NA,NA
"De Morgan's Laws are an important tool for simplifying Boolean expressions and hence, for ",NA,NA
"simplifying circuits. Historically, this was what Claude Shannon's paper really meant for ",NA,NA
electrical engineers. But obsessively simplifying circuits won't be a major concern in this ,NA,NA
book. It's preferable to get things working rather than to get things working as simply as ,NA,NA
possible. And what we're going to get working next is nothing less than an adding machine.,NA,NA
Chapter 12. A Binary Adding Machine,NA,NA
"Addition is the most basic of arithmetic operations, so if we want to build a computer (and ",NA,NA
"that is my hidden agenda in this book), we must first know how to build something that adds ",NA,NA
"two numbers together. When you come right down to it, addition is just about the ",NA,NA
only,NA,NA
 thing ,NA,NA
"that computers do. If we can build something that adds, we're well on our way to building ",NA,NA
"something that uses addition to also subtract, multiply, divide, calculate mortgage payments, ",NA,NA
"guide rockets to Mars, play chess, and foul up our phone bills.",NA,NA
"The adding machine that we'll build in this chapter will be big, clunky, slow, and noisy, at least ",NA,NA
compared to the calculators and computers of modern life. What's most interesting is that ,NA,NA
we're going to build this adding machine entirely out of simple electrical devices that we've ,NA,NA
"learned about in previous chapters—switches, lightbulbs, wires, a battery, and relays that ",NA,NA
have been prewired into various logic gates. This adding machine will contain nothing that ,NA,NA
wasn't invented at least 120 years ago. And what's really nice is that we don't have to actually ,NA,NA
"build anything in our living rooms; instead, we can build this adding machine on paper and in ",NA,NA
our minds.,NA,NA
This adding machine will work entirely with binary numbers and will lack some modern ,NA,NA
amenities. You won't be able to use a keyboard to indicate the numbers you want to add; ,NA,NA
"instead you'll use a row of switches. Rather than a numeric display to show the results, this ",NA,NA
adding machine will have a row of lightbulbs.,NA,NA
"But this machine will definitely add two numbers together, and it will do so in a way that's ",NA,NA
very much like the way that computers add numbers.,NA,NA
Adding binary numbers is a lot like adding decimal numbers. When you want to add two ,NA,NA
"decimal numbers such as 245 and 673, you break the problem into simpler steps. Each step ",NA,NA
"requires only that you add a pair of decimal digits. In this example, you begin with 5 plus 3. ",NA,NA
The problem goes a lot faster if you memorized an addition table sometime during your life.,NA,NA
The big difference between adding decimal and binary numbers is that you use a much ,NA,NA
simpler table for binary numbers:,"+ 
  
 0 
  
 1
  
 0
  
  
 0 
  
 1
  
 1
  
  
 1 
  
 10",NA
"If you actually grew up with a community of whales and memorized this table in school, ",NA,NA
you might have chanted aloud:,"0 plus 0 equals 0.
  
 0 plus 1 equals 1.
  
 1 plus 0 equals 1.
  
 1 plus 1 equals 0, carry the 1.",NA
You can rewrite the addition table with leading zeros so that each result is a 2-bit value:,"+ 
  
 0
  
 1",NA
"Viewed like this, the result of adding a pair of binary numbers is 2 bits, which are called the ",NA,NA
sum,NA,NA
 bit and the ,NA,NA
carry,NA,NA
" bit (as in ""1 plus 1 equals 0, ",NA,NA
carry,NA,NA
" the 1""). Now we can divide the binary ",NA,NA
"addition table into two tables, the first one for the sum bit:","+ sum
  
  0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 0",NA
and the second one for the carry bit:,"+ carry
  
  0 
  
 1
  
 0
  
 0 
  
 0
  
 1
  
 0 
  
 1",NA
It's convenient to look at binary addition in this way because our adding machine will do ,NA,NA
sums and carries separately. Building a binary adding machine requires that we design a ,NA,NA
circuit that performs these operations. Working solely in binary simplifies the problem ,NA,NA
"immensely because all the parts of a circuit—switches, lightbulbs, and wires—can be binary ",NA,NA
digits.,NA,NA
"As in decimal addition, we add two binary numbers column by column beginning with the ",NA,NA
rightmost column:,NA,NA
"Notice that when we add the third column from the right, a 1 is carried over to the next ",NA,NA
"column. This happens again in the sixth, seventh, and eighth columns from the right.",NA,NA
What size binary numbers do we want to add? Since we're building our adding machine only ,NA,NA
"in our minds, we could build one to add very long numbers. But let's be reasonable and decide ",NA,NA
"to add binary numbers up to 8 bits long. That is, we want to add binary numbers that can ",NA,NA
"range from 0000-0000 through 1111-1111, or decimal 0 through 255. The sum of two 8-bit ",NA,NA
"numbers can be as high as 1-1111-1110, or 510.",NA,NA
The control panel for our binary adding machine can look like this:,NA,NA
We have on this panel two rows of eight switches. This collection of switches is the input ,NA,NA
"device, and we'll use it to ""key in"" the two 8-bit numbers. In this input device, a switch is off ",NA,NA
"(down) for 0 and on (up) for 1, just like the wall switches in your home. The output device at ",NA,NA
the bottom of the panel is a row of nine lightbulbs. These bulbs will indicate the answer. An ,NA,NA
unlit bulb is a 0 and a lit bulb is a 1. We need nine bulbs because the sum of the two 8-bit ,NA,NA
numbers can be a 9-bit number.,NA,NA
The rest of the adding machine will consist of logic gates wired together in various ways. ,NA,NA
"The switches will trigger the relays in the logic gates, which will then turn on the correct ",NA,NA
"lights. For example, if we want to add 0110-0101 and 1011-0110 (the two numbers ",NA,NA
"shown in the preceding example), we throw the appropriate switches as shown on the ",NA,NA
following page.,NA,NA
"The bulbs light up to indicate the answer of 1-0001-1011. (Well, let's hope so, anyway. We ",NA,NA
haven't built it yet!),NA,NA
I mentioned in the last chapter that I'll be using lots of relays in this book. The 8-bit adding ,NA,NA
machine we're building in this chapter requires no fewer than 144 relays—18 for each of ,NA,NA
the 8 pairs of bits we're adding together. If I showed you the completed circuit in its ,NA,NA
"entirety, you'd definitely freak. There's no way that anyone could make sense of 144 relays ",NA,NA
"wired together in strange ways. Instead, we're going to approach this problem in stages ",NA,NA
using logic gates.,NA,NA
Maybe you saw right away a connection between logic gates and binary addition when you ,NA,NA
looked at the table of the carry bit that results from adding two 1-bit numbers together:,"+ carry
  
  0 
  
 1
  
 0
  
 0 
  
 0",NA
You might have realized that this was identical to the output of the AND gate shown in the last,NA,NA
chapter:,"AND 
  
 0 
  
 1
  
 0
  
 0 
  
 0
  
 1
  
 0 
  
 1",NA
So the AND gate calculates a carry bit for the addition of two binary digits.,NA,NA
Aha! We're definitely making progress. Our next step seems to be to persuade some relays to ,NA,NA
behave like this:,"+ sum
  
  0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 0",NA
This is the other half of the problem in adding a pair of binary digits. The sum bit turns out to ,NA,NA
"be not quite as straightforward as the carry bit, but we'll get there.",NA,NA
The first thing to realize is that the OR gate is close to what we want except for the case in ,NA,NA
the lower right corner:,"OR 
  
 0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 1",NA
The NAND gate is also close to what we want except for the case in the upper left corner:,"NAND 
  
 0 
  
 1
  
 0
  
 1 
  
 1
  
 1
  
 1 
  
 0",NA
So let's connect both an OR gate and a NAND gate to the same inputs:,NA,NA
The following table summarizes the outputs of these OR and NAND gates and compares that ,NA,NA
to what we want for the adding machine:,"A In
  
  B In 
  
 OR Out 
  
  NAND Out
  
  What we want
  
 0
  
 0
  
 0
  
 1
  
 0",NA
Notice that what we want is 1 only if the output from the OR gate ,NA,NA
and,NA,NA
 the NAND gate are both ,NA,NA
1. This suggests that these two outputs can be an input to an AND gate:,NA,NA
And that's it.,NA,NA
Notice that there are still only two inputs and one output to this entire circuit. The two ,NA,NA
inputs go into both the OR gate and the NAND gate. The outputs from the OR and NAND ,NA,NA
"gates go into the AND gate, and that gives us exactly what we want:","A In 
  
 B In 
  
  OR Out
  
  NAND Out
  
 AND Out
  
 0
  
 0
  
 0
  
 1
  
 0
  
 0
  
 1
  
 1
  
 1
  
 1
  
 1
  
 0
  
 1
  
 1
  
 1
  
 1
  
 1
  
 1
  
 0
  
 0",NA
There's actually a name for what this circuit does. It's called the ,NA,NA
Exclusive OR gate,NA,NA
" or, more ",NA,NA
"briefly, the XOR gate. It's called the Exclusive OR gate because the output is 1 if the A input is ",NA,NA
1 ,NA,NA
or,NA,NA
" the B input is 1, but not both. So, instead of drawing an OR gate, NAND gate, and AND ",NA,NA
"gate, we can use the symbol that electrical engineers use for the XOR gate:",NA,NA
It looks very much like the OR gate except that it has another curved line at the input ,NA,NA
side. The behavior of the XOR gate is shown here:,"XOR 
  
 0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 0",NA
The XOR gate is the final logic gate I describe in detail in this book. (A sixth gate sometimes ,NA,NA
shows up in electrical engineering. It's called the ,NA,NA
coincidence,NA,NA
 or ,NA,NA
equivalence gate,NA,NA
 because the ,NA,NA
output is 1 only if the two inputs are the same. The coincidence gate describes an output ,NA,NA
opposite that of the,NA,NA
"XOR gate, so this gate's symbol is the same as the XOR gate but with a little circle at the output ",NA,NA
end.),NA,NA
Let's review what we know so far. Adding two binary numbers produces a sum bit and a ,NA,NA
carry bit:,NA,NA
You can use the following two logic gates to get these results:,NA,NA
"The sum of two binary numbers is given by the output of an XOR gate, and the carry bit is ",NA,NA
given by the output of an AND gate. So we can combine an AND gate and an XOR gate to add ,NA,NA
two binary digits called A and B:,NA,NA
"And instead of drawing and redrawing an AND gate and an XOR gate, you can simply draw ",NA,NA
a box like this:,NA,NA
This box is labeled ,NA,NA
Half Adder,NA,NA
 for a reason. Certainly it adds two binary digits and gives you a ,NA,NA
sum bit and a carry bit. But the vast majority of binary numbers are longer than 1 bit. What ,NA,NA
"the Half Adder fails to do is add a possible carry bit from a previous addition. For example, ",NA,NA
suppose we're adding two binary numbers like these:,NA,NA
"We can use the Half Adder only for the addition of the rightmost column: 1 plus 1 equals 0, ",NA,NA
"carry the 1. For the second column from the right, we really need to add ",NA,NA
three,NA,NA
 binary ,NA,NA
numbers because of the carry. And that goes for all subsequent columns. Each subsequent ,NA,NA
addition of two binary numbers can,NA,NA
include a carry bit from the previous column.,NA,NA
"To add three binary numbers, we need two Half Adders and an OR gate, wired this way:",NA,NA
"To understand this, begin with the A and B inputs to the first Half Adder at the left. The output ",NA,NA
"is a sum and a carry. That sum must be added to the carry from the previous column, so ",NA,NA
they're inputs to the second Half Adder. The sum from the second Half Adder is the final sum. ,NA,NA
The two Carry Outs from the Half Adders are inputs to an OR gate. You might think another ,NA,NA
"Half Adder is called for here, and that would certainly work. But if you go through all the ",NA,NA
"possibilities, you'll find that the Carry Outs from the two Half Adders are never ",NA,NA
both,NA,NA
 equal to ,NA,NA
1. The OR gate is sufficient for adding them because the OR gate is the same as the XOR gate if ,NA,NA
the inputs are never both 1.,NA,NA
"Instead of drawing and redrawing that diagram, we can just call it a ",NA,NA
Full Adder,NA,NA
:,NA,NA
The following table summarizes all the possible combinations of inputs to the Full Adder ,NA,NA
and the resultant outputs:,"A In
  
  B In 
  
 Carry In
  
  Sum Out
  
 Carry Out
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 1
  
 0
  
 1
  
 0
  
 1
  
 0
  
 0
  
 1
  
 0
  
 1
  
 1
  
 0
  
 0
  
 1
  
 0
  
 0
  
 1
  
 1
  
 0
  
 0
  
 1
  
 1
  
 0
  
 1
  
 1
  
 0
  
 1
  
 0
  
 1
  
 1
  
 1
  
 1
  
 1
  
 1",NA
I said early on in this chapter that we would need 144 relays for our adding machine. Here's ,NA,NA
"how I figured that out: Each AND, OR, and NAND gate requires 2 relays. So an XOR gate ",NA,NA
"comprises 6 relays. A Half Adder is an XOR gate and an AND gate, so a Half Adder requires 8 ",NA,NA
"relays. Each Full Adder is two Half Adders and an OR gate, or 18 relays. We need 8 Full ",NA,NA
Adders for our 8-bit adding machine. That's 144 relays.,NA,NA
Recall our original control panel with the switches and lightbulbs:,NA,NA
We can now start wiring the switches and lightbulbs to the Full Adder.,NA,NA
First connect the two rightmost switches and the rightmost lightbulb to a Full Adder:,NA,NA
"When you begin adding two binary numbers, the first column of digits that you add is ",NA,NA
different. It's different because every subsequent column might include a carry bit from the ,NA,NA
"previous column. The first column doesn't include a carry bit, which is why the carry input to ",NA,NA
the Full Adder is connected to ground. That means a 0 bit. The addition of the first pair of ,NA,NA
"binary digits could, of course, ",NA,NA
result,NA,NA
 in a carry bit. That carry output is an input to the next ,NA,NA
column.,NA,NA
"For the next two digits and the next lightbulb, you use a Full Adder wired this way:",NA,NA
The carry output from the first Full Adder is an input to this second Full Adder. Each ,NA,NA
subsequent,NA,NA
column of digits is wired the same way. Each carry output from one column is a carry input to ,NA,NA
the next column.,NA,NA
Finally the eighth and last pair of switches are wired to the last Full Adder:,NA,NA
Here the final carry output goes to the ninth lightbulb.,NA,NA
We're done.,NA,NA
"Here's another way to look at this assemblage of eight Full Adders, with each Carry Out ",NA,NA
serving as input to the next Carry In:,NA,NA
Here's the complete 8-Bit Adder drawn as one box. The inputs are labeled A,0,NA
 through A,7,NA
 ,NA,NA
and B,0,NA
through B,7,NA
. The outputs are labeled S,0,NA
 through S,7,NA
 (for sum):,NA,NA
This is a common way to label the separate bits of a multibit number. The bits A,0,NA
", B",0,NA
", and S",0,NA
 ,NA,NA
are the,NA,NA
least-significant,NA,NA
", or rightmost, bits. The bits A",7,NA
", B",7,NA
", and S",7,NA
 are the ,NA,NA
most-significant,NA,NA
", or leftmost, ",NA,NA
"bits. For example, here's how these subscripted letters would apply to the binary number ",NA,NA
0110-1001:,NA,NA
The subscripts start at 0 and get higher for more significant digits because they ,NA,NA
correspond to the exponents of powers of two:,NA,NA
"If you multiply each power of two by the digit below it and add, you'll get the decimal ",NA,NA
"equivalent of 0110-1001, which is 64 + 32 + 8 + 1, or 105.",NA,NA
Another way an 8-Bit Adder might be drawn is like this:,NA,NA
The double-line arrows have an 8 inside to indicate that each represents a group of eight ,NA,NA
separate signals. They are labeled A,7,NA
…A,0,NA
", B",7,NA
…B,0,NA
", and S",7,NA
…S,0,NA
 also to indicate 8-bit numbers.,NA,NA
"Once you build one 8-Bit Adder, you can build another. It then becomes easy to ",NA,NA
cascade,NA,NA
 them ,NA,NA
to add two 16-bit numbers:,NA,NA
The Carry Out of the adder on the right is connected to the Carry In of the adder on the left. ,NA,NA
The adder on the left has as input the most-significant eight digits of the two numbers to be ,NA,NA
added and creates as output the most-significant eight digits of the result.,NA,NA
"And now you might ask, ""Is this ",NA,NA
really,NA,NA
" the way that computers add numbers together?""",NA,NA
"Basically, yes. But not exactly.",NA,NA
"First, adders can be made faster than this one. If you look at how this circuit works, a carry ",NA,NA
"output from the least-significant pair of numbers is required for the next pair to be added, and ",NA,NA
"a carry output from the second pair is required for the third pair to be added, and so forth. ",NA,NA
The total speed of the adder is equal to the number of bits times the speed of the Full Adder ,NA,NA
component. This is called a ,NA,NA
ripple carry,NA,NA
. Faster adders use additional circuitry called a ,NA,NA
look-,NA,NA
ahead carry,NA,NA
 that speeds up this process.,NA,NA
"Second (and most important), computers don't use relays any more! They did at one time, ",NA,NA
however.,NA,NA
The first digital computers built beginning in the 1930s used relays and later vacuum tubes. ,NA,NA
"Today's computers use transistors. When used in computers, transistors basically function the ",NA,NA
"same way relays do, but (as we'll see) they're much faster and much smaller and much quieter ",NA,NA
and use much less power and are much cheaper. Building an 8-Bit Adder still requires 144 ,NA,NA
"transistors (more if you replace the ripple carry with a look-ahead carry), but the circuit is ",NA,NA
microscopic.,NA,NA
Chapter 13. But What About Subtraction?,NA,NA
After you've convinced yourself that relays can indeed be wired together to add binary ,NA,NA
"numbers, you might ask, ""But what about subtraction?"" Rest assured that you're not making a ",NA,NA
nuisance of yourself by asking questions like this; you're actually being quite perceptive. ,NA,NA
Addition and subtraction ,NA,NA
"complement each other in some ways, but the mechanics of the two operations are different. ",NA,NA
An addition marches consistently from the rightmost column of digits to the leftmost column. ,NA,NA
Each carry from one column is added to the next column. We don't ,NA,NA
carry,NA,NA
" in subtraction, ",NA,NA
however; we ,NA,NA
borrow,NA,NA
", and that involves an intrinsically different mechanism—a messy back-",NA,NA
and-forth kind of thing.,NA,NA
"For example, let's look at a typical borrow-laden subtraction problem:",NA,NA
"To do this, we start with the rightmost column. First we see that 6 is bigger than 3, so we ",NA,NA
"have to borrow 1 from the 5, and then subtract 6 from 13, which is 7. Then we have to ",NA,NA
"remember that we borrowed 1 from the 5, so it's really a 4, and this 4 is smaller than 7, so we ",NA,NA
"borrow 1 from the 2 and subtract 7 from 14, which is 7. Then we have to remember that we ",NA,NA
"borrowed 1 from the 2, so it's really a 1, and then we subtract 1 from it to get 0. Our answer ",NA,NA
is 77:,NA,NA
Now how are we ever going to persuade a bunch of logic gates to go through such perverse ,NA,NA
logic?,NA,NA
"Well, we're not going to try. Instead, we're going to use a little trick that lets us subtract ",NA,NA
without ,NA,NA
"borrowing. This will please Polonius (""Neither a borrower nor a lender be"") and ",NA,NA
"the rest of us as well. Moreover, examining subtraction in detail is useful because it directly ",NA,NA
relates to the way in which binary codes are used for storing negative numbers in ,NA,NA
computers.,NA,NA
"For this explanation, I need to refer to the two numbers being subtracted. Their proper ",NA,NA
names are the ,NA,NA
minuend,NA,NA
 and the ,NA,NA
subtrahend,NA,NA
". The subtrahend is subtracted from the minuend, ",NA,NA
and the result is the ,NA,NA
difference:,NA,NA
"To subtract without borrowing, you first subtract the subtrahend ",NA,NA
not,NA,NA
 from the minuend but ,NA,NA
from 999:,NA,NA
"You use 999 here because the numbers have 3 digits. If the numbers had 4 digits, you would ",NA,NA
use 9999. Subtracting a number from a string of 9s results in a number called the ,NA,NA
nines' ,NA,NA
complement,NA,NA
. The nines',NA,NA
complement of 176 is 823. And it works in reverse: The nines' complement of 823 is 176. ,NA,NA
"What's nice is this: No matter what the subtrahend is, calculating the nines' complement ",NA,NA
never requires a borrow,NA,NA
.,NA,NA
"After you've calculated the nines' complement of the subtrahend, you add it to the original ",NA,NA
minuend:,NA,NA
And finally you add 1 and subtract 1000:,NA,NA
"You're finished. The result is the same as before, and never once did you borrow.",NA,NA
Why does this work? The original subtraction problem is,253 – 176,NA
"If any number is both added to and subtracted from this expression, the result will be the ",NA,NA
same. So let's add 1000 and subtract 1000:,253 – 176 + 1000 – 1000,NA
This expression is equivalent to,253 – 176 + 999 + 1 – 1000,NA
"Now the various numbers can be regrouped, this way:",253 + (999 – 176) + 1 – 1000,NA
And this is identical to the calculation I demonstrated using the nines' complement. We ,NA,NA
"replaced the one subtraction with two subtractions and two additions, but in the process we ",NA,NA
got rid of all the nasty borrows.,NA,NA
"What if the subtrahend is larger than the minuend? For example, the subtraction problem ",NA,NA
could be,NA,NA
"Normally, you would look at this and say, ""Hmmm. I see that the subtrahend is larger than the ",NA,NA
"minuend, so I have to switch the two numbers around, perform the subtraction, and ",NA,NA
"remember that the result is really a negative number."" You might be able to switch them ",NA,NA
around in your head and write the answer this way:,NA,NA
Doing this calculation without borrowing is a little different from the earlier example. You ,NA,NA
begin as you did before by subtracting the subtrahend (253) from 999 to get the nines' ,NA,NA
complement:,NA,NA
Now add the nines' complement to the original minuend:,NA,NA
"At this point in the earlier problem, you were able to add 1 and subtract 1000 to get the final ",NA,NA
"result. But in this case, that strategy isn't going to work well. You would need to subtract 1000 ",NA,NA
"from 923, and that really means subtracting 923 from 1000, and that requires borrowing.",NA,NA
"Instead, since we effectively added 999 earlier, let's subtract 999 now:",NA,NA
"When we see this, we realize that our answer will be a negative number and that we really ",NA,NA
need to switch around the two numbers by subtracting 922 from 999. This again involves no ,NA,NA
"borrowing, and the answer is as we expect:",NA,NA
This same technique can also be used with binary numbers and is actually simpler than with ,NA,NA
decimal numbers. Let's see how it works.,NA,NA
The original subtraction problem was,NA,NA
"When these numbers are converted to binary, the problem becomes",NA,NA
Step 1. Subtract the subtrahend from 11111111 (which equals 255):,NA,NA
"When we were working with decimal numbers, the subtrahend was subtracted from a string ",NA,NA
"of nines, and the result was called the nines' complement. With binary numbers, the ",NA,NA
subtrahend is subtracted from a string of ones and the result is called the ,NA,NA
ones' complement,NA,NA
. ,NA,NA
But notice that we don't really have to do a subtraction to calculate the ones' complement. ,NA,NA
"That's because every 0 bit in the original number becomes a 1 bit in the ones' complement, ",NA,NA
"and every 1 bit becomes a 0 bit. For this reason, the ones' complement is also sometimes ",NA,NA
called the ,NA,NA
negation,NA,NA
", or the ",NA,NA
inverse,NA,NA
". (At this point, you might recall from ",NA,NA
Chapter 11,NA,NA
 that we ,NA,NA
built something called an inverter that changed a 0 to a 1 and a 1 to a 0.) ,NA,NA
Step 2. Add the ones' complement of the subtrahend to the minuend:,NA,NA
Step 3. Add 1 to the result:,NA,NA
Step 4. Subtract 100000000 (which equals 256):,NA,NA
The result is equivalent to 77 in decimal.,NA,NA
"Let's try it again with the two numbers reversed. In decimal, the subtraction problem is",NA,NA
and in binary it looks like this:,NA,NA
Step 1. Subtract the subtrahend from 11111111. You get the ones' complement:,NA,NA
Step 2. Add the ones' complement of the subtrahend to the minuend:,NA,NA
Now 11111111 must be subtracted from the result in some way. When the original ,NA,NA
"subtrahend is smaller than the minuend, you accomplish this task by adding 1 and ",NA,NA
"subtracting 100000000. But you can't subtract this way without borrowing. So instead, we ",NA,NA
subtract this result from 11111111:,NA,NA
"Again, this strategy really means that we're just inverting all the bits to get the result. The ",NA,NA
"answer again is 77, but really –77.",NA,NA
"At this point, we have all the knowledge we need to modify the adding machine developed in ",NA,NA
the last chapter so that it can perform subtraction as well as addition. So that this doesn't ,NA,NA
become ,NA,NA
too ,NA,NA
"complex, this new adding and subtracting machine will perform subtractions ",NA,NA
only when the ,NA,NA
"subtrahend is less than the minuend, that is, when the result is a positive number.",NA,NA
The core of the adding machine was an 8-Bit Adder assembled from logic gates:,NA,NA
"As you probably recall, the inputs A0 through A7 and B0 through B7 were connected to ",NA,NA
switches that indicated two 8-bit values to be added. The Carry In input was connected to ,NA,NA
ground. The S0 through S7 outputs were connected to eight lightbulbs that displayed the ,NA,NA
"result of the addition. Because the addition could result in a 9-bit value, the Carry Out output ",NA,NA
was also connected to a ninth lightbulb.,NA,NA
The control panel looked like this:,NA,NA
"In this diagram, the switches are set to add 183 (or 10110111) and 22 (00010110), ",NA,NA
"producing the result of 205, or 11001101 as shown in the row of lightbulbs.",NA,NA
The new control panel for adding and subtracting two 8-bit numbers is just slightly ,NA,NA
modified. It includes an extra switch to indicate whether we want to add or subtract.,NA,NA
"You turn this switch off for addition and on for subtraction, as labeled. Also, only the ",NA,NA
rightmost eight lightbulbs are used to display results. The ninth lightbulb is now labeled ,NA,NA
"""Overflow/Underflow."" This lightbulb indicates that a number is being calculated that can't be ",NA,NA
represented by the eight lightbulbs. This will happen if an addition produces a number greater ,NA,NA
than 255 (that's called an overflow) or if a subtraction produces a negative number (an ,NA,NA
underflow). A subtraction will produce a negative number if the subtrahend is larger than the ,NA,NA
minuend.,NA,NA
The major addition to the adding machine is some circuitry that calculates a ones' ,NA,NA
complement of an 8-bit number. Recall that the ones' complement is equivalent to inverting ,NA,NA
"bits, so something to calculate the ones' complement of an 8-bit number might look as simple ",NA,NA
as eight inverters:,NA,NA
The problem with this circuit is that it ,NA,NA
always,NA,NA
 inverts the bits that enter into it. We're trying to ,NA,NA
"create a machine that does both addition and subtraction, so the circuitry needs to invert the ",NA,NA
bits only if a subtraction is being performed. A better circuit looks like this:,NA,NA
A single signal labeled ,NA,NA
Invert,NA,NA
 is input to each of eight XOR (exclusive OR) gates. Recall that ,NA,NA
the XOR exhibits the following behavior:,"XOR 
  
 0 
  
 1
  
 0
  
 0 
  
 1
  
 1
  
 1 
  
 0",NA
"So if the Invert signal is 0, the eight outputs of the XOR gates are the same as the eight inputs. ",NA,NA
"For example, if 01100001 is input, then 01100001 is output. If the Invert signal is 1, the eight ",NA,NA
"input signals are inverted. If 01100001 is input, 10011110 is output.",NA,NA
Let's package these eight XOR gates in a box labeled ,NA,NA
Ones' Complement,NA,NA
:,NA,NA
"The Ones' Complement box, the 8-Bit Adder box, and a final exclusive OR gate can now be ",NA,NA
wired together like this:,NA,NA
Notice the three signals all labeled ,NA,NA
SUB,NA,NA
. This is the Add/Subtract switch. This signal is 0 if an ,NA,NA
"addition is to be performed and 1 if a subtraction is to be performed. For a subtraction, the B ",NA,NA
inputs (the second row of switches) are all inverted by the Ones' Complement circuit before ,NA,NA
"entering the adder. Also for a subtraction, you add 1 to the result of the addition by setting ",NA,NA
"the CI (Carry In) input of the adder to 1. For an addition, the Ones' Complement circuit has ",NA,NA
no effect and the CI input is 0.,NA,NA
The SUB signal and the CO (Carry Out) output of the adder also go into an XOR gate that's used ,NA,NA
to light up the Overflow/Underflow lamp. If the SUB signal is 0 (which means an addition is ,NA,NA
"being performed), the lightbulb will be lit if the CO output of the adder is 1. This means that ",NA,NA
the result of the addition is greater than 255.,NA,NA
If a subtraction is being performed and if the subtrahend (the B switches) is less than the ,NA,NA
"minuend (the A switches), it's normal that the CO output from the adder is 1. This represents ",NA,NA
the 100000000 that must be subtracted in the final step. So the Overflow/Underflow lamp is ,NA,NA
lit only if the CO output from the adder is 0. This means that the subtrahend is greater than ,NA,NA
the minuend and the result is negative. The machine shown above isn't designed to display ,NA,NA
negative numbers.,NA,NA
"You must surely be glad you asked, ""But what about subtraction?""",NA,NA
"I've been talking about negative numbers in this chapter, but I haven't yet indicated what ",NA,NA
negative binary numbers look like. You might assume that the traditional negative sign is ,NA,NA
"used with binary just as it is in decimal. For example, –77 is written in binary as –1001101. ",NA,NA
"You can certainly do that, but",NA,NA
one of the goals in using binary numbers is to represent ,NA,NA
everything,NA,NA
 using 0s and 1s—,NA,NA
even tiny symbols such as the negative sign.,NA,NA
"Of course, you could simply use another bit for the negative sign. You could make that extra ",NA,NA
"bit 1 for a negative number and 0 for a positive number, which would work, although it ",NA,NA
doesn't go quite far enough. There's another solution for representing negative numbers that ,NA,NA
also provides a hassle-free method for adding negative and positive numbers together. The ,NA,NA
drawback of this other method is that you must decide ahead of time how many digits are ,NA,NA
required for all the numbers you might encounter. Let's think about this for a moment. The ,NA,NA
advantage of writing positive and negative numbers the way we normally do is that they can ,NA,NA
go on forever. We imagine 0 as the middle of an infinite stream of positive numbers going off ,NA,NA
in one direction and an infinite stream of negative numbers going off in another:,"… –1,000,000 –999,999 … –3 –2 –1 0 1 2 3 … 999,999 1,000,000 …",NA
But suppose we don't need an infinite number of numbers. Suppose we know at the outset ,NA,NA
that every number we come across will be within a particular range.,NA,NA
"Let's look at a checking account, which is one place people sometimes see negative numbers. ",NA,NA
Let's assume that we never have as much as $500 in our checking account and that the bank ,NA,NA
has given us a no-bounce checking limit of $500. This means that the balance in our checking ,NA,NA
account is always a number somewhere between $499 and –$500. Let's also assume that we ,NA,NA
"never deposit as much as $500, we never write a check for more than $500, and we deal only ",NA,NA
in dollars and don't care about cents.,NA,NA
This set of conditions means that the range of numbers we deal with in using our checking ,NA,NA
account include -500 through 499. That's a total of 1000 numbers. This restriction implies ,NA,NA
that we can use just three decimal digits and no negative sign to represent ,NA,NA
all,NA,NA
 the numbers we ,NA,NA
need. The trick is that we really don't need positive numbers ranging from 500 through 999. ,NA,NA
That's because we've already established that the maximum positive number we need is 499. ,NA,NA
So the three-digit numbers from 500 through 999 can actually represent negative numbers. ,NA,NA
Here's how it works:,"To mean –500, we use 
 500. 
  
 To mean –499, we use 
 501. 
  
 To mean –498, we use 
 502.
  
 (yada, yada, yada) 
  
 To mean –2, we use 
 998. 
  
 To mean –1, we use 
 999. 
  
 To mean 0, we use 000.
  
 To mean 1, we use 001.
  
 To mean 2, we use 002.",NA
"In other words, every 3-digit number that begins with a 5, 6, 7, 8, or 9 is actually a negative ",NA,NA
number. Instead of writing the numbers like this:,NA,NA
we write them this way:,500 501 502 … 996 997 998 999 000 001 002 003 004 … 497 498 499,NA
Notice that this forms a circle of sorts. The lowest negative number (500) looks as if it ,NA,NA
continues from the highest positive number (499). And the number 999 (which is actually –1) ,NA,NA
"is one less than zero. If we add 1 to 999, we'd normally get 1000. But since we're only dealing ",NA,NA
"with three digits, it's actually 000.",NA,NA
This type of notation is called ,NA,NA
ten's complement,NA,NA
. To convert a 3-digit negative number to ten's ,NA,NA
"complement, we subtract it from 999 and add 1. In other words, the ten's complement is the ",NA,NA
"nines' complement plus one. For example, to write –255 in ten's complement, subtract it from ",NA,NA
999 to get 744 and then add 1 to get 745.,NA,NA
"You've probably heard it said that ""Subtraction is merely addition using negative numbers."" ",NA,NA
"To which you've probably replied, ""Yeah, but you still have to ",NA,NA
subtract,NA,NA
" them."" Well, using the ",NA,NA
ten's ,NA,NA
"complement, you don't subtract numbers at all. Everything is addition.",NA,NA
Suppose you have a checking account balance of $143. You write a check for $78. That means ,NA,NA
"you have to add a negative $78 to $143. In ten's complement, –78 is written as 999 –078 + 1, ",NA,NA
"or 922. So, our new balance is $143 + $922, which equals (ignoring the overflow), $65. If we ",NA,NA
"then write a check for $150 dollars, we have to add –150, which in ten's complement equals ",NA,NA
"850. So our previous balance of 065 plus 850 equals 915, our new balance. This is actually ",NA,NA
equivalent to –$85.,NA,NA
The equivalent system in binary is called ,NA,NA
two's complement,NA,NA
. Let's assume that we're working ,NA,NA
"with 8-bit numbers. These range from 00000000 to 11111111, which normally correspond ",NA,NA
"to decimal numbers 0 through 255. But if you also want to express negative numbers, every ",NA,NA
"8-bit number that begins with a 1 will actually represent a negative number, as shown in the ",NA,NA
following table:,"Binary
  
 Decimal
  
 1000000
 0
  
  –128
  
 1000000
 1
  
  –127
  
 1000001
 0
  
  –126
  
 1000001
 1
  
  –125
  
 ⋮
  
  
 1111110
 1
  
  –3
  
 1111111
 0
  
  –2
  
 1111111
 1
  
  –1
  
 0000000
 0
  
  0
  
 0000000
 1
  
  1",NA
The range of numbers that you can represent is now limited to –128 through +127. The ,NA,NA
most significant (leftmost) bit is known as the ,NA,NA
sign bit,NA,NA
. The sign bit is 1 for negative ,NA,NA
numbers and 0 for positive numbers.,NA,NA
"To calculate the two's complement, first calculate the ones' complement and then add 1. This ",NA,NA
"is equivalent to inverting all the digits and adding 1. For example, the decimal number 125 is ",NA,NA
01111101.,NA,NA
"To express –125 in two's complement, first invert the digits of 01111101 to get 10000010, ",NA,NA
and then add 1 to get 10000011. You can verify the result using the preceding table. To go ,NA,NA
"backward, do the same thing—invert all the bits and add 1.",NA,NA
This system gives us a way to express positive and negative numbers without using negative ,NA,NA
signs. It also lets us freely add positive and negative numbers using only the rules of addition. ,NA,NA
"For example, let's add the binary equivalents of –127 and 124. Using the preceding table as a ",NA,NA
"cheat sheet, this is simply",NA,NA
The result is equivalent to –3 in decimal.,NA,NA
What you need to watch out for here is overflow and underflow conditions. That's when the ,NA,NA
"result of an addition is greater than 127 or less than –128. For example, suppose you add 125 ",NA,NA
to itself:,NA,NA
"Because the high bit is set to 1, the result must be interpreted as a negative number, ",NA,NA
specifically the binary equivalent of –6. Something similar happens when –125 is added to ,NA,NA
itself:,NA,NA
"We decided at the outset that we're restricting ourselves to 8-bit numbers, so the leftmost ",NA,NA
digit of the result must be ignored. The rightmost 8 bits are equivalent to +6.,NA,NA
"In general, the result of an addition involving positive and negative numbers is invalid if the ",NA,NA
sign bits of the two operands are the same but the sign bit of the result is different.,NA,NA
Now we have two different ways of using binary numbers. Binary numbers can be either ,NA,NA
signed,NA,NA
 or ,NA,NA
unsigned,NA,NA
. Unsigned 8-bit numbers range from 0 through 255. Signed 8-bit numbers ,NA,NA
range from –128 through 127. Nothing about the numbers themselves will tell you whether ,NA,NA
they're signed or unsigned.,NA,NA
"For example, suppose someone says, ""I have an 8-bit binary number and the value is ",NA,NA
"10110110. What's the decimal equivalent?"" You must first inquire, ""Is that a signed or an ",NA,NA
"unsigned number? It could be –74 or 182.""",NA,NA
That's the trouble with bits: They're just zeros and ones and don't tell you anything ,NA,NA
about,NA,NA
 ,NA,NA
themselves.,NA,NA
Chapter 14. Feedback and Flip-Flops,NA,NA
Everybody knows that electricity makes things move. A brief glance around the average home ,NA,NA
"reveals electric motors in appliances as diverse as clocks, fans, food processors, and compact ",NA,NA
"disc players. Electricity also makes the cones in loudspeakers vibrate, bringing forth sounds, ",NA,NA
"speech, and music from the stereo system and the television set. But perhaps the simplest and ",NA,NA
most elegant way that electricity makes things move is illustrated by a class of devices that ,NA,NA
are quickly disappearing as electronic counterparts replace them. I refer to the marvelously ,NA,NA
retro electric buzzers and bells.,NA,NA
Consider a relay wired this way with a switch and battery:,NA,NA
"If this looks a little odd to you, you're not imagining things. We haven't seen a relay wired ",NA,NA
quite like this yet. Usually a relay is wired so that the input is separate from the output. Here ,NA,NA
"it's all one big circle. If you close the switch, a circuit is completed:",NA,NA
The completed circuit causes the electromagnet to pull down the flexible contact:,NA,NA
"But when the contact changes position, the circuit is no longer complete, so the ",NA,NA
electromagnet loses its magnetism and the flexible contact flips back up:,NA,NA
"which, of course, completes the circuit again. What happens is this: As long as the switch is ",NA,NA
"closed, the metal contact goes back and forth—alternately closing the circuit and opening ",NA,NA
"it—most likely making a sound. If the contact makes a rasping sound, it's a buzzer. If you ",NA,NA
"attach a hammer to it and provide a metal gong, you'll have the makings of an electric bell.",NA,NA
You can choose from a couple of ways to wire this relay to make a buzzer. Here's another ,NA,NA
way to do it using the conventional voltage and ground symbols:,NA,NA
You might recognize in this diagram the inverter from ,NA,NA
Chapter 11,NA,NA
. The circuit can be drawn ,NA,NA
more,NA,NA
simply this way:,NA,NA
"As you'll recall, the output of an inverter is 1 if the input is 0, and 0 if the input is 1. Closing the ",NA,NA
switch on this circuit causes the relay in the inverter to alternately open and close. You can ,NA,NA
also wire the inverter without a switch to go continuously:,NA,NA
This drawing might seem to be illustrating a logical contradiction because the output of an ,NA,NA
"inverter is supposed to be opposite the input, but here the output ",NA,NA
is,NA,NA
" the input! Keep in mind, ",NA,NA
"however, that the inverter is actually just a relay, and the relay requires a little bit of time to ",NA,NA
"change from one state to another. So even if the input is the same as the output, the output ",NA,NA
"will soon change, becoming the inverse of the input (which, of course, changes the input, and ",NA,NA
so forth and so on).,NA,NA
"What is the output of this circuit? Well, the output quickly alternates between providing a ",NA,NA
"voltage and not providing a voltage. Or, we can say, ",NA,NA
the output quickly alternates between 0 ,NA,NA
and 1,NA,NA
.,NA,NA
This circuit is called an ,NA,NA
oscillator,NA,NA
. It's intrinsically different from everything else we've looked ,NA,NA
at so far. All the previous circuits have changed their state only with the intervention of a ,NA,NA
"human being who closes or opens a switch. The oscillator, however, doesn't require a human ",NA,NA
being; it basically runs by itself.,NA,NA
"Of course, the oscillator in isolation doesn't seem to be very useful. We'll see later in this ",NA,NA
chapter and in the next few chapters that such a circuit connected to other circuits is an ,NA,NA
essential part of ,NA,NA
automation. All computers have some kind of oscillator that makes everything else move in ,NA,NA
synchronicity.,NA,NA
The output of the oscillator alternates between 0 and 1. A common way to symbolize that fact ,NA,NA
is with a diagram that looks like this:,NA,NA
"This is understood to be a type of graph. The horizontal axis represents time, and the ",NA,NA
vertical axis indicates whether the output is 0 or 1:,NA,NA
"All this is really saying that as time passes, the output of the oscillator alternates between 0 ",NA,NA
"and 1 on a regular basis. For that reason, an oscillator is sometimes often referred to as a ",NA,NA
clock,NA,NA
 because by counting the number of oscillations you can tell time (kind of).,NA,NA
"How fast will the oscillator run? That is, how quickly will the metal contact of the relay vibrate ",NA,NA
back and forth? How many times a second? That obviously depends on how the relay is built. ,NA,NA
"One can easily imagine a big, sturdy relay that clunks back and forth slowly and a small, light ",NA,NA
relay that buzzes rapidly.,NA,NA
A ,NA,NA
cycle,NA,NA
 of an oscillator is defined as the interval during which the output of the oscillator ,NA,NA
changes and then comes back again to where it started:,NA,NA
The time required for one cycle is called the ,NA,NA
period,NA,NA
 of the oscillator. Let's assume that we're ,NA,NA
looking at a particular oscillator that has a period of 0.05 second. We can then label the ,NA,NA
horizontal axis in seconds beginning from some arbitrary time we denote as 0:,NA,NA
The ,NA,NA
frequency,NA,NA
" of the oscillator is 1 divided by the period. In this example, if the period of the ",NA,NA
"oscillator is 0.05 second, the frequency of the oscillator is 1 ÷ 0.05, or 20 ",NA,NA
cycles per second,NA,NA
. ,NA,NA
"Twenty times per second, the output of the oscillator changes and changes back.",NA,NA
Cycles per second,NA,NA
" is a fairly self-explanatory term, much like ",NA,NA
miles per hour,NA,NA
 or ,NA,NA
pounds per ,NA,NA
square inch,NA,NA
 or ,NA,NA
calories per serving,NA,NA
. But ,NA,NA
cycles per second,NA,NA
 isn't used much any more. In ,NA,NA
"commemoration of Heinrich Rudolph Hertz (1857–1894), who was the first person to ",NA,NA
"transmit and receive radio waves, the word ",NA,NA
hertz,NA,NA
 is now used instead. This usage started first ,NA,NA
in Germany in the 1920s and then expanded into other countries over the decades.,NA,NA
"Thus, we can say that our oscillator has a frequency of 20 hertz, or (to abbreviate) 20 Hz.",NA,NA
"Of course, we just guessed at the actual speed of one particular oscillator. By the end of this ",NA,NA
"chapter, we'll be able to build something that lets us actually measure the speed of an ",NA,NA
oscillator.,NA,NA
"To begin this endeavor, let's look at a pair of NOR gates wired a particular way. You'll recall ",NA,NA
that the output of a NOR gate is a voltage only if both inputs aren't voltages:,"NOR 
  
 0 
  
 1
  
 0
  
 1 
  
 0
  
 1
  
 0 
  
 0",NA
"Here's a circuit with two NOR gates, two switches, and a lightbulb:",NA,NA
Notice the oddly contorted wiring: The output of the NOR gate on the left is an input to the ,NA,NA
"NOR gate on the right, and the output of the right NOR gate is an input to the left NOR gate. ",NA,NA
This is a type of ,NA,NA
feedback,NA,NA
". Indeed, just as in the oscillator, an output circles back to become an ",NA,NA
input. This ,NA,NA
idiosyncrasy will be a characteristic of most of the circuits in this chapter.,NA,NA
"At the outset, the only current flowing in this circuit is from the output of the left NOR gate. ",NA,NA
That's because both inputs to that gate are 0. Now close the upper switch. The output from the ,NA,NA
"left NOR gate becomes 0, which means the output from the right NOR gate becomes 1 and the ",NA,NA
lightbulb goes on:,NA,NA
The magic occurs when you now open the upper switch. Because the output of a NOR ,NA,NA
"gate is 0 if either input is 1, the output of the left NOR gate remains the same and the light ",NA,NA
remains lit:,NA,NA
"Now this is odd, wouldn't you say? Both switches are open—the same as in the first ",NA,NA
drawing—yet now the lightbulb is on. This situation is certainly different from anything we've ,NA,NA
seen before. Usually the output of a circuit is dependent solely upon the inputs. That doesn't ,NA,NA
"seem to be the case here. Moreover, at this point you can close and open that upper switch ",NA,NA
and the light remains lit. That switch has no further effect on the circuit because the output of ,NA,NA
the left NOR gate remains 0.,NA,NA
"Now close the lower switch. Because one of the inputs to the right NOR gate is now 1, the ",NA,NA
output becomes 0 and the lightbulb goes out. The output of the left NOR gate becomes 1:,NA,NA
Now you can open the bottom switch and the lightbulb stays off:,NA,NA
"We're back where we started. At this time, you can close and open the bottom switch with ",NA,NA
no further effect on the lightbulb. In summary,NA,NA
"Closing the top switch causes the lightbulb to go on, and it stays on when the top switch is ",NA,NA
opened.,NA,NA
"Closing the bottom switch causes the lightbulb to go off, and it stays off when the bottom ",NA,NA
switch is opened.,NA,NA
"The strangeness of this circuit is that sometimes when both switches are open the light is on, ",NA,NA
"and sometimes when both switches are open, the light is off. We can say that this circuit has ",NA,NA
two ,NA,NA
stable states,NA,NA
 when both switches are open. Such a circuit is called a ,NA,NA
flip-flop,NA,NA
", a word also ",NA,NA
used for beach sandals and the tactics of politicians. The flip-flop dates from 1918 with the ,NA,NA
work of English radio physicist William Henry Eccles (1875–1966) and F.W. Jordan (about ,NA,NA
whom not much seems to be known).,NA,NA
A flip-flop circuit ,NA,NA
retains information,NA,NA
". It ""remembers."" In particular, the flip-flop shown ",NA,NA
previously remembers which switch was most recently closed. If you happen to come upon ,NA,NA
"such a flip-flop in your travels and you see that the light is on, you can surmise that it was the ",NA,NA
"upper switch that was most recently closed; if the light is off, the lower switch was most ",NA,NA
recently closed.,NA,NA
"A flip-flop is very much like a seesaw. A seesaw has two stable states, never staying long in ",NA,NA
that precarious middle position. You can always tell from looking at a seesaw which side ,NA,NA
was pushed down most recently.,NA,NA
"Although it might not be apparent yet, flip-flops are essential tools. They add memory to a ",NA,NA
circuit to give it a history of what's gone on before. Imagine trying to count if you couldn't ,NA,NA
remember anything. You wouldn't know what number you were up to and what number ,NA,NA
"comes next! Similarly, a ",NA,NA
circuit ,NA,NA
that counts (which I'll show you later in this chapter) needs ,NA,NA
flip-flops.,NA,NA
There are a couple of different types of flip-flops. What I've just shown is the simplest and is ,NA,NA
called an R-S (or Reset-Set) flip-flop. The two NOR gates are more commonly drawn and ,NA,NA
labeled as in the diagram at the top of the next page to give it a symmetrical look.,NA,NA
"The output that we used for the lightbulb is traditionally called Q. In addition, there's a second ",NA,NA
output,NA,NA
called  (pronounced ,NA,NA
Q bar,NA,NA
") that's the opposite of Q. If Q is 0, then  is 1, and vice versa. The two",NA,NA
inputs are called S for ,NA,NA
set,NA,NA
 and R for ,NA,NA
reset,NA,NA
". You can think of these verbs as meaning ""set Q to ",NA,NA
"1"" and ""reset Q to 0."" When S is 1 (which corresponds to closing the top switch in the earlier ",NA,NA
"diagram), Q",NA,NA
becomes 1 and  becomes 0. When R is 1 (corresponding to closing the bottom switch in the ,NA,NA
earlier,NA,NA
"diagram), Q becomes 0 and  becomes 1. When both inputs are 0, the output indicates whether ",NA,NA
Q,NA,NA
was last set or reset. These results are summed up in the following table:,"Inputs
  
  Outputs
  
 S
  
 R
  
 Q
  
  
 1
  
 0
  
 1
  
 0
  
 0
  
 1
  
 0
  
 1
  
 0
  
 0
  
 Q
  
  
 1
  
 1
  
 Disallowd",NA
This is called a ,NA,NA
function table,NA,NA
 or a ,NA,NA
logic table,NA,NA
 or a ,NA,NA
truth table,NA,NA
. It shows the outputs that result ,NA,NA
from particular combinations of inputs. Because there are only two inputs to the R-S flip-,NA,NA
"flop, the number of combinations of inputs is four. These correspond to the four rows of the ",NA,NA
table under the headings.,NA,NA
Notice the row second from the bottom when S and R are both 0: The outputs are indicated as ,NA,NA
Q and ,NA,NA
. This means that the Q and  outputs remain what they were before both the S and R inputs ,NA,NA
became,NA,NA
0. The final row of the table indicates that a situation in which the S and R inputs are both 1 is ,NA,NA
disallowed,NA,NA
 or ,NA,NA
illegal,NA,NA
". This doesn't mean you'll get arrested for doing it, but if both inputs are 1 ",NA,NA
in this,NA,NA
"circuit, both outputs are 0, which violates the notion of  being the opposite of Q. So when ",NA,NA
you're,NA,NA
"designing circuitry that uses the R-S flip-flop, avoid situations in which the S and R inputs are ",NA,NA
both 1.,NA,NA
The R-S flip-flop is often drawn as a little box with the two inputs and two outputs labeled like ,NA,NA
this:,NA,NA
The R-S flip-flop is certainly interesting as a first example of a circuit that seems to ,NA,NA
"""remember"" which of two inputs was last a voltage. What turns out to be much more useful, ",NA,NA
"however, is a circuit that remembers whether a particular signal was 0 or 1 ",NA,NA
at a particular ,NA,NA
point in time,NA,NA
.,NA,NA
Let's think about how such a circuit should behave before we actually try to build it. It would ,NA,NA
have two inputs. Let's call one of them ,NA,NA
Data,NA,NA
". Like all digital signals, the Data input can be 0 or ",NA,NA
1. Let's call the other one ,NA,NA
Hold That Bit,NA,NA
", which is the digital equivalent of a person saying ""Hold ",NA,NA
"that thought."" Normally the Hold That Bit signal is 0, in which case the Data signal has no ",NA,NA
"effect on the circuit. When Hold That Bit is 1, the circuit reflects the value of the Data signal. ",NA,NA
"The Hold That Bit signal can then go back to being 0, at which time the circuit remembers the ",NA,NA
last value of the Data signal. Any changes in the Data signal have no further effect.,NA,NA
"In other words, we want something that has the following function table:","Inputs
  
 Outputs
  
 Data
  
  Hold That Bit
  
 Q
  
 0
  
 1
  
 0
  
 1
  
 1
  
 1
  
 0
  
 0
  
 Q
  
 1
  
 0
  
 Q",NA
"In the first two cases, when the Hold That Bit signal is 1, the output Q is the same as the Data ",NA,NA
"input. In the second two cases, when the Hold That Bit signal is 0, the Q output is the same as it ",NA,NA
"was before. Notice in the second two cases that when Hold That Bit is 0, the Q output is the ",NA,NA
"same regardless of what the Data input is. The function table can be simplified a little, like this:","Inputs
  
 Outputs
  
 Data
  
  Hold That Bit 
  
  Q
  
 0
  
 1
  
 0
  
 1
  
 1
  
 1
  
 X
  
 0
  
 Q",NA
"The X means ""don't care."" It doesn't matter what the Data input is because if the Hold That Bit ",NA,NA
"input is 0, the output Q is the same as it was before.",NA,NA
Implementing a Hold That Bit signal based on our existing R-S flip-flop requires that we ,NA,NA
"add two AND gates at the input end, as in the diagram at the top of the following page.",NA,NA
"Recall that the output of an AND gate is 1 only if both inputs are 1. In this diagram, the Q ",NA,NA
output is 0,NA,NA
and the  output is 1.,NA,NA
"As long as the Hold That Bit signal is 0, the Set signal has no effect on the outputs:",NA,NA
"Similarly, the Reset signal has no effect:",NA,NA
Only when the Hold That Bit signal is 1 will this circuit function the same way as the ,NA,NA
normal R-S flip-flop shown earlier:,NA,NA
It behaves like a normal R-S flip-flop because now the output of the upper AND gate is the ,NA,NA
"same as the Reset signal, and the output of the lower AND gate is the same as the Set signal.",NA,NA
"But we haven't yet achieved our goal. We want only two inputs, not three. How is this done? ",NA,NA
"If you recall the original function table of the R-S flip-flop, the case in which Set and Reset ",NA,NA
"were both 1 was disallowed, so we want to avoid that. And it doesn't make much sense for ",NA,NA
the Set and Reset signals to now both be 0 because that's simply the case in which the ,NA,NA
output didn't change. We can accomplish the same thing in this circuit by setting Hold That ,NA,NA
Bit to 0.,NA,NA
"So it makes sense that if Set is 1, Reset is 0; and if Set is 0, Reset is 1. A signal called Data can ",NA,NA
"be equivalent to a Set, and the Data signal inverted can be the Reset signal:",NA,NA
"In this case, both inputs are 0 and the output Q is 0 (which means that  is 1). As long as Hold ",NA,NA
That,NA,NA
"Bit is 0, the Data input has no effect on the circuit:",NA,NA
"But when Hold That Bit is 1, the circuit reflects the value of the Data input:",NA,NA
"The Q output is now the same as the Data input, and  is the opposite. Now Hold That Bit can ",NA,NA
go,NA,NA
back to being 0:,NA,NA
"The circuit now remembers the value of Data when Hold That Bit was last 1, regardless of ",NA,NA
"how Data changes. The Data signal could, for example, go back to 0 with no effect on the ",NA,NA
output:,NA,NA
This circuit is called a ,NA,NA
level-triggered D-type flip-flop,NA,NA
. The ,NA,NA
D,NA,NA
 stands for ,NA,NA
Data. Level-,NA,NA
triggered ,NA,NA
means that the flip-flop saves the value of the Data input when the Hold That Bit ,NA,NA
input is at a particular ,NA,NA
level,NA,NA
", in this case 1. (We'll look at an alternative to level-triggered ",NA,NA
flip-flops shortly.),NA,NA
"Usually when a circuit like this appears in a book, the input isn't labeled Hold That Bit. It's ",NA,NA
usually labeled ,NA,NA
Clock,NA,NA
". Of course, this signal isn't a ",NA,NA
real,NA,NA
" clock, but it might sometimes have ",NA,NA
"clocklike attributes, which means that it might tick back and forth between 0 and 1 on a ",NA,NA
"regular basis. But for now, the Clock input simply indicates when the Data input is to be ",NA,NA
saved:,NA,NA
"And usually when the function table is shown, Data is abbreviated as ",NA,NA
D,NA,NA
 and Clock is ,NA,NA
abbreviated as ,NA,NA
Clk,NA,NA
:,"Inputs
  
  Outputs",NA
This circuit is also known as a level-triggered D-type ,NA,NA
latch,NA,NA
", and that term simply means that ",NA,NA
the circuit ,NA,NA
latches onto,NA,NA
 one bit of data and keeps it around for further use. The circuit can also ,NA,NA
be referred to as a 1-bit ,NA,NA
memory,NA,NA
. I'll demonstrate in ,NA,NA
Chapter 16,NA,NA
 how very many of these flip-,NA,NA
flops can be wired together to provide many bits of memory.,NA,NA
Saving a multibit value in latches is often useful. Suppose you want to use the adding ,NA,NA
machine in ,NA,NA
Chapter 12,NA,NA
 to add three 8-bit numbers together. You'd key in the first number ,NA,NA
"on the first set of switches and the second number on the second set of switches as usual, ",NA,NA
but then you'd have to write down the result. You'd then have to key in that result on one ,NA,NA
set of switches and key in the third number on the other set of switches. You really ,NA,NA
shouldn't have to key in an intermediate result. You should be able to use it directly from ,NA,NA
the first calculation.,NA,NA
Let's solve this problem using latches. Let's assemble eight latches in a box. Each of the eight ,NA,NA
"latches uses two NOR gates and two AND gates and one inverter, as shown previously. The ",NA,NA
Clock inputs are all connected. Here's the resultant package:,NA,NA
This latch is capable of saving 8 bits at once. The eight inputs on the top are labeled D,0,NA
 ,NA,NA
through D,7,NA
", and the eight outputs on the bottom are labeled Q",0,NA
 through Q,7,NA
. The input at the ,NA,NA
"left is the Clock. The Clock signal is normally 0. When the Clock signal is 1, the 8-bit value on ",NA,NA
"the D inputs is transferred to the Q outputs. When the Clock signal goes back to 0, that 8-bit ",NA,NA
value stays there until the next time the Clock signal is 1.,NA,NA
The 8-Bit Latch can also be drawn with the eight Data inputs and eight Q outputs grouped ,NA,NA
together as you see on the following page.,NA,NA
Here's the 8-Bit Adder:,NA,NA
"Normally (ignoring what we did with subtraction in the last chapter), the eight A inputs and ",NA,NA
"eight B inputs are connected to switches, the CI (Carry In) input is connected to ground, and ",NA,NA
the eight S (Sum) outputs and CO (Carry Out) are connected to lightbulbs.,NA,NA
"In this revised version, the eight S outputs of the 8-Bit Adder can be connected to both the ",NA,NA
lightbulbs ,NA,NA
and,NA,NA
 the D inputs of the 8-Bit Latch. A switch labeled ,NA,NA
Save,NA,NA
 can be the Clock input of ,NA,NA
the latches to save a result from the adder:,NA,NA
The box labeled ,NA,NA
2-Line-to-1-Line Selector,NA,NA
 lets you choose with a switch whether you want the ,NA,NA
B inputs to the adder to come from the second row of switches or from the Q outputs of the ,NA,NA
latches. You close the switch to select the outputs from the 8-Bit Latch. The 2-Line-to-1-Line ,NA,NA
Selector uses eight of the following circuits:,NA,NA
"If the Select input is 1, the output of the OR gate is the same as the B input. That's because the ",NA,NA
"output of the top AND gate is the same as the B input, and the output of the bottom AND gate ",NA,NA
"is 0. Similarly, if the Select input is 0, the output is the same as the A input. This is summed up ",NA,NA
in the following function table:,"Inputs
  
 Outputs
  
 Select
  
  A
  
  B 
  
 Q
  
 0
  
 0 
  
 X 
  
 0
  
 0
  
 1 
  
 X 
  
 1
  
 1
  
 x 
  
 0
  
 0
  
 1
  
 x 
  
 1
  
 1",NA
The box shown in the revised adding machine comprises eight of these 1-bit selectors. All the ,NA,NA
Select inputs are wired together.,NA,NA
This revised adding machine isn't handling the Carry Out signal very well. If the addition of ,NA,NA
"two numbers causes the Carry Out signal to be 1, the signal is ignored when the next ",NA,NA
"number is added in. One possible solution is to make the Adder, the Latch, and the Selector ",NA,NA
"all 16 bits wide, or at least wider than the largest sum you'll encounter. I won't really be ",NA,NA
solving this problem until ,NA,NA
Chapter 17,NA,NA
.,NA,NA
A more interesting approach to the adding machine eliminates an entire row of eight ,NA,NA
switches. But first we need to modify the D-type flip-flop slightly by adding an OR gate and ,NA,NA
an input signal called ,NA,NA
Clear,NA,NA
". The Clear input is normally 0. But when it's 1, the Q output ",NA,NA
"becomes 0, as shown here:",NA,NA
"This signal forces Q to be 0 regardless of the other input signals, in effect clearing the flip-",NA,NA
flop.,NA,NA
"Why do we need this, you might ask? Why can't we clear the flip-flop by setting the Data ",NA,NA
"input to 0 and the Clock input to 1? Well, maybe we can't control exactly what's going into ",NA,NA
the Data input.,NA,NA
"Maybe we have a set of eight of these latches wired to the outputs of an 8-Bit Adder, like so:",NA,NA
Notice that the switch labeled ,NA,NA
Add,NA,NA
 now controls the Clock input of the latch.,NA,NA
"You might find this adder easier to use than the previous one, particularly if you need to add a ",NA,NA
long list of numbers. You begin by pressing the Clear switch. That action causes the output of ,NA,NA
"the latches to be 0, turning off all the lights and also setting the second set of inputs to the 8-",NA,NA
Bit Adder to all 0s. You key in the first number and press the Add button. That number ,NA,NA
appears on the lights. You then key in the second number and again press the Add button. The ,NA,NA
"number set up by the switches is added to the previous total, and it appears on the lights. Just ",NA,NA
continue keying in more numbers and pressing the Add switch.,NA,NA
I mentioned earlier that the D-type flip-flop we designed was ,NA,NA
level-triggered,NA,NA
. This means ,NA,NA
that the Clock input must change its ,NA,NA
level,NA,NA
 from 0 to 1 in order for the value of the Data input ,NA,NA
"to be stored in the latch. But during the time that the Clock input is 1, the Data input can ",NA,NA
change; any changes in the,NA,NA
Data input while the Clock input is 1 will be reflected in the values of the Q and  outputs.,NA,NA
"For some applications, a level-triggered Clock input is quite sufficient. But for other ",NA,NA
"applications, an ",NA,NA
edge-triggered,NA,NA
 Clock input is preferred. An edge trigger causes the outputs to ,NA,NA
change ,NA,NA
only when the Clock makes a transition from 0 to 1,NA,NA
". As with the level-triggered flip-flop, ",NA,NA
"when the Clock input is 0, any changes to the Data input don't affect the outputs. The ",NA,NA
difference in an edge-triggered flip-flop is that changes to the Data input also don't affect the ,NA,NA
outputs when the Clock input is 1. The Data input affects the outputs only at the instant that ,NA,NA
the Clock changes from 0 to 1.,NA,NA
"An edge-triggered D-type flip-flop is constructed from two stages of R-S flip-flops, wired ",NA,NA
together this way:,NA,NA
The idea here is that the Clock input controls both the first stage and the second stage. But ,NA,NA
notice that the clock is inverted in the first stage. This means that the first stage works exactly ,NA,NA
like a D-type flip-flop except that the Data input is stored when the Clock is 0. The outputs of ,NA,NA
"the second stage are inputs to the first stage, and these are saved when the Clock is 1. The ",NA,NA
overall result is that the Data input is saved when the Clock changes from 0 to 1.,NA,NA
Let's take a closer look. Here's the flip-flop at rest with both the Data and Clock inputs at 0 ,NA,NA
and the Q output at 0:,NA,NA
Now change the Data input to 1:,NA,NA
This changes the first flip-flop stage because the inverted Clock input is 1. But the ,NA,NA
second stage remains unchanged because the uninverted Clock input is 0. Now change ,NA,NA
the Clock input to 1:,NA,NA
"This causes the second stage to change, and the Q output goes to 1. The difference is that ",NA,NA
"the Data input can now change (for example, back to 0) without affecting the Q output:",NA,NA
The Q and  outputs can change only at the instant that the Clock input changes from 0 to 1.,NA,NA
"The function table of the edge-triggered D-type flip-flop requires a new symbol, which is an ",NA,NA
arrow pointing up (↑). This symbol indicates a signal making a transition from a 0 to a 1:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q
  
  
 0
  
 ↑
  
 0
  
 1
  
 1
  
 ↑
  
 1
  
 0
  
 X 
  
 0
  
 Q",NA
The arrow indicates that the output Q becomes the same as the Data input when the Clock ,NA,NA
makes a transition from 0 to 1. This is known as a ,NA,NA
positive transition,NA,NA
 of the Clock signal. (A ,NA,NA
negative,NA,NA
transition,NA,NA
 is the transition from 1 to 0.) The flip-flop has a diagram like this:,NA,NA
The little angle bracket indicates that the flip-flop is edge triggered.,NA,NA
Now I want to show you a circuit using the edge-triggered D-type flip-flop that you can't ,NA,NA
duplicate with the level-triggered version. You'll recall the oscillator that we constructed at ,NA,NA
the beginning of this chapter. The output of the oscillator alternates between 0 and 1:,NA,NA
Let's connect the output of the oscillator to the Clock input of the edgetriggered D-type flip-,NA,NA
flop. And,NA,NA
let's connect the  output to the D input:,NA,NA
The output of the flip-flop is itself an input to the flip-flop. It's feedback upon feedback! (In ,NA,NA
"practice, this could present a problem. The oscillator is constructed out of a relay that's ",NA,NA
flipping back and forth as fast as it can. The output of the oscillator is connected to the relays ,NA,NA
that make up the flip-flop.,NA,NA
These other relays might not be able to keep up with the speed of the oscillator. To ,NA,NA
"avoid these problems, let's assume that the relay used in the oscillator is much slower ",NA,NA
than the relays used elsewhere in these circuits.),NA,NA
"To see what happens in this circuit, let's look at a function table that illustrates the various ",NA,NA
changes.,NA,NA
"At the start, let's say that the Clock input is 0 and the Q output is 0. That means that the  ",NA,NA
"output is 1,",NA,NA
which is connected to the D input:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q
  
  
 1
  
 0
  
 0
  
 1",NA
"When the Clock input changes from 0 to 1, the Q output will become the same as the D input:","Inputs
  
  Outputs",NA
"But because the  output changes to 0, the D input will also change to 0. The Clock input is ",NA,NA
now 1:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q
  
  
 1
  
 0
  
 0
  
 1
  
 1
  
 ↑
  
 1
  
 0
  
 0
  
 1
  
 1
  
 0",NA
The Clock input changes to back to 0 without affecting the outputs:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q
  
  
 1
  
 0
  
 0
  
 1
  
 1
  
 ↑
  
 1
  
 0
  
 0
  
 1
  
 1
  
 0
  
 0
  
 0
  
 1
  
 0",NA
"Now the Clock input changes to 1 again. Because the D input is 0, the Q output becomes 0 ",NA,NA
and the ,NA,NA
output becomes 1:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q
  
  
 1
  
 0
  
 0
  
 1
  
 1
  
 ↑
  
 1
  
 0
  
 0
  
 1
  
 1
  
 0
  
 0
  
 0
  
 1
  
 0
  
 0
  
 ↑
  
 0
  
 1",NA
So the D input also becomes 1:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q",NA
What's happening here can be summed up very simply: Every time the Clock input changes ,NA,NA
from 0 to,NA,NA
"1, the Q output changes, either from 0 to 1 or from 1 to 0. The situation is clearer if we look at ",NA,NA
the,NA,NA
timing diagram:,NA,NA
"When the Clock input goes from 0 to 1, the value of D (which is the same as ) is transferred to ",NA,NA
"Q,",NA,NA
thus also changing  and D for the next transition of the Clock input from 0 to 1.,NA,NA
"If the frequency of the oscillator is 20 Hz (which means 20 cycles per second), the frequency ",NA,NA
of the Q,NA,NA
"output is half that, or 10 Hz. For this reason, such a circuit—in which the  output is routed ",NA,NA
back to,NA,NA
the Data input of a flip-flop—is also known as a ,NA,NA
frequency divider,NA,NA
.,NA,NA
"Of course, the output from the frequency divider can be the Clock input of another frequency ",NA,NA
divider,NA,NA
to divide the frequency once again. Here's an arrangement of three of them:,NA,NA
Let's look at the four signals I've labeled at the top of that diagram:,NA,NA
"I'll admit that I've started and ended this diagram at an opportune spot, but there's nothing ",NA,NA
dishonest about it: The circuit will repeat this pattern over and over again. But do you ,NA,NA
recognize anything familiar about it?,NA,NA
I'll give you a hint. Let's label these signals with 0s and 1s:,NA,NA
"Do you see it yet? Try turning the diagram 90 degrees clockwise, and read the 4-bit ",NA,NA
numbers going across. Each of them corresponds to a decimal number from 0 through 15:,"Binary
  
  Decimal
  
 0000
  
 0
  
 0001
  
 1
  
 0010
  
 2
  
 0011
  
 3
  
 0100
  
 4
  
 0101
  
 5
  
 0110
  
 6
  
 0111
  
 7",NA
"Thus, this circuit is doing nothing less than ",NA,NA
counting in binary numbers,NA,NA
", and the more flip-",NA,NA
"flops we add to the circuit, the higher it will count. I pointed out in ",NA,NA
Chapter 8,NA,NA
 that in a ,NA,NA
"sequence of increasing binary numbers, each column of digits alternates between 0 and 1 at ",NA,NA
half the frequency of the column to the right. The counter mimics this. At each positive ,NA,NA
"transition of the Clock signal, the outputs of the counter are said to ",NA,NA
increment,NA,NA
", that is, to ",NA,NA
increase by 1.,NA,NA
Let's string eight flip-flops together and put them in a box:,NA,NA
This is called a ,NA,NA
ripple,NA,NA
 counter because the output of each flip-flop becomes the Clock input ,NA,NA
"of the next flip-flop. Changes ripple through the stages sequentially, and the flip-flops at the ",NA,NA
end might be delayed a little in changing. More sophisticated counters are ,NA,NA
synchronous,NA,NA
", in ",NA,NA
which all the outputs change at the same time.,NA,NA
I've labeled the outputs Q,0,NA
 through Q,7,NA
. These are arranged so that the output from the first ,NA,NA
flip-flop in the chain (Q,0,NA
") is at the far right. Thus, if you connected lightbulbs to these outputs, ",NA,NA
you could read an 8-bit number. A timing diagram of such a counter could show all eight ,NA,NA
"outputs separately, or it could show them together, like this:",NA,NA
"At each positive transition of the Clock, some Q outputs might change and some might ",NA,NA
"not, but together they reflect increasing binary numbers.",NA,NA
I said earlier in this chapter that we'd discover some way to determine the frequency of an ,NA,NA
"oscillator. This is it. If you connect an oscillator to the Clock input of the 8-Bit Counter, the ",NA,NA
counter will show you how many cycles the oscillator has gone through. When the total ,NA,NA
"reaches 11111111 (255 in decimal), it goes back to 00000000. Probably the easiest way to ",NA,NA
use this counter to determine the,NA,NA
frequency of an oscillator is to connect eight lightbulbs to the outputs of the 8-Bit Counter. ,NA,NA
"Now wait until all the outputs are 0 (that is, when none of the lightbulbs are lit) and start a ",NA,NA
stopwatch. Stop the stopwatch when all the lights go out again. That's the time required for ,NA,NA
256 cycles of the oscillator. Say it's 10 seconds. The frequency of the oscillator is thus 256 ÷ ,NA,NA
"10, or 25.6 Hz.",NA,NA
"As flip-flops gain features, they also gain in complexity. This one is called an ",NA,NA
edge-triggered D-,NA,NA
type flip-flop with preset and clear,NA,NA
:,NA,NA
The Preset and Clear inputs override the Clock and Data inputs. Normally these two inputs ,NA,NA
are 0.,NA,NA
"When the Preset input is 1, Q becomes 1 and  becomes 0. When the Clear input is 1, Q ",NA,NA
becomes 0,NA,NA
"and  becomes 1. (Like the Set and Reset inputs of an R-S flip-flop, Preset and Clear shouldn't ",NA,NA
be 1,NA,NA
"at the same time.) Otherwise, this behaves like a normal edge-triggered D-type flip-flop:","Inputs
  
 Outputs
  
 Pre 
  
 Clr 
  
 D 
  
 Clk
  
  Q
  
  
 1
  
 0
  
 X 
  
 X
  
 1
  
 0
  
 0
  
 1
  
 X 
  
 X
  
 0
  
 1
  
 0
  
 0
  
 0
  
 ↑
  
 0
  
 1
  
 0
  
 0
  
 1
  
 ↑
  
 1
  
 0",NA
The diagram for the edge-triggered D-type flip-flop with preset and clear looks like this:,NA,NA
"We have now persuaded telegraph relays to add, subtract, and count in binary numbers. This ",NA,NA
"is quite an accomplishment, particularly considering that all the hardware we've been using ",NA,NA
was available more than a hundred years ago. We have still more to discover. But let's now ,NA,NA
take a short break from building things and have another look at number bases.,NA,NA
Chapter 15. Bytes and Hex,NA,NA
The two improved adding machines of the last chapter illustrate clearly the concept of ,NA,NA
data ,NA,NA
paths,NA,NA
.,NA,NA
"Throughout the circuitry, 8-bit values move from one component to another. Eight-bit values ",NA,NA
"are inputs to the adders, latches, and data selectors, and also outputs from these units. Eight-",NA,NA
bit values are also defined by switches and displayed by lightbulbs. The data path in these ,NA,NA
circuits is thus said to be ,NA,NA
8 bits wide,NA,NA
. But why ,NA,NA
8,NA,NA
 bits? Why not 6 or 7 or 9 or 10?,NA,NA
The simple answer is that these improved adding machines were based on the original adding ,NA,NA
machine in ,NA,NA
Chapter 12,NA,NA
", which worked with 8-bit values. But there's really no reason why it ",NA,NA
had to be built that way. Eight bits just seemed at the time to be a convenient amount—a nice ,NA,NA
biteful,NA,NA
" of bits, if you will. And perhaps I was being just a little bit sneaky, for I now confess that ",NA,NA
I knew all along (and perhaps you did as well) that 8 bits of data are known as a ,NA,NA
byte,NA,NA
.,NA,NA
The word ,NA,NA
byte,NA,NA
" originated at IBM, probably around 1956. The word had its origins in the ",NA,NA
word ,NA,NA
bite ,NA,NA
but was spelled with a ,NA,NA
y,NA,NA
 so that nobody would mistake the word for ,NA,NA
bit,NA,NA
. For a ,NA,NA
"while, a byte meant simply the number of bits in a particular data path. But by the mid-",NA,NA
"1960s, in connection with the development of IBM's System/360 (their large complex of ",NA,NA
"business computers), the word came to mean a group of 8 bits.",NA,NA
"As an 8-bit quantity, a byte can take on values from 00000000 through 11111111. These ",NA,NA
"values can represent positive integers from 0 through 255, or if two's complements are used ",NA,NA
"to represent negative numbers, they can represent both positive and negative integers in the ",NA,NA
range –128 through 127. Or a particular byte can simply represent one of 2,8,NA
", or 256, different ",NA,NA
things.,NA,NA
"It turns out that 8 is, indeed, a nice bite size of bits. The byte is right, in more ways than one. ",NA,NA
One reason that IBM gravitated toward 8-bit bytes was the ease in storing numbers in a ,NA,NA
format known as BCD (which I'll describe in ,NA,NA
Chapter 23,NA,NA
). But as we'll see in the chapters ,NA,NA
"ahead, quite by coincidence a byte is ideal for storing text because most written languages ",NA,NA
"around the world (with the exception of the ideographs used in Chinese, Japanese, and ",NA,NA
Korean) can be represented with fewer than 256 characters. A byte is also ideal for ,NA,NA
representing gray shades in black-and-white photographs because the human eye can ,NA,NA
differentiate approximately 256 shades of gray. And where 1 byte is inadequate (for ,NA,NA
"representing, for example, the aforementioned ideographs of Chinese, Japanese, and Korean), ",NA,NA
2 bytes—which allow the representation of 2,16,NA
", or 65,536, things—usually works just fine.",NA,NA
"Half a byte—that is, 4 bits—is sometimes referred to as a ",NA,NA
nibble,NA,NA
 (and is sometimes spelled ,NA,NA
nybble,NA,NA
"), but this word doesn't come up in conversation nearly as often as ",NA,NA
byte,NA,NA
.,NA,NA
"Because bytes show up a lot in the internals of computers, it's convenient to be able to refer ",NA,NA
"to their values in as succinct a manner as possible. The eight binary digits 10110110, for ",NA,NA
"example, are certainly explicit but hardly succinct.",NA,NA
"We could always refer to bytes by their decimal equivalents, of course, but that requires ",NA,NA
"converting from binary to decimal—not a particularly nasty calculation, but certainly a ",NA,NA
nuisance. I showed one approach in ,NA,NA
Chapter 8,NA,NA
 that's fairly straightforward. Because each ,NA,NA
"binary digit corresponds to a power of 2, we can simply write down the digits of the binary ",NA,NA
number and the powers of 2 underneath.,NA,NA
Multiply each column and add up the products. Here's the conversion of 10110110:,NA,NA
Converting a decimal number to binary is a bit more awkward. You start with the decimal ,NA,NA
"number and divide by decreasing powers of 2. For each division, the quotient is a binary ",NA,NA
digit and the remainder is divided by the next smallest power of 2. Here's the conversion of ,NA,NA
182 back to binary:,NA,NA
Chapter 8,NA,NA
" has a more extensive description of this technique. Regardless, converting ",NA,NA
between binary and decimal is usually not something that can be done without a paper and ,NA,NA
pencil or lots of practice.,NA,NA
In ,NA,NA
Chapter 8,NA,NA
", we also learned about the octal, or base-8, number system. Octal uses only the ",NA,NA
"digits 0, 1, 2, 3, 4, 5, 6, and 7. Converting between octal and binary is a snap. All you need ",NA,NA
"remember is the 3-bit equivalent of each octal digit, as shown in the table on the next page.","Binary
  
  Octal
  
 000
  
 0
  
 001
  
 1
  
 010
  
 2
  
 011
  
 3
  
 100
  
 4
  
 101
  
 5
  
 110
  
 6
  
 111
  
 7",NA
"If you have a binary number (such as 10110110), start at the rightmost digits. Each group of ",NA,NA
3 bits is an octal digit:,NA,NA
So the byte 10110110 can be expressed as the octal digits 266. This is certainly more ,NA,NA
"succinct, and octal is indeed one good method for representing bytes. But octal has a little ",NA,NA
problem.,NA,NA
The binary representations of bytes range from 00000000 through 11111111. The octal ,NA,NA
"representations of bytes range from 000 through 377. As is clear in the preceding example, ",NA,NA
"3 bits correspond to the middle and rightmost octal digits, but only 2 bits correspond to the ",NA,NA
leftmost octal digit. This means that an octal representation of a 16-bit number,NA,NA
isn't the same as the octal representations of the 2 bytes that compose the 16-bit number,NA,NA
In order for the representations of multibyte values to be consistent with the ,NA,NA
"representations of the individual bytes, we need to use a system in which each byte is ",NA,NA
divided into equal numbers of bits. That means that we need to divide each byte into four ,NA,NA
values of 2 bits each (that would be base 4) or two values of 4 bits each (base 16).,NA,NA
Base 16,NA,NA
". Now that's something we haven't looked at yet, and for good reason. The base-16 ",NA,NA
number system is called ,NA,NA
hexadecimal,NA,NA
", and even the word itself is a mess. Most words that ",NA,NA
begin with the ,NA,NA
hexa,NA,NA
- prefix (such as hexagon or hexapod or hexameter) refer to six of ,NA,NA
something. Hexadecimal is supposed to mean ,NA,NA
sixteen,NA,NA
. And even though ,NA,NA
The Microsoft ,NA,NA
Manual of Style for Technical Publications,NA,NA
" clearly states, ""Do not abbreviate as ",NA,NA
hex,NA,NA
", "" ",NA,NA
everyone always does and I will too.,NA,NA
"That's not the only peculiarity of hexadecimal. In decimal, we count like this:",0 1 2 3 4 5 6 7 8 9 10 11 12…,NA
"In octal, you'll recall, we no longer need digits 8 and 9:",0 1 2 3 4 5 6 7 10 11 12…,NA
"Similarly, the base-4 number system also doesn't need 4, 5, 6, or 7:",0 1 2 3 10 11 12…,NA
"And binary, of course, needs only 0 and 1:",0 1 10 11 100…,NA
But hexadecimal is different because it requires ,NA,NA
more,NA,NA
 digits than decimal. Counting in ,NA,NA
hexadecimal goes something like this:,0 1 2 3 4 5 6 7 8 9 ? ? ? ? ? ? 10 11 12…,NA
where 10 (pronounced ,NA,NA
one-zero,NA,NA
) is actually 16,TEN,NA
. The question marks indicate that we need ,NA,NA
six more symbols to display hexadecimal numbers. What are these symbols? Where do they ,NA,NA
"come from? Well, they weren't handed down to us in tradition like the rest of our number ",NA,NA
"symbols, so the rational thing to do is make up six new symbols, for example:",NA,NA
"Unlike the symbols used for most of our numbers, these have the benefit of being easy to ",NA,NA
remember and identify with the actual quantities they represent. There's a 10-gallon cowboy ,NA,NA
"hat, a football (11",NA,NA
"players on a team), a dozen donuts, a black cat (associated with unlucky 13), a full moon that ",NA,NA
"occurs about a fortnight (14 days) after the new moon, and a knife that reminds us of the ",NA,NA
assassination of Julius Caesar on the ides (the 15th day) of March.,NA,NA
"Each byte can be expressed as two hexadecimal digits. In other words, a hexadecimal digit ",NA,NA
"is equivalent to 4 bits, or 1 nibble. The table on the next page shows how to convert ",NA,NA
"between binary, hexadecimal, and decimal.","Binary
  
  Hexadecimal
  
  Decimal
  
  Binary
  
  Hexadecimal
  
  Decimal
  
 0000
  
 0
  
 0
  
 1000
  
 8
  
 8
  
 0001
  
 1
  
 1
  
 1001
  
 9
  
 9
  
 0010
  
 2
  
 2
  
 1010
  
  
 10
  
 0011
  
 3
  
 3
  
 1011
  
  
 11
  
 0100
  
 4
  
 4
  
 1100
  
  
 12
  
 0101
  
 5
  
 5
  
 1101
  
  
 13
  
 0110
  
 6
  
 6
  
 1110
  
  
 14
  
 0111
  
 7
  
 7
  
 1111
  
  
 15",NA
Here's how to represent the byte 10110110 in hexadecimal:,NA,NA
And it doesn't matter if we're dealing with multibyte numbers:,NA,NA
One byte is always represented by a pair of hexadecimal digits.,NA,NA
"Unfortunately (or perhaps, much to your relief), we really aren't going to be using footballs ",NA,NA
"and donuts to write hexadecimal numbers. It could have been done that way, but it wasn't. ",NA,NA
"Instead, the ",NA,NA
hexadecimal system ensures that everybody gets really confused and stays that way. Those six ,NA,NA
missing,NA,NA
"hexadecimal digits are actually represented by the first six letters of the Latin alphabet, ",NA,NA
like this: ,0 1 2 3 4 5 6 7 8 9 A B C D E F 10 11 12…,NA
The following table shows the ,NA,NA
real,NA,NA
" conversion between binary, hexadecimal, and ",NA,NA
decimal:,"Binary
  
  Hexadecimal
  
  Decimal
  
 0000
  
 0
  
 0
  
 0001
  
 1
  
 1
  
 0010
  
 2
  
 2
  
 0011
  
 3
  
 3
  
 0100
  
 4
  
 4
  
 0101
  
 5
  
 5
  
 0110
  
 6
  
 6
  
 0111
  
 7
  
 7
  
 1000
  
 8
  
 8
  
 1001
  
 9
  
 9
  
 1010
  
 A
  
 10
  
 1011
  
 B
  
 11
  
 1100
  
 C
  
 12
  
 1101
  
 D
  
 13
  
 1110
  
 E
  
 14
  
 1111
  
 F
  
 15",NA
The byte 10110110 can thus be represented by the hexadecimal number B6 without your ,NA,NA
"drawing a football. As you'll recall from previous chapters, I've been indicating number ",NA,NA
"bases by subscripts, such as ",10110110TWO,NA
"for binary, and ",2312FOUR,NA
"for quaternary, and ",266EIGHT,NA
"for octal, and ",182TEN,NA
"for decimal. To continue the same system, we can use",B6SIXTEEN,NA
"for hexadecimal. But that's clearly excessive. Fortunately, several other, terser, methods of ",NA,NA
denoting hexadecimal numbers are common. You can indicate the numbers this way:,B6HEX,NA
"In this book, I'll be using mostly a very common approach, which is a lowercase ",NA,NA
h,NA,NA
 ,NA,NA
"following the number, like so:",B6h,NA
"In a hexadecimal number, the positions of each digit correspond to powers of 16:",NA,NA
The hexadecimal number 9A48Ch is,"9A48Ch = 9 x 10000h 
 + 
  
 A x 1000h + 
  
 4 x 100h + 
  
 8 x 10h + 
  
 C x 1h",NA
This can be written using powers of 16:,"9A48Ch = 9 x 16
 4
  
 + 
  
 A x 16
 3
  + 
  
 4 x 16
 2
  + 
  
 8 x 16
 1
  + 
  
 C x 16
 0",NA
Or using the decimal equivalents of those powers:,"9A48Ch = 9 x 65,536 
 + 
  
 A x 4096 + 
  
 4 x 256 +",NA
"Notice that there's no ambiguity in writing the single digits of the number (9, A, 4, 8, and C) ",NA,NA
without a,NA,NA
subscript to indicate the number base. A 9 is a 9 whether it's decimal or hexadecimal. And ,NA,NA
an A is obviously hexadecimal—equivalent to 10 in decimal.,NA,NA
Converting all the digits to decimal lets us actually do the calculation:,"9A48Ch = 9 x 65,536 +
  
 10 x 4096 +
  
 4 x 256 +
  
 8 x 16 +
  
 12 x 1",NA
"And the answer is 631,948. This is how hexadecimal numbers are converted to decimal.",NA,NA
Here's a template for converting any 4-digit hexadecimal number to decimal:,NA,NA
"For example, here's the conversion of 79ACh. Keep in mind that the hexadecimal digits A ",NA,NA
"and C are decimal 10 and 12, respectively:",NA,NA
Converting decimal numbers to hexadecimal generally requires divisions. If the number is ,NA,NA
"255 or smaller, you know that it can be represented by 1 byte, which is two hexadecimal ",NA,NA
"digits. To calculate those two digits, divide the number by 16 to get the quotient and the ",NA,NA
remainder. Let's use an earlier example—the decimal number 182. Divide 182 by 16 to get 11 ,NA,NA
(which is a B in hexadecimal) with a remainder of 6. The hexadecimal equivalent is B6h.,NA,NA
"If the decimal number you want to convert is smaller than 65,536, the hexadecimal ",NA,NA
equivalent will have four digits or fewer. Here's a template for converting such a number to ,NA,NA
hexadecimal:,NA,NA
You start by putting the entire decimal number in the box in the upper left corner. That's ,NA,NA
"your first dividend. Divide by 4096, the first divisor. The quotient goes in the box below the ",NA,NA
"dividend, and the remainder goes in the box to the right of the dividend. That remainder is ",NA,NA
"the new dividend that you divide by 256. Here's the conversion of 31,148 back to ",NA,NA
hexadecimal:,NA,NA
"Of course, decimal numbers 10 and 12 correspond to hexadecimal A and C. The result is ",NA,NA
79ACh.,NA,NA
One problem with this technique is that you probably want to use a calculator for the ,NA,NA
"divisions, but calculators don't show remainders. If you divide 31,148 by 4096 on a ",NA,NA
"calculator, you'll get ",NA,NA
"7.6044921875. To calculate the remainder, you need to multiply 4096 by 7 (to get 28,672) ",NA,NA
"and subtract that from 31,148. Or multiply 4096 by 0.6044921875, the fractional part of the ",NA,NA
"quotient. (On the other hand, some calculators can convert between decimal and ",NA,NA
hexadecimal.),NA,NA
"Another approach to converting decimal numbers through 65,535 to hex involves first ",NA,NA
"separating the number into 2 bytes by dividing by 256. Then for each byte, divide by 16. ",NA,NA
Here's a template for doing it:,NA,NA
"Start at the top. With each division, the quotient goes in the box to the left below the divisor, ",NA,NA
"and the remainder goes in the box to the right. For example, here's the conversion of 51,966:",NA,NA
"The hexadecimal digits are 12, 10, 15, and 14, or CAFE, which looks more like a word ",NA,NA
"than a number! (And if you go there, you may want to order your coffee 56,495.)",NA,NA
"As for every other number base, there's an addition table associated with hexadecimal:","+ 
  
 0 
  
 1
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 A
  
 B
  
 C
  
 D
  
 E
  
 F
  
 0
  
 0
  
 1
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 A
  
 B
  
 C
  
 D
  
 E
  
 F
  
 1
  
 1
  
 2
  
 3
  
 4
  
 5
  
 6
  
 7
  
 8
  
 9
  
 A
  
 B
  
 C
  
 D
  
 E
  
 F
  
 10",NA
You can use the table and normal carry rules to add hexadecimal numbers:,NA,NA
You'll recall from ,NA,NA
Chapter 13,NA,NA
 that you can use two's complements to represent negative ,NA,NA
"numbers. If you're dealing with 8-bit signed values in binary, the negative numbers all begin ",NA,NA
with 1. In ,NA,NA
"hexadecimal, 2-digit signed numbers are negative if they begin with 8, 9, A, B, C, D, E, or F ",NA,NA
"because the binary representations of these hexadecimal digits all begin with 1. For example, ",NA,NA
99h could represent either decimal 153 (if you know you're dealing with 1-byte unsigned ,NA,NA
numbers) or decimal –103 (if you're dealing with signed numbers).,NA,NA
"Or the byte 99h could actually be the number 99 in decimal! This has a certain appeal to it, of ",NA,NA
"course, but it seems to violate everything we've learned so far. I'll explain how it works in ",NA,NA
Chapter 23,NA,NA
. But next I must talk about memory.,NA,NA
Chapter 16. An Assemblage of Memory,NA,NA
"As we rouse ourselves from sleep every morning, memory fills in the blanks. We remember ",NA,NA
"where we are, what we did the day before, and what we plan to do today. These memories ",NA,NA
"might come in a rush or a dribble, and maybe after some minutes a few lapses might persist ",NA,NA
"(""Funny, I don't remember wearing my socks to bed""), but all in all we can usually reassemble ",NA,NA
our lives and achieve enough continuity to commence living another day.,NA,NA
"Of course, human memory isn't very orderly. Try to remember something about high school ",NA,NA
"geometry, and you're likely to start thinking about the kid who sat in front of you or the day ",NA,NA
there was a fire drill just as the teacher was about to explain what QED meant.,NA,NA
"Nor is human memory foolproof. Indeed, writing was probably invented specifically to ",NA,NA
compensate for the failings of human memory. Perhaps last night you suddenly woke up at ,NA,NA
3:00 A.M. with a great idea for a screenplay. You grabbed the pen and paper you keep by your ,NA,NA
"bed specifically for that purpose, and you wrote it down so you wouldn't forget. The next ",NA,NA
"morning you can read the brilliant idea and start work on the screenplay. (""Boy meets girl w. ",NA,NA
"car chase & explosions""? That's it?) Or maybe not.",NA,NA
We ,NA,NA
write,NA,NA
 and we later ,NA,NA
read,NA,NA
. We ,NA,NA
save,NA,NA
 and we later ,NA,NA
retrieve,NA,NA
. We ,NA,NA
store,NA,NA
 and we later ,NA,NA
access,NA,NA
. ,NA,NA
The function of memory is to keep the information intact between those two events. ,NA,NA
"Anytime we store information, we're making use of different types of memory. Paper is a ",NA,NA
"good medium for storing textual information, and magnetic tape works well for music and ",NA,NA
movies.,NA,NA
Telegraph relays too—when assembled into logic gates and then flip-flops—can store ,NA,NA
"information. As we've seen, a flip-flop is capable of storing 1 bit. This isn't a whole lot of ",NA,NA
"information, but it's a start. For once we know how to store 1 bit, we can easily store 2, or 3, ",NA,NA
or more.,NA,NA
In ,NA,NA
Chapter 14,NA,NA
", we encountered the level-triggered D-type flip-flop, which is made out of an ",NA,NA
"inverter, two AND gates, and two NOR gates:",NA,NA
"When the Clock input is 1, the Q output is the same as the Data input. But when the Clock ",NA,NA
"input goes to 0, the Q output holds the last value of the Data input. Further changes to the ",NA,NA
Data input don't affect the outputs until the Clock input goes to 1 again. The logic table of the ,NA,NA
flip-flop is the following:,"Inputs
  
  Outputs
  
 D 
  
 Clk 
  
 Q 
  
 Q-bar",NA
In ,NA,NA
Chapter 14,NA,NA
", this flip-flop was featured in a couple of different circuits, but in this chapter it ",NA,NA
"will be used in only one way—to store 1 bit of information. For that reason, I'm going to ",NA,NA
rename the inputs and outputs so that they'll be more in accordance with that purpose:,NA,NA
"This is the same flip-flop, but now the Q output is named Data Out, and the Clock input (which ",NA,NA
started out in ,NA,NA
Chapter 14,NA,NA
 as ,NA,NA
Hold That Bit,NA,NA
) is named Write. Just as we might write down some ,NA,NA
"information on paper, the Write signal causes the Data In signal to be ",NA,NA
written into,NA,NA
 or ,NA,NA
stored,NA,NA
 in ,NA,NA
the circuit.,NA,NA
"Normally, the Write input is 0 and the Data In signal has no effect on the output. But whenever ",NA,NA
"we want to store the Data In signal in the flip-flop, we make the Write input 1 and then 0 ",NA,NA
again. As I mentioned in ,NA,NA
Chapter 14,NA,NA
", this type of circuit is also called a ",NA,NA
latch,NA,NA
 because it latches ,NA,NA
onto data. Here's how we might represent a 1-bit latch without drawing all of the individual ,NA,NA
components:,NA,NA
It's fairly easy to assemble multiple 1-bit latches into a multibit latch. All you have to do is ,NA,NA
connect the Write signals:,NA,NA
"This 8-bit latch has eight inputs and eight outputs. In addition, the latch has a single input ",NA,NA
"named Write that's normally 0. To save an 8-bit value in this latch, make the Write input 1 and ",NA,NA
"then 0 again. This latch can also be drawn as a single box, like so:",NA,NA
"Or to be more consistent with the 1-bit latch, it can be drawn this way:",NA,NA
Another way of assembling eight 1-bit latches isn't quite as straightforward as this. Suppose ,NA,NA
we want only one Data In signal and one Data Out signal. But we want the ability to save the ,NA,NA
"value of the Data In signal at eight different times during the day, or maybe eight different ",NA,NA
times during the next minute. And we also want the ability to later check those eight values ,NA,NA
by looking at just one Data Out signal.,NA,NA
"In other words, rather than saving one 8-bit value as in the 8-bit latch, we want to save eight ",NA,NA
separate 1-bit values.,NA,NA
"Why do we want to do it this way? Well, maybe because we have only one lightbulb.",NA,NA
We know we need eight 1-bit latches. Let's not worry right now about how data actually gets ,NA,NA
stored in these latches. Let's focus first on checking the Data Out signals of these eight latches ,NA,NA
"using only one lightbulb. Of course, we could always test the output of each latch by ",NA,NA
manually,NA,NA
 ,NA,NA
"moving the lightbulb from latch to latch, but we'd prefer something a bit more automated than ",NA,NA
"that. In fact, we'd like to use switches to select which of the eight 1-bit latches we want to look ",NA,NA
at.,NA,NA
"How many switches do we need? If we want to select something from eight items, we need ",NA,NA
"three switches. Three switches can represent eight different values: 000, 001, 010, 011, 100, ",NA,NA
"101, 110, and 111.",NA,NA
"So here are our eight 1-bit latches, three switches, a lightbulb, and something else that we ",NA,NA
need in between the switches and the lightbulb:,NA,NA
"The ""something else"" is that mysterious box with eight inputs on top and three inputs on the ",NA,NA
"left. By closing and opening the three switches, we can select which of the eight inputs is ",NA,NA
routed to the output at the bottom of the box. This output lights up the lightbulb.,NA,NA
"So what exactly is ""What Is This?""? We've encountered something like it before, although not ",NA,NA
with so many inputs. It's similar to a circuit we used in ,NA,NA
Chapter 14,NA,NA
 in the first revised adding ,NA,NA
"machine. At that time, we needed something that let us select whether a row of switches or ",NA,NA
"the output from a latch was used as an input to the adder. In that chapter, it was called a 2-",NA,NA
Line-to-1-Line Selector. Here we need an ,NA,NA
8-Line-to-1-Line Data Selector,NA,NA
:,NA,NA
The 8-to-1 Selector has eight Data inputs (shown at the top) and three Select inputs (shown at ,NA,NA
the left). The Select inputs choose which of the Data inputs appears at the Output. For ,NA,NA
"example, if the Select inputs are 000, the Output is the same as D",0,NA
". If the Select inputs are 111, ",NA,NA
the Output is the same as D,7,NA
". If the Select inputs are 101, the Output is the same as D",5,NA
. Here's ,NA,NA
the logic table:,NA,NA
"The 8-to-1 Selector is built from three inverters, eight 4-input AND gates, and an 8-input ",NA,NA
"OR gate, like this:",NA,NA
"Now, this is a fairly hairy circuit, but perhaps just one example will convince you that it ",NA,NA
works.,NA,NA
Suppose S,2,NA
" is 1, S",1,NA
" is 0, and S",0,NA
 is 1. The inputs to the sixth AND gate from the top include S,0,NA
", ",1,NA
", ",NA,NA
S,2,NA
", all of which are 1. No other AND gate has these three inputs, so all the other AND gates will ",NA,NA
have an output of 0. The sixth AND gate from the top will possibly have an output of 0 if D,5,NA
 is ,NA,NA
0. Or it will have an output of 1 if D,5,NA
" is 1. The same goes for the OR gate at the far right. Thus, ",NA,NA
if the Select inputs,NA,NA
"are 101, the Output is the same as D",5,NA
.,NA,NA
Let's recap what we're trying to do here. We're trying to wire eight 1-bit latches so that they ,NA,NA
can be individually written to using a single Data In signal and individually examined using a ,NA,NA
single Data Out signal. We've already established that we can choose a Data Output signal ,NA,NA
"from one of the eight latches by using an 8-to-1 Selector, as shown on the following page.",NA,NA
"We're halfway finished. Now that we've established what we need for the output side, let's ",NA,NA
look at the input side.,NA,NA
The input side involves the Data input signals and the Write signal. On the input side of the ,NA,NA
"latches, we can connect all the Data input signals together. But we can't connect the eight ",NA,NA
Write signals together because we want to be able to write into each latch individually. We ,NA,NA
have a single Write signal that must be routed to one (and only one) of the latches:,NA,NA
"To accomplish this task, we need another circuit that looks somewhat similar to the 8-to-1 ",NA,NA
Selector but actually does the opposite. This is the ,NA,NA
3-to-8 Decoder,NA,NA
. We've also seen a simple ,NA,NA
Data Decoder before—when wiring the switches to select the color of our ideal cat in ,NA,NA
Chapter 11,NA,NA
.,NA,NA
"The 3-to-8 Decoder has eight Outputs. At any time, all but one of the Outputs are 0. The ",NA,NA
exception is the Output that's selected by the S,0,NA
", S",1,NA
", and S",2,NA
 inputs. This Output is the same as ,NA,NA
the Data Input.,NA,NA
"Again, notice that the inputs to the sixth AND gate from the top include S",0,NA
", ",1,NA
", S",2,NA
. No other AND ,NA,NA
"gate has these three inputs. So if the Select inputs are 101, then all the other AND gates will ",NA,NA
have an output of 0. The sixth AND gate from the top will possibly have an output of 0 if the ,NA,NA
Data Input is 0 or an output of 1 if the Data Input is 1. Here's the complete logic table:,"Inputs
  
 Outputs
  
 S
 2
  
  S
 1
  
  S
 0
  
  O
 7
  
 O
 6
  
 O
 5
  
 O
 4
  
 O
 4
  
 O
 2
  
 O
 1
  
 O
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 Data
  
 0
  
 0
  
 1
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 Data 
  
 0
  
 0
  
 1
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 Data 
  
 0
  
 0
  
 0
  
 1
  
 1
  
 0
  
 0
  
 0
  
 0
  
 Data 
  
 0
  
 0
  
 0
  
 1
  
 0
  
 0
  
 0
  
 0
  
 0
  
 Data 
  
 0
  
 0
  
 0
  
 0
  
 1
  
 0
  
 1
  
 0
  
 0
  
 Data 
  
 0
  
 0
  
 0
  
 0
  
 0
  
 1
  
 1
  
 0
  
 0
  
 Data 
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 1
  
 1
  
 1
  
 Data 
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0
  
 0",NA
And here's the complete circuit with the 8 latches:,NA,NA
Notice that the three Select signals to the Decoder and the Selector are the same and that I've ,NA,NA
also labeled those three signals the ,NA,NA
Address,NA,NA
". Like a post office box number, this 3-bit address ",NA,NA
determines,NA,NA
"which of the eight 1-bit latches is being referenced. On the input side, the Address input ",NA,NA
determines which latch the Write signal will trigger to store the Data input. On the output ,NA,NA
"side (at the bottom of the figure), the Address input controls the 8-to-1 Selector to select the ",NA,NA
output of one of the eight latches.,NA,NA
This configuration of latches is sometimes known as ,NA,NA
read/write memory,NA,NA
", but more ",NA,NA
commonly as ,NA,NA
random access memory,NA,NA
", or RAM (pronounced the same as the animal). This ",NA,NA
particular RAM configuration stores eight separate 1-bit values. It can be represented this ,NA,NA
way:,NA,NA
It's called ,NA,NA
memory,NA,NA
 because it retains information. It's called ,NA,NA
read/write,NA,NA
 memory because you ,NA,NA
"can store a new value in each latch (that is, ",NA,NA
write,NA,NA
 the value) and because you can determine ,NA,NA
"what's stored in each latch (that is, you can later ",NA,NA
read,NA,NA
 the value). It's called ,NA,NA
random access,NA,NA
 ,NA,NA
memory because each of the eight latches can be read from or written to simply by changing ,NA,NA
"the Address inputs. In contrast, some other types of memory have to be read sequentially—",NA,NA
"that is, you'd have to read the value stored at address 100 before you could read the value ",NA,NA
stored at address 101.,NA,NA
A particular configuration of RAM is often referred to as a RAM ,NA,NA
array,NA,NA
. This particular RAM ,NA,NA
array is organized in a manner called in abbreviated form ,NA,NA
8 x 1,NA,NA
 (pronounced ,NA,NA
eight by one,NA,NA
). ,NA,NA
Each of the eight values in the array is 1 bit. Multiply the two values to get the total number of ,NA,NA
bits that can be stored in the RAM array.,NA,NA
"RAM arrays can be combined in various ways. For example, you can take two 8 x 1 RAM arrays ",NA,NA
and arrange them so that they are addressed in the same way:,NA,NA
"The Address and Write inputs of the two 8 x 1 RAM arrays are connected, so the result is ",NA,NA
an 8 x 2 RAM array:,NA,NA
"This RAM array stores eight values, but each of them is 2 bits in size.",NA,NA
Or the two 8 x 1 RAM arrays can be combined in much the same way that the individual ,NA,NA
"latches were combined—by using a 2-to-1 Selector and a 1-to-2 Decoder, as shown on the ",NA,NA
next page.,NA,NA
The Select input that goes to both the Decoder and the Selector essentially selects between ,NA,NA
the two 8 x 1 RAM arrays. It's really a fourth address line. So this is actually a 16 x 1 RAM ,NA,NA
array:,NA,NA
"This RAM array stores 16 values, each of which is 1 bit.",NA,NA
The number of values that a RAM array stores is directly related to the number of Address ,NA,NA
"inputs. With no Address inputs (which is the case with the 1-bit latch and the 8-bit latch), only ",NA,NA
"one value can be stored. With one Address input, two values are possible. With two Address ",NA,NA
"inputs, four values are stored. With three Address inputs, eight values, and with four Address ",NA,NA
"inputs, sixteen values. The relationship is summed up by this equation:","Number of values in RAM array = 2
 Number of Address inputs",NA
"I've demonstrated how small RAM arrays can be constructed, and it shouldn't be difficult to ",NA,NA
imagine much larger ones. For example,NA,NA
"This RAM array stores a total of 8196 bits, organized as 1024 values of eight bits each. There ",NA,NA
are ten Address inputs because 2,10,NA
 equals 1024. There are eight Data inputs and eight Data ,NA,NA
outputs.,NA,NA
"In other words, this RAM array stores 1024 bytes. It's like a post office with 1024 post office ",NA,NA
boxes. Each one has a different 1-byte value inside (which may or may not be better than ,NA,NA
junk mail).,NA,NA
One thousand twenty-four bytes is known as a ,NA,NA
kilobyte,NA,NA
", and herein lies much confusion. The ",NA,NA
prefix ,NA,NA
kilo,NA,NA
 (from the Greek ,NA,NA
khilioi,NA,NA
", meaning a thousand) is most often used in the metric ",NA,NA
"system. For example, a kilogram is 1000 grams and a kilometer is 1000 meters. But here I'm ",NA,NA
saying that a kilobyte is 1024 bytes—,NA,NA
not,NA,NA
 1000 bytes.,NA,NA
"The problem is that the metric system is based on powers of 10, and binary numbers are ",NA,NA
"based on powers of 2, and never the twain shall meet. Powers of 10 are 10, 100, 1000, 10000, ",NA,NA
"100000, and so on. Powers of 2 are 2, 4, 8, 16, 32, 64, and so on. There is no integral power of ",NA,NA
10 that equals some integral power of 2.,NA,NA
"But every once in a while they do come close. Yes, 1000 is fairly close to 1024, or to put it ",NA,NA
"more mathematically using an ""approximately equal to"" sign:",NA,NA
Nothing is magical about this relationship. All it implies is that a particular power of 2 is,NA,NA
approximately equal to a particular power of 10. This little quirk allows people to ,NA,NA
conveniently refer to a kilobyte of memory when they really mean 1024 bytes.,NA,NA
Kilobyte is abbreviated K or KB. The RAM array shown above can be said to store 1024 bytes ,NA,NA
or 1 kilobyte or 1K or 1 KB.,NA,NA
What you ,NA,NA
don't,NA,NA
" say is that a 1-KB RAM array stores 1000 bytes, or (in English) ""one thousand ",NA,NA
"bytes."" It's ",NA,NA
more,NA,NA
 than a thousand—it's 1024. To sound like you know what you're talking ,NA,NA
"about, you say either ""1K"" or ""one kilobyte."" ",NA,NA
"One kilobyte of memory has eight Data inputs, eight Data outputs, and ten Address inputs. ",NA,NA
"Because the bytes are accessed by ten Address inputs, the RAM array stores 2",10,NA
 bytes. ,NA,NA
"Whenever we add another address input, we double the amount of memory. Each line of the ",NA,NA
following sequence represents a doubling of memory:,"1 kilobyte = 1024 bytes = 2
 10
  bytes ≈ 10
 3
  bytes 
  
 2 kilobytes = 2048 bytes = 2
 11
  bytes 
  
 4 kilobytes = 4096 bytes = 2
 12
  bytes 
  
 8 kilobytes = 8192 bytes = 2
 13
  bytes 
  
 16 kilobytes = 16,384 bytes = 2
 14
  bytes 
  
 32 kilobytes = 32,768 bytes = 2
 15
  bytes 
  
 64 kilobytes = 65,536 bytes = 2
 16
  bytes 
  
 128 kilobytes = 131,072 bytes = 2
 17
  bytes 
  
 256 kilobytes = 262,144 bytes = 2
 18
  bytes 
  
 512 kilobytes = 524,288 bytes = 2
 19
  bytes 
  
 1,024 kilobytes = 1,048,576 bytes = 2
 20
  bytes ≈ 10
 6
  
 bytes",NA
Note that the numbers of kilobytes shown on the left are also powers of 2.,NA,NA
"With the same logic that lets us call 1024 bytes a kilobyte, we can also refer to 1024 ",NA,NA
kilobytes as a ,NA,NA
megabyte,NA,NA
. (The Greek word ,NA,NA
megas,NA,NA
 means ,NA,NA
great,NA,NA
.) Megabyte is abbreviated ,NA,NA
MB. And the memory doubling continues:,"1 megabyte = 1,048,576 bytes = 2
 20
  bytes ≈ 10
 6
  bytes 
  
 2 megabytes = 2,097,152 bytes = 2
 21
  bytes 
  
 4 megabytes = 4,194,304 bytes = 2
 22
  bytes 
  
 8 megabytes = 8,388,608 bytes = 2
 23
  bytes 
  
 16 megabytes = 16,777,216 bytes = 2
 24
  bytes 
  
 32 megabytes = 33,554,432 bytes = 2
 25
  bytes 
  
 64 megabytes = 67,108,864 bytes = 2
 26
  bytes 
  
 128 megabytes = 134,217,728 bytes = 2
 27
  bytes 
  
 256 megabytes = 268,435,456 bytes = 2
 28
  bytes 
  
 512 megabytes = 536,870,912 bytes = 2
 29
  bytes",NA
The Greek work ,NA,NA
gigas,NA,NA
 means ,NA,NA
giant,NA,NA
", so 1024 megabytes are called a ",NA,NA
gigabyte,NA,NA
", which is ",NA,NA
abbreviated GB.,NA,NA
"Similarly, a ",NA,NA
terabyte,NA,NA
 (,NA,NA
teras,NA,NA
 means ,NA,NA
monster,NA,NA
) equals 2,40,NA
 bytes (approximately ,NA,NA
10,12,NA
") or 1,099,511,627,776 bytes. Terabyte is abbreviated TB.",NA,NA
"A kilobyte is approximately a thousand bytes, a megabyte is approximately a million bytes, a ",NA,NA
"gigabyte is approximately a billion bytes, and a terabyte is approximately a trillion bytes.",NA,NA
"Ascending into regions that few have traveled, a ",NA,NA
petabyte,NA,NA
 equals 2,50,NA
 bytes or ,NA,NA
"1,125,899,906,842,624 bytes, which is approximately 10",15,NA
 or a quadrillion. An ,NA,NA
exabyte,NA,NA
 equals ,NA,NA
2,60,NA
 bytes or ,NA,NA
"1,152,921,504,606,846,976 bytes, approximately 10",18,NA
 or a quintillion.,NA,NA
"Just to provide you with a little grounding here, home computers purchased at the time this ",NA,NA
book was written (1999) commonly have 32 MB or 64 MB or sometimes 128 MB of random ,NA,NA
access memory. (And don't get too confused just yet—I haven't mentioned anything about ,NA,NA
"hard drives; I'm talking only about RAM.) That's 33,554,432 bytes or 67,108,864 bytes or ",NA,NA
"134,217,728 bytes.",NA,NA
"People, of course, speak in shorthand. Somebody who has 65,536 bytes of memory will say, ""I ",NA,NA
"have 64K (and I'm a visitor from the year 1980)."" Somebody who has 33,554,432 bytes will ",NA,NA
"say, ""I have 32 megs."" That rare person who has 1,073,741,824 bytes of memory will say, ""I've ",NA,NA
"got a gig (and I'm not talking music).""",NA,NA
Sometimes people will refer to ,NA,NA
kilobits,NA,NA
 or ,NA,NA
megabits,NA,NA
 (notice ,NA,NA
bits,NA,NA
 rather than ,NA,NA
bytes,NA,NA
"), but this is ",NA,NA
"rare. Almost always when people talk about memory, they're talking number of bytes, not ",NA,NA
"bits. (Of course, to convert bytes to bits, multiply by 8.) Usually when kilobits or megabits ",NA,NA
"come up in conversation, it will be in connection with data being transmitted over a wire and ",NA,NA
"will occur in such phrases as ""kilobits per second"" or ""megabits per second."" For example, a ",NA,NA
"56K modem refers to 56 kilobits per second, not kilobytes.",NA,NA
"Now that we know how to construct RAM in any array size we want, let's not get too out of ",NA,NA
"control. For now, let's simply assume that we have assembled 65,536 bytes of memory:",NA,NA
Why 64 KB? Why not 32 KB or 128 KB? ,NA,NA
"Because 65,536 is a nice round number",NA,NA
. It's 2,16,NA
. This ,NA,NA
"RAM array has a 16-bit address. In other words, the address is 2 bytes exactly. In ",NA,NA
"hexadecimal, the address ranges from 0000h through FFFFh.",NA,NA
"As I implied earlier, 64 KB was a common amount of memory in personal computers ",NA,NA
"purchased around 1980, although it wasn't constructed from telegraph relays. But could you ",NA,NA
really build such a thing using relays? I trust you won't consider it. Our design requires nine ,NA,NA
"relays for each bit of memory, so the total 64K x 8 RAM array requires almost 5 million of ",NA,NA
them!,NA,NA
It will be advantageous for us to have a control panel that lets us manage all this memory—,NA,NA
to write values into memory or examine them. Such a control panel has 16 switches to ,NA,NA
"indicate an address, 8",NA,NA
"switches to define an 8-bit value that we want to write into memory, another switch for ",NA,NA
"the Write signal itself, and 8 lightbulbs to display a particular 8-bit value, as shown on the ",NA,NA
following page.,NA,NA
All the switches are shown in their off (0) positions. I've also included a switch labeled ,NA,NA
Takeover,NA,NA
.,NA,NA
The purpose of this switch is to let other circuits use the same memory that the control panel ,NA,NA
"is connected to. When the switch is set to 0 (as shown), the rest of the switches on the ",NA,NA
"control panel don't do anything. When the switch is set to 1, however, the control panel has ",NA,NA
exclusive control over the memory.,NA,NA
"This is a job for a bunch of 2-to-1 Selectors. In fact, we need 25 of them—16 for the Address ",NA,NA
"signals, 8 for the Data input switches, and another for the Write switch. Here's the circuit:",NA,NA
"When the Takeover switch is open (as shown), the Address, Data input, and Write inputs to ",NA,NA
the 64K x,NA,NA
8 RAM array come from external signals shown at the top left of the 2-to-1 Selectors. When ,NA,NA
"the Takeover switch is closed, the Address, Data input, and Write signals to the RAM array ",NA,NA
"come from the switches on the control panel. In either case, the Data Out signals from the ",NA,NA
RAM array go to the eight lightbulbs and possibly someplace else.,NA,NA
I'll draw a 64K x 8 RAM array with such a control panel this way:,NA,NA
"When the Takeover switch is closed, you can use the 16 Address switches to select any of ",NA,NA
"65,536 addresses. The lightbulbs show you the 8-bit value currently stored in memory at that ",NA,NA
"address. You can use the 8 Data switches to define a new value, and you can write that value ",NA,NA
into memory using the Write switch.,NA,NA
"The 64K x 8 RAM array and control panel can certainly help you keep track of any 65,536 8-",NA,NA
bit values you may need to have handy. But we have also left open the opportunity for ,NA,NA
something else—some other circuitry perhaps—to use the values we have stored in memory ,NA,NA
and to write other ones in as well.,NA,NA
"There's one more thing you have to remember about memory, and it's ",NA,NA
very,NA,NA
 important: When I ,NA,NA
introduced the concept of logic gates in ,NA,NA
Chapter 11,NA,NA
", I stopped drawing the individual relays ",NA,NA
"that compose these gates. In particular, I no longer indicated that every relay is connected to ",NA,NA
"some kind of supply of electricity. Whenever a relay is triggered, electricity is flowing through ",NA,NA
the coils of the electromagnet and holding a metal contact in place.,NA,NA
"So if you have a 64K x 8 RAM array filled to the brim with 65,536 of your favorite bytes and ",NA,NA
"you turn off the power to it, what happens? All the electromagnets lose their magnetism and ",NA,NA
with a loud ,NA,NA
thunk,NA,NA
", all the relay contacts return to their untriggered states. And the contents of ",NA,NA
this RAM? They all go POOF! Gone forever.,NA,NA
This is why random access memory is also called ,NA,NA
volatile,NA,NA
 memory. It requires a constant ,NA,NA
supply of electricity to retain its contents.,NA,NA
Chapter 17. Automation,NA,NA
The human species is often amazingly inventive and industrious but at the same time ,NA,NA
profoundly lazy.,NA,NA
It's very clear that we humans don't like to work. This aversion to work is so extreme—and ,NA,NA
our ingenuity so acute—that we're eager to devote countless hours designing and building ,NA,NA
devices that might shave a few minutes off our workday. Few fantasies tickle the human ,NA,NA
pleasure center more than a vision of relaxing in a hammock watching some newfangled ,NA,NA
contraption we just built mow the lawn.,NA,NA
I'm afraid I won't be showing plans for an automatic lawn-mowing machine in these pages. ,NA,NA
"But in this chapter, through a progression of ever more sophisticated machines, I ",NA,NA
will,NA,NA
 ,NA,NA
automate the process of adding and subtracting numbers. This hardly sounds earth-,NA,NA
"shattering, I know. But the final machine in this chapter will be so versatile that it will be able ",NA,NA
"to solve virtually any problem that makes use of addition and subtraction, and that includes a ",NA,NA
great many problems indeed.,NA,NA
"Of course, with sophistication comes complexity, so some of this might be rough going. No one ",NA,NA
"will blame you if you skim over the excruciating details. At times, you might rebel and promise ",NA,NA
that you'll never seek electrical or mechanical assistance for a math problem ever again. But ,NA,NA
stick with me because by the end of this chapter we'll have invented a machine we can ,NA,NA
legitimately call a ,NA,NA
computer,NA,NA
.,NA,NA
The last adder we looked at was in ,NA,NA
Chapter 14,NA,NA
. That version included an 8-bit latch that ,NA,NA
accumulated a running total entered on one set of eight switches:,NA,NA
"As you'll recall, an 8-bit latch uses flip-flops to store an 8-bit value. To use this device, you first ",NA,NA
momentarily press the Clear switch to set the stored contents of the latch to all zeros. Then ,NA,NA
you use the switches to enter your first number. The adder simply adds this number to the ,NA,NA
"zero output of the latch, so the result is the number you entered. Pressing the Add switch ",NA,NA
stores that number in the latch and turns on some lightbulbs to display it. Now you set up the ,NA,NA
second number on the switches. The adder adds this one to the number stored in the latch. ,NA,NA
Pressing the Add button again stores the total in the latch and displays it using the lightbulbs. ,NA,NA
"In this way, you can add a whole string of numbers and display the running total. The ",NA,NA
"limitation, of course, is that the eight lightbulbs can't display a total greater than 255.",NA,NA
At the time I showed this circuit to you in ,NA,NA
Chapter 14,NA,NA
", the only latches that I had introduced so ",NA,NA
far were ,NA,NA
level triggered,NA,NA
". In a level-triggered latch, the Clock input has to go to 1 and then back ",NA,NA
"to 0 in order for the latch to store something. During the time the Clock input is 1, the data ",NA,NA
inputs of the latch can change and these changes will affect the stored output. Later in that ,NA,NA
"chapter, I introduced ",NA,NA
edge-triggered,NA,NA
 latches. These latches save their values in the brief ,NA,NA
moment that the Clock input goes from 0 to 1. Edge-triggered latches are often somewhat ,NA,NA
"easier to use, so I want to assume that all the latches in this chapter are edge triggered.",NA,NA
A latch used to accumulate a running total of numbers is called an ,NA,NA
accumulator,NA,NA
. But we'll see ,NA,NA
later in this chapter that an accumulator need not simply accumulate. An accumulator is often ,NA,NA
a latch that holds first one number and then that number plus or minus another number.,NA,NA
The big problem with the adding machine shown above is fairly obvious: Say you have a list ,NA,NA
of 100 binary numbers you want to add together. You sit down at the adding machine and ,NA,NA
"doggedly enter each and every number and accumulate the sum. But when you're finished, ",NA,NA
you discover that a couple of the numbers on the list were incorrect. Now you have to do the ,NA,NA
whole thing over again.,NA,NA
"But maybe not. In the preceding chapter, we used almost 5 million relays to build a RAM ",NA,NA
array containing 64 KB of memory. We also wired a control panel (shown on page 204) that ,NA,NA
let us close a switch labeled ,NA,NA
Takeover,NA,NA
 and literally take over all the writing and reading of ,NA,NA
this RAM array using switches.,NA,NA
If you had typed all 100 binary numbers into this RAM array rather than directly into the ,NA,NA
"adding machine, making a few corrections would be a lot easier.",NA,NA
So now we face the challenge of connecting the RAM array to the accumulating adder. It's ,NA,NA
"pretty obvious that the RAM Data Out signals replace the switches to the adder, but it's ",NA,NA
perhaps not so obvious that a 16-bit counter (such as we built in ,NA,NA
Chapter 14,NA,NA
) can control ,NA,NA
the address signals of the RAM array. The Data Input and Write signals to the RAM aren't ,NA,NA
needed in this circuit:,NA,NA
"This is certainly not the easiest piece of calculating equipment ever invented. To use it, you ",NA,NA
first must close the switch labeled Clear. This clears the contents of the latch and sets the ,NA,NA
output of the 16-bit counter to 0000h. Then you close the Takeover switch on the RAM ,NA,NA
control panel. You can then enter a set of 8-bit numbers that you want to add beginning at ,NA,NA
"RAM address 0000h. If you have 100 numbers, you'll store these numbers at addresses 0000h ",NA,NA
through 0063h. (You should also set all the unused entries in the RAM array to 00h.) You can ,NA,NA
then open the Takeover switch of the RAM control panel (so that the control panel no longer ,NA,NA
has control over the RAM array) and open the Clear switch. Then just sit back and watch the ,NA,NA
flashing lightbulbs.,NA,NA
"Here's how it works: When the Clear switch is first opened, the address of the RAM array is ",NA,NA
0000h. The 8-bit value stored in the RAM array at that address is an input to the adder. The ,NA,NA
other input to the adder is 00h because the latch is also cleared.,NA,NA
The oscillator provides a clock signal—a signal that alternates between 0 and 1 very ,NA,NA
"quickly. After the Clear switch is opened, whenever the clock changes from a 0 to a 1, two ",NA,NA
"things happen simultaneously: The latch stores the sum from the adder, and the 16-bit ",NA,NA
"counter increments, thus addressing the next value in the RAM array. The first time the ",NA,NA
"clock changes from 0 to 1 after the Clear switch is opened, the latch stores the first value ",NA,NA
"and the counter increments to 0001h. The second time, the latch stores the sum of the first ",NA,NA
"and second values, and the counter increments to 0002h. And so on.",NA,NA
"Of course, I'm making some assumptions here. Above all, I'm assuming that the oscillator is ",NA,NA
"slow enough to allow all the rest of the circuitry to work. With each stroke of the clock, a lot of ",NA,NA
relays must,NA,NA
trigger other relays before a valid sum shows up at the output of the adder.,NA,NA
"One problem with this circuit is that we have no way of stopping it! At some point, the ",NA,NA
lightbulbs will stop flashing because all the rest of the numbers in the RAM array will be 00h. ,NA,NA
"At that time, you can read the binary sum. But when the counter eventually reaches FFFFh, it ",NA,NA
will ,NA,NA
roll over,NA,NA
 (just like a car odometer) to 0000h and this automated adder will begin adding ,NA,NA
the numbers again to the sum that was already calculated.,NA,NA
"This adding machine has other problems as well. All it does is add, and all it adds are 8-bit ",NA,NA
"numbers. Not only is each number in the RAM array limited to 255, but the sum is limited to ",NA,NA
"255 as well. The adder also has no way to subtract numbers, although it's possible that you're ",NA,NA
"using negative numbers in two's complements, in which case this machine is limited to ",NA,NA
handling numbers from -128 through 127. One obvious way to make it add larger numbers ,NA,NA
"(for example, 16-bit values) is to double the width of the RAM array, the adder, and the latch, ",NA,NA
as well as provide eight more lightbulbs. But you might not be willing to make that ,NA,NA
investment quite yet.,NA,NA
"Of course, I wouldn't even mention these problems unless I knew we were going to solve ",NA,NA
them eventually. But the problem I want to focus on first is yet another. What if you didn't ,NA,NA
need to add 100 numbers together in one big sum? What if instead you wanted to use an ,NA,NA
automated adder to add 50 pairs of numbers to get 50 different sums? Or maybe you'd like a ,NA,NA
"machine versatile enough to add pairs of numbers together, or 10 numbers together, or 100. ",NA,NA
And you want all the results to be available for your convenient perusal.,NA,NA
The automated adder shown previously displays the running total on a set of lightbulbs ,NA,NA
attached to the latch. This approach is no good if you want to add 50 pairs of numbers ,NA,NA
"together to get 50 different sums. Instead, you probably want the results to be stored back in ",NA,NA
"the RAM array. That way, you can use the RAM control panel to examine the results at your ",NA,NA
convenience. That control panel has its own lightbulbs specifically for this purpose.,NA,NA
"What this means is that we can get rid of the lightbulbs connected to the latch. But instead, ",NA,NA
the output from the latch must be connected to the data input of the RAM array so that the ,NA,NA
sums can be written into the RAM:,NA,NA
"I've eliminated some other parts of the automated adder in this diagram as well, specifically ",NA,NA
the oscillator and the Clear switch. I removed them because it's no longer at all obvious ,NA,NA
"where the Clear and Clock inputs to the counter and the latch will come from. Moreover, now ",NA,NA
"that we've made use of the RAM data inputs, we need a way to control the RAM Write signal.",NA,NA
So let's not worry about the circuit for a moment and instead focus on the problem we're ,NA,NA
trying to solve. What we're trying to do here is configure an automated adder so that it's not ,NA,NA
restricted merely to accumulating a running total of a bunch of numbers. We want to have ,NA,NA
complete freedom in how many numbers we add and how many different sums are saved in ,NA,NA
RAM for later examination.,NA,NA
"For example, suppose we want to add three numbers together and then add two numbers ",NA,NA
together and then add another three numbers together. We might imagine typing these ,NA,NA
numbers into the RAM array beginning at address 0000h so that the contents of the memory ,NA,NA
look like this:,NA,NA
This is how I'll be showing a section of memory in this book. The boxes represent the contents ,NA,NA
of the memory. Each byte of memory is in a box. The address of that box is at the left. Not ,NA,NA
every address needs to be indicated because the addresses are sequential and you can always ,NA,NA
figure out what address applies to a particular box. At the right are some comments about this ,NA,NA
memory. These particular comments indicate that we want the automated adder to store the ,NA,NA
"three sums in the empty boxes. (Although these boxes are empty, the memory isn't ",NA,NA
necessarily empty. Memory always contains ,NA,NA
something,NA,NA
", even if it's just random data. But right ",NA,NA
now it doesn't contain anything useful.),NA,NA
Now I know you're tempted to practice your hexadecimal arithmetic and fill in the little ,NA,NA
boxes yourself. But that's not the point of this demonstration. We want the automated ,NA,NA
adder to do the additions for us.,NA,NA
Instead of making the automated adder do just one thing—which in the first version involved ,NA,NA
adding the contents of a RAM address to the 8-bit latch that I've called the accumulator—we ,NA,NA
actually want it now to do ,NA,NA
four different things,NA,NA
". To begin an addition, we want it to transfer a ",NA,NA
byte from memory into the accumulator. I'll call this operation ,NA,NA
Load,NA,NA
. The second operation we ,NA,NA
need to perform is to ,NA,NA
Add,NA,NA
" a byte in memory to the contents of the accumulator. Third, we need ",NA,NA
to take a sum in the accumulator and ,NA,NA
Store,NA,NA
" it in memory. Finally, we need some way to ",NA,NA
Halt,NA,NA
 ,NA,NA
the automated adder.,NA,NA
"In gory detail, what we want the automated adder to do in this particular example is this:",NA,NA
Load,NA,NA
 the value at address 0000h into the accumulator.,NA,NA
Add,NA,NA
 the value at address 0001h to the accumulator.,NA,NA
Add,NA,NA
 the value at address 0002h to the accumulator.,NA,NA
Store,NA,NA
 the contents of the accumulator at address 0003h.,NA,NA
Load,NA,NA
 the value at address 0004h into the accumulator.,NA,NA
Add,NA,NA
 the value at address 0005h to the accumulator.,NA,NA
Store,NA,NA
 the contents of the accumulator at address 0006h.,NA,NA
Load,NA,NA
 the value at address 0007h into the accumulator.,NA,NA
Add,NA,NA
 the value at address 0008h to the accumulator,NA,NA
Add,NA,NA
 the value at address 0008h to the accumulator.,NA,NA
Add,NA,NA
 the value at address 0009h to the accumulator.,NA,NA
Store,NA,NA
 the contents of the accumulator at address 000Ah.,NA,NA
Halt,NA,NA
 the workings of the automated adder.,NA,NA
"Notice that just as in the original automated adder, each byte of memory is still being ",NA,NA
addressed sequentially beginning at 0000h. The original automated adder simply added the ,NA,NA
"contents of the memory at that address to the contents of the accumulator. In some cases, we ",NA,NA
still want to do that. But we also sometimes want to ,NA,NA
Load,NA,NA
 the accumulator directly with a ,NA,NA
value in memory or to ,NA,NA
Store,NA,NA
 the contents of the accumulator in memory. And after everything ,NA,NA
"is done, we want the automated adder to simply stop so that the contents of the RAM array ",NA,NA
can be examined.,NA,NA
"How can we accomplish this? Well, it's not sufficient to simply key in a bunch of numbers in ",NA,NA
"RAM and expect the automated adder to do the right thing. For each number in RAM, we ",NA,NA
also need some kind of numeric code that indicates what the automated adder is to do: ,NA,NA
"Load, Add, Store",NA,NA
", or ",NA,NA
Halt,NA,NA
.,NA,NA
Perhaps the easiest (but certainly not the cheapest) way to store these codes is in a whole ,NA,NA
separate RAM array. This second RAM array is accessed at the same time as the original RAM ,NA,NA
"array. But instead of containing numbers to be added, it contains the codes that indicate ",NA,NA
what the automated adder is supposed to do with the corresponding address in the original ,NA,NA
RAM array. These two RAM arrays can be labeled ,NA,NA
Data,NA,NA
 (the original RAM array) and ,NA,NA
Code,NA,NA
 ,NA,NA
(the new one):,NA,NA
We've already established that our new automated adder needs to be able to write sums into ,NA,NA
the original RAM array (labeled ,NA,NA
Data,NA,NA
). But the new RAM array (labeled ,NA,NA
Code,NA,NA
) will be written ,NA,NA
to solely through the control panel.,NA,NA
We need four codes for the four actions we want the new automated adder to do. These codes ,NA,NA
can be,NA,NA
anything we want to assign. Here are four possibilities:,"Operation
  
  Code
  
 Load
  
 10h
  
 Store
  
 11h
  
 Add
  
 20h
  
 Halt
  
 FFh",NA
"So to perform the three sets of addition in the example I just outlined, you'll need to use ",NA,NA
the control panel to store the following values in the Code RAM array:,NA,NA
You might want to compare the contents of this RAM array with the RAM array containing the ,NA,NA
data we want to add (shown on page 211). You'll notice that each code in the Code RAM ,NA,NA
"corresponds to a value in the Data RAM that is to be loaded into or added to the accumulator, ",NA,NA
or the code indicates that a value is to be stored back in memory. Numeric codes used in such ,NA,NA
a manner are often called ,NA,NA
instruction codes,NA,NA
", or ",NA,NA
operation codes,NA,NA
", or (most concisely) ",NA,NA
opcodes,NA,NA
. ,NA,NA
"They ""instruct"" circuitry to perform a certain ""operation.""",NA,NA
"As I mentioned earlier, the output of the 8-bit latch in the original automated adder needs to ",NA,NA
be an input to the Data RAM array. That's how the ,NA,NA
Store,NA,NA
 instruction works. Another change ,NA,NA
"is necessary: Originally, the output of the 8-Bit Adder was the input to the 8-bit latch. But ",NA,NA
"now, to carry out the ",NA,NA
Load,NA,NA
" instruction, the output of the Data RAM array must sometimes be ",NA,NA
the input to the 8-bit latch.,NA,NA
What's needed is a 2-Line-to-1-Line Data Selector. The revised automated adder looks ,NA,NA
like the illustration on the next page.,NA,NA
"This diagram is missing a few pieces, but it shows all the 8-bit data paths between the various ",NA,NA
components. The 16-bit counter provides an address for the two RAM arrays. The output of ,NA,NA
"the Data RAM array goes into the 8-Bit Adder, as usual, to perform the ",NA,NA
Add,NA,NA
 instruction. But ,NA,NA
the input to the 8-bit latch can be either the output of the Data RAM array (in the case of a ,NA,NA
Load,NA,NA
 instruction) or the output of the adder (in the case of an ,NA,NA
Add,NA,NA
 instruction). This situation ,NA,NA
"requires a 2-to-1 Selector. The output of the latch circles back to the adder, as usual, but it's ",NA,NA
also the data input of the Data RAM array for a ,NA,NA
Store,NA,NA
 instruction.,NA,NA
"What this diagram is missing are all the little signals that control these components, known ",NA,NA
collectively as the ,NA,NA
control,NA,NA
 signals. These include the Clock and Clear inputs to the 16-bit ,NA,NA
"counter, the Clock and Clear inputs to the 8-bit latch, the Write input to the Data RAM array, ",NA,NA
and the Select input to the 2-to-1 Selector. Some of these signals will obviously be based on ,NA,NA
"the output of the Code RAM array. For example, the Select input to the 2-to-1 Selector must be ",NA,NA
0 (selecting the Data RAM output) if the output of the Code RAM array indicates a ,NA,NA
Load,NA,NA
 ,NA,NA
instruction. The Write input to the Data RAM array must be 1 only when the opcode is a ,NA,NA
Store,NA,NA
 ,NA,NA
instruction. These control signals can be generated,NA,NA
by various combinations of logic gates.,NA,NA
"With a minimal amount of extra hardware and the addition of a new opcode, we can also ",NA,NA
persuade this circuit to subtract a number from the value in the accumulator. The first step is ,NA,NA
to expand the table of operation codes:,"Operation
  
  Code
  
 Load
  
 10h
  
 Store
  
 11h
  
 Add
  
 20h
  
 Subtract
  
 21h
  
 Halt
  
 FFh",NA
The codes for ,NA,NA
Add,NA,NA
 and ,NA,NA
Subtract,NA,NA
" differ only by the least-significant bit of the code value, which ",NA,NA
we'll call C,0,NA
". If the operation code is 21h, the circuit should do the same thing it does for an ",NA,NA
Add ,NA,NA
"instruction, except that the data out from the Data RAM array is inverted before it goes into ",NA,NA
"the adder, and the carry input to the adder is set to 1. The C",0,NA
 signal can perform both those ,NA,NA
tasks in this revised automated adder that includes an inverter:,NA,NA
Now suppose we wish to add 56h and 2Ah together and then subtract 38h from the sum. You ,NA,NA
can do it with the following codes and data stored in the two RAM arrays:,NA,NA
After the ,NA,NA
Load,NA,NA
" operation, the accumulator contains the value 56h. After the ",NA,NA
Add,NA,NA
" operation, ",NA,NA
"the accumulator contains the sum of 56h and 2Ah, or 80h. The ",NA,NA
Subtract,NA,NA
 operation causes ,NA,NA
the bits of the,NA,NA
next value in the Data RAM array (38h) to be inverted. The inverted value C7h is added to ,NA,NA
80h with the carry input of the adder set to 1:,NA,NA
"The result is 48h. (In decimal, 86 plus 42 minus 56 equals 72.) ",NA,NA
One persistent problem that hasn't yet been adequately addressed is the meager 8-bit data ,NA,NA
"width of the adder and everything else that's attached to it. In the past, the only solution I've ",NA,NA
offered is to connect two 8-Bit Adders (and two of mostly everything else) together to get 16-,NA,NA
bit devices.,NA,NA
But a much less expensive solution is possible. Suppose you want to add two 16-bit ,NA,NA
"numbers, for example:",NA,NA
This 16-bit addition is the same as separately adding this rightmost byte (often called the ,NA,NA
low-order ,NA,NA
byte):,NA,NA
"and then the leftmost, or ",NA,NA
high-order,NA,NA
", byte:",NA,NA
for a result of 99D7h. So if we store the two 16-bit numbers in memory like this:,NA,NA
"the result D7h will be stored at address 0002h, and the result 99h will be stored at address ",NA,NA
"0005h. Of course, this won't work all the time. It works for the numbers I've chosen as an ",NA,NA
"example, but what if the two 16-bit numbers to be added were 76ABh and 236Ch? In that ",NA,NA
"case, adding the 2 low-order",NA,NA
bytes results in a carry:,NA,NA
This carry must be added to the sum of the 2 high-order bytes:,NA,NA
for a final result of 9A17h.,NA,NA
Can we enhance the circuitry of our automated adding machine to add two 16-bit numbers ,NA,NA
"correctly? Yes, we can. All we need do is ",NA,NA
save the Carry Out bit,NA,NA
 from the 8-Bit Adder when the ,NA,NA
first addition is performed and then use that Carry Out bit as the Carry Input bit to the next ,NA,NA
"addition. How can a bit be saved? By a 1-bit latch, of course; this time, the latch is known as ",NA,NA
the ,NA,NA
Carry latch,NA,NA
.,NA,NA
"To use the Carry latch, another operation code is needed. Let's call it ",NA,NA
Add with Carry,NA,NA
. When ,NA,NA
"you're adding 8-bit numbers together, you use the regular old ",NA,NA
Add,NA,NA
 instruction. The carry ,NA,NA
"input to the adder is 0, and the carry output from the adder is latched in the Carry latch ",NA,NA
(although it need not be used at all).,NA,NA
"If you want to add two 16-bit numbers together, you use the regular ",NA,NA
Add,NA,NA
 instruction for ,NA,NA
adding the low-order bytes. The carry input to the adder is 0 and the carry output is latched in ,NA,NA
"the Carry latch. To add the 2 high-order bytes, you use the new ",NA,NA
Add with Carry,NA,NA
 instruction. In ,NA,NA
"this case, the two numbers are added using the output of the Carry latch as the carry input to ",NA,NA
"the adder. So if the first addition resulted in a carry, that carry bit is used in the second ",NA,NA
"addition. If no carry resulted, the output from the Carry latch is 0.",NA,NA
"If you're subtracting one 16-bit number from another, you need another new instruction; this ",NA,NA
one is called ,NA,NA
Subtract with Borrow,NA,NA
". Normally, a ",NA,NA
Subtract,NA,NA
 instruction requires that you invert ,NA,NA
the subtrahend and set the carry input of the adder to 1. A carry out of 1 is normal and should ,NA,NA
"usually be ignored. If you're subtracting a 16-bit number, however, that carry output should ",NA,NA
"be saved in the Carry latch. In the second subtraction, the carry input to the adder should be ",NA,NA
set to the result of the Carry latch.,NA,NA
With the new ,NA,NA
Add with Carry,NA,NA
 and ,NA,NA
Subtract with Borrow,NA,NA
" operations, we have a total of ",NA,NA
seven opcodes so far:,"Operation
  
 Code
  
 Load
  
 10h
  
 Store
  
 11h
  
 Add
  
 20h",NA
The number sent to the adder is inverted for a ,NA,NA
Subtract,NA,NA
 or a ,NA,NA
Subtract with Borrow,NA,NA
 operation. ,NA,NA
The carry output of the adder is the data input to the Carry latch. The latch is clocked ,NA,NA
whenever an ,NA,NA
"Add, Subtract, Add with Carry",NA,NA
", or ",NA,NA
Subtract with Borrow,NA,NA
 operation is being ,NA,NA
performed. The carry input of the 8-Bit Adder is set to 1 when a ,NA,NA
Subtract,NA,NA
 operation is ,NA,NA
performed or when the data output of the Carry latch is 1 and an ,NA,NA
Add with Carry,NA,NA
 or ,NA,NA
Subtract ,NA,NA
with Borrow,NA,NA
 operation is being performed.,NA,NA
Keep in mind that the ,NA,NA
Add with Carry,NA,NA
 instruction causes the carry input of the 8-Bit Adder to ,NA,NA
be set to 1 only if the previous ,NA,NA
Add,NA,NA
 or ,NA,NA
Add with Carry,NA,NA
 instruction resulted in a carry output ,NA,NA
from the adder. Thus you use the ,NA,NA
Add with Carry,NA,NA
 instruction whenever you're adding ,NA,NA
multibyte numbers whether or not the operation is actually needed. To properly code the 16-,NA,NA
"bit addition shown earlier, you use",NA,NA
This works correctly regardless of what the numbers are.,NA,NA
"With these two new opcodes, we've greatly expanded the scope of the machine. No longer are ",NA,NA
we restricted to adding 8-bit values. By repeated use of the ,NA,NA
Add with Carry,NA,NA
" instruction, we can ",NA,NA
"now add 16-bit values, 24-bit values, 32-bit values, 40-bit values, and so on. Suppose we want ",NA,NA
to add the 32-bit values 7A892BCDh and 65A872FFh. We need one ,NA,NA
Add,NA,NA
 instruction and three ,NA,NA
Add with Carry ,NA,NA
instructions:,NA,NA
"Of course, actually keying these numbers into memory isn't the most rewarding job around. ",NA,NA
"Not only do you have to use switches to represent binary numbers, but the numbers aren't ",NA,NA
"stored in consecutive addresses. For example, the number 7A892BCDh goes into addresses ",NA,NA
"0000h, 0003h, 0006h, and 0009h starting with the least-significant byte. To get the final ",NA,NA
"result, you have to examine the values located at addresses 0002h, 0005h, 0008h, and 000Bh.",NA,NA
"Moreover, the current design of our automated adder doesn't allow the reuse of results in ",NA,NA
subsequent calculations. Suppose we want to add three 8-bit numbers together and then ,NA,NA
subtract an 8-bit number from that sum and store the result. That would require a ,NA,NA
Load,NA,NA
 ,NA,NA
"instruction, two ",NA,NA
Add,NA,NA
" instructions, a ",NA,NA
Subtract,NA,NA
", and a ",NA,NA
Store,NA,NA
. But what if we also wanted to ,NA,NA
subtract other numbers from that original sum? That sum isn't accessible. We'd have to ,NA,NA
recalculate it every time we needed it.,NA,NA
The problem is that we've built an automated adder that addresses the ,NA,NA
Code,NA,NA
 memory and ,NA,NA
the ,NA,NA
Data ,NA,NA
memory simultaneously and sequentially beginning at address 0000h. Each ,NA,NA
instruction in the Code memory corresponds to a location in the Data memory at the same ,NA,NA
address. Once a ,NA,NA
Store,NA,NA
" instruction causes something to be stored in the Data memory, that ",NA,NA
value can't later be loaded back into the accumulator.,NA,NA
"To fix this problem, I'm going to make a fundamental and excruciating change to the ",NA,NA
"automated adder that will at first seem insanely complicated. But in time, you'll see (I hope) ",NA,NA
that it opens a wide door of flexibility.,NA,NA
Here we go. We currently have seven opcodes:,"Operation
  
 Code
  
 Load
  
 10h",NA
Each of these codes occupies 1 byte in memory. With the exception of the ,NA,NA
Halt,NA,NA
" code, I now ",NA,NA
want each of these instructions to require ,NA,NA
3,NA,NA
 bytes of memory. The first byte will be the code ,NA,NA
"itself, and the next 2 bytes will be a 16-bit memory location. For the ",NA,NA
Load,NA,NA
" instruction, that ",NA,NA
address indicates a location in the Data RAM array that contains the byte to be loaded into the ,NA,NA
accumulator. For the ,NA,NA
"Add, Subtract, Add with Carry",NA,NA
", and ",NA,NA
Subtract with Borrow,NA,NA
" instructions, ",NA,NA
that address indicates the location of the byte that's to be added to or subtracted from the ,NA,NA
accumulator. For the ,NA,NA
Store,NA,NA
" instruction, the address indicates where the contents of the ",NA,NA
accumulator are to be stored.,NA,NA
"For example, just about the simplest chore that the current automated adder can do is ",NA,NA
"add two numbers together. To do this, you set up the Code and Data RAM arrays this ",NA,NA
way:,NA,NA
"In the revised automated adder, each instruction (except ",NA,NA
Halt,NA,NA
) requires 3 bytes:,NA,NA
Each of the instruction codes (except ,NA,NA
Halt,NA,NA
) is followed by 2 bytes that indicate a 16-bit ,NA,NA
"address in the Data RAM array. These three addresses happen to be 0000h, 0001h, and 0002h, ",NA,NA
but they could be anything.,NA,NA
Earlier I showed how to add a pair of 16-bit numbers—specifically 76ABh and 232 Ch—using ,NA,NA
the ,NA,NA
Add,NA,NA
 and ,NA,NA
Add with Carry,NA,NA
 instructions. But we had to store the 2 low-order bytes of these ,NA,NA
"numbers at memory locations 0000h and 0001h, and the 2 high-order bytes at 0003h and ",NA,NA
0004h. The result of the addition was stored at 0002h and 0005h.,NA,NA
"With this change, we can store the two numbers and the result in a more rational manner, ",NA,NA
and perhaps in an area of memory that we've never used before:,NA,NA
These six locations don't have to be all together like this. They can be scattered anywhere ,NA,NA
"throughout the whole 64-KB Data RAM array. To add these values at these memory locations, ",NA,NA
"you must set up the instructions in the Code RAM array, like this:",NA,NA
"Notice that the 2 low-order bytes located at addresses 4001h and 4003h are added first, with ",NA,NA
the result stored at address 4005h. The 2 high-order bytes (at addresses 4000h and 4002h) ,NA,NA
are added with the ,NA,NA
Add with Carry,NA,NA
" instruction, and the result is stored at address 4004h. And ",NA,NA
if we were to remove the ,NA,NA
Halt,NA,NA
" instruction and add more instructions to the Code memory, a ",NA,NA
sub-sequent calculation could later make use of the original numbers and the sum of them ,NA,NA
simply by referring to these memory addresses.,NA,NA
The key to implementing this design is to have the data output of the Code RAM array go into ,NA,NA
three 8-bit latches. Each of these latches stores one of the bytes of the 3-byte instruction. The ,NA,NA
"first latch stores the instruction code, the second latch stores the high-order byte of the ",NA,NA
"address, and the third latch stores the low-order address byte. The output of the second and ",NA,NA
third latches becomes the 16-bit address of the Data RAM array:,NA,NA
The process of retrieving an instruction from memory is known as the ,NA,NA
instruction fetch,NA,NA
. In ,NA,NA
"our machine, each instruction is 3 bytes in length, and it's retrieved from memory 1 byte ",NA,NA
at a time; the instruction fetch requires three cycles of the Clock signal. The entire ,NA,NA
instruction cycle,NA,NA
 requires a fourth cycle of the Clock signal. These changes certainly ,NA,NA
complicate the control signals.,NA,NA
The machine is said to ,NA,NA
execute,NA,NA
 an instruction when it does a series of actions in response to ,NA,NA
the instruction code. But it's not as if the machine is ,NA,NA
alive,NA,NA
 or anything. It's not analyzing the ,NA,NA
machine code and deciding what to do. Each machine code is just triggering various control ,NA,NA
signals in a unique way that causes the machine to do various things.,NA,NA
"Notice that by making this machine more versatile, we've also slowed it down. Using the ",NA,NA
"same oscillator, it adds numbers at only one-fourth the speed of the first automated adder I ",NA,NA
showed in this chapter. This is the result of an engineering principle known as TANSTAAFL ,NA,NA
(pronounced ,NA,NA
tans toffle,NA,NA
"), which means ""There Ain't No Such Thing As A Free Lunch."" ",NA,NA
"Usually, whenever you make a machine better in one way, something else tends to suffer as ",NA,NA
a result.,NA,NA
"If you were actually building such a machine out of relays, the bulk of the circuit would ",NA,NA
"obviously be the two 64-KB RAM arrays. Indeed, much earlier you might have skimped on ",NA,NA
these components and decided that initially you would need only 1 KB of memory. If you ,NA,NA
"made sure you stored everything in addresses 0000h through 03FFh, using less memory than ",NA,NA
64 KB would work out just fine.,NA,NA
"Still, however, you probably weren't thrilled that you needed ",NA,NA
two,NA,NA
" RAM arrays. And in fact, you ",NA,NA
don't. I originally introduced two RAM arrays—one for code and one for data—so that the ,NA,NA
architecture of the automated adder would be as clear and simple as possible. But now that ,NA,NA
we've decided to make,NA,NA
each instruction 3 bytes long—with the second and third bytes indicating an address where ,NA,NA
the data is located—it's no longer necessary to have two separate RAM arrays. Both code and ,NA,NA
data can be stored in the ,NA,NA
same,NA,NA
 RAM array.,NA,NA
"To accomplish this, we need to have a 2-to-1 Selector to determine how the RAM array is ",NA,NA
addressed.,NA,NA
"Usually, the address is the 16-bit counter, as before. The RAM Data Out is still connected to ",NA,NA
three latches that latch the instruction code and the 2 address bytes that accompany each ,NA,NA
instruction. But the 16-bit address is the second input to the 2-to-1 Selector. After the address ,NA,NA
"is latched, this selector allows the latched address to be the address input to the RAM array:",NA,NA
We've made a lot of progress. Now it's possible to enter the instructions and the data in a ,NA,NA
"single RAM array. For example, the diagram on the next page shows how to add two 8-bit ",NA,NA
numbers together and subtract a third.,NA,NA
"As usual, the instructions begin at 0000h because that's where the counter starts accessing ",NA,NA
the RAM array after it has been reset. The final ,NA,NA
Halt,NA,NA
 instruction is stored at address 000Ch. ,NA,NA
We could have stored the three numbers and the results anywhere in the RAM array (except ,NA,NA
"in the first 13 bytes, of course, because those memory locations are occupied by ",NA,NA
"instructions), but we chose to store the data starting at address 0010h.",NA,NA
"Now suppose you discover that you need to add two more numbers to that result. Well, you ",NA,NA
"can replace all the instructions you just entered with some new instructions, but maybe you ",NA,NA
don't want to do that. Maybe you'd prefer to just continue with the new instructions starting ,NA,NA
"at the end of these instructions, first replacing the ",NA,NA
Halt,NA,NA
 instruction with a new ,NA,NA
Load,NA,NA
 ,NA,NA
instruction at address 000Ch. But you also need two new ,NA,NA
Add,NA,NA
" instructions, a ",NA,NA
Store,NA,NA
" instruction, ",NA,NA
and a new ,NA,NA
Halt,NA,NA
 instruction. Your only problem is that you have some data stored at address ,NA,NA
0010h. You have to move that data someplace at a higher memory address. And you then have ,NA,NA
to change the instructions that refer to those memory instructions.,NA,NA
"Hmmm, you think. Maybe combining Code and Data into a single RAM array wasn't such a ",NA,NA
"hot idea after all. But I assure you, a problem such as this would have come up sooner or ",NA,NA
"later. So let's solve it. In this case, maybe what you'd like to do is enter the new instructions ",NA,NA
beginning at address 0020h and the new data at address 0030h:,NA,NA
Notice that the first ,NA,NA
Load,NA,NA
" instruction refers to the memory location 0013h, which is where ",NA,NA
the result of the first calculation was stored.,NA,NA
"So now we have some instructions starting at address 0000h, some data starting at 0010h, ",NA,NA
"some more instructions at 0020h, and some more data at 0030h. We want to let the ",NA,NA
automated adding machine start at 0000h and execute all the instructions.,NA,NA
We know we must remove that ,NA,NA
Halt,NA,NA
" instruction at address 000Ch, and by ",NA,NA
remove,NA,NA
 I really ,NA,NA
mean replace it with something else. But is that sufficient? The problem is that whatever we ,NA,NA
replace the ,NA,NA
Halt,NA,NA
 instruction with is going to be interpreted as an instruction byte. And so will ,NA,NA
"the bytes stored every 3 bytes after that—at 000Fh, and 0012h, and 0015h, and 0018h, and ",NA,NA
"001Bh, and 001Eh. What if one of these bytes just happens to be an 11h? That's a ",NA,NA
Store,NA,NA
 ,NA,NA
instruction. And what if the 2 bytes following that ,NA,NA
Store,NA,NA
 instruction happened to refer to ,NA,NA
address 0023h? That would cause the machine to write the contents of the accumulator to ,NA,NA
that address. But that address contains something important already! And even if nothing like ,NA,NA
"this happened, the next instruction byte that the adder retrieves from memory after the one at ",NA,NA
"001Eh will be at address 0021h, not 0020h, which is where our next real instruction happens ",NA,NA
to be.,NA,NA
Are we all in agreement that we can't just remove the ,NA,NA
Halt,NA,NA
 instruction at address 000Ch and ,NA,NA
hope for the best?,NA,NA
But what we ,NA,NA
can,NA,NA
 replace it with is a new instruction called ,NA,NA
Jump,NA,NA
. Let's add that to our ,NA,NA
repertoire.,NA,NA
"Normally, this automated adder addresses the RAM array sequentially. A ",NA,NA
Jump,NA,NA
 instruction ,NA,NA
"causes the machine to alter that pattern. Instead, it begins addressing the RAM array at a ",NA,NA
different specified address. Such an instruction is sometimes also called a ,NA,NA
Branch,NA,NA
" instruction, ",NA,NA
or ,NA,NA
Goto,NA,NA
", as in ""go to another place.""",NA,NA
"In the preceding example, we can replace the ",NA,NA
Halt,NA,NA
 instruction at address 000Ch with a ,NA,NA
Jump ,NA,NA
instruction:,NA,NA
The 30h byte is the code for a ,NA,NA
Jump,NA,NA
 instruction. The 16-bit address that follows indicates the ,NA,NA
address of the next instruction that the automated adder is to read.,NA,NA
"So in the preceding example, the automated adder begins at 0000h, as usual, and does a ",NA,NA
Load ,NA,NA
"instruction, an ",NA,NA
Add,NA,NA
", a ",NA,NA
Subtract,NA,NA
", and a ",NA,NA
Store,NA,NA
. It then does the ,NA,NA
Jump,NA,NA
 instruction and continues at ,NA,NA
address 0020h with a ,NA,NA
Load,NA,NA
", two ",NA,NA
Add,NA,NA
" instructions, a ",NA,NA
Store,NA,NA
", and finally ",NA,NA
Halt,NA,NA
.,NA,NA
The ,NA,NA
Jump,NA,NA
 instruction affects the 16-bit counter. Whenever the automated adder encounters ,NA,NA
a ,NA,NA
Jump ,NA,NA
"instruction, the counter must somehow be forced to output that new address that ",NA,NA
follows the ,NA,NA
Jump ,NA,NA
instruction code. This is implemented by using the Preset and Clear inputs ,NA,NA
of the edge-triggered D-type flip-flops that make up the 16-bit counter:,NA,NA
You'll recall that the Preset and Clear inputs should both be 0 for normal operation. But if ,NA,NA
"Preset is 1, Q becomes 1. And if Clear is 1, Q becomes 0.",NA,NA
If you want to load a single flip-flop with a new value (which I'll call ,NA,NA
A,NA,NA
" for address), you can ",NA,NA
wire it,NA,NA
like this:,NA,NA
"Normally the Set It signal is 0. In that case, the Preset input to the flip-flop is 0. The Clear ",NA,NA
input is also 0 unless the Reset signal is 1. This allows the flip-flop to be cleared ,NA,NA
"independently of the Set It signal. When the Set It signal is 1, the Preset input will be 1 and ",NA,NA
"the Clear input will be 0 if A is 1. If A is 0, the Preset input will be 0 and the Clear input will be ",NA,NA
1. This means that Q will be set to the value of A.,NA,NA
We need one of these for each bit of the 16-bit counter. Once loaded with a particular ,NA,NA
"value, the counter will continue counting from that value on.",NA,NA
"Otherwise, the changes aren't severe. The 16-bit address that's latched from the RAM array is ",NA,NA
an input to both the 2-to-1 Selector (which allows this address to be an address input to the ,NA,NA
RAM array) and the 16-bit counter for the Set It function:,NA,NA
"Obviously, we must ensure that the Set It signal is 1 only if the instruction code is 30h and the ",NA,NA
address has been latched.,NA,NA
The ,NA,NA
Jump,NA,NA
 instruction is certainly useful. But it's not nearly as useful as an instruction that ,NA,NA
jumps sometimes but not all the time. Such an instruction is known as a ,NA,NA
conditional jump,NA,NA
", and ",NA,NA
perhaps the best way to show how useful such an instruction can be is to pose a question: ,NA,NA
How can we persuade our automated adder to ,NA,NA
multiply,NA,NA
" two 8-bit numbers? For example, ",NA,NA
how do we get the result for something as simple as A7h times 1Ch?,NA,NA
"Easy, right? The result of multiplying two 8-bit values is a 16-bit product. For convenience, ",NA,NA
all three numbers involved in the multiplication are expressed as 16-bit values. The first job ,NA,NA
is to decide where you want to put the numbers and the product:,NA,NA
Everyone knows that multiplying A7h and 1Ch (which is 28 in decimal) is the same as 28 ,NA,NA
additions of,NA,NA
A7h. So the 16-bit location at addresses 1004h and 1005h will actually be an ,NA,NA
accumulated summation. Here's the code for adding A7h to that location once:,NA,NA
"At the completion of these six instructions, the 16-bit value at memory locations 1004h and ",NA,NA
"1005h will equal A7h times 1. Therefore, these six instructions have to be repeated 27 more ",NA,NA
times in order for that 16-bit value to equal A7h times 1Ch. You can achieve this by typing in ,NA,NA
these six instructions 27 more times beginning at address 0012h. Or you can put a ,NA,NA
Halt,NA,NA
 ,NA,NA
instruction at 0012h and press the Reset button 28 times to get the final answer.,NA,NA
"Of course, neither of these two options is ideal. They both require that you do something—",NA,NA
type in a bunch of instructions or press the Reset button—a number of times that's ,NA,NA
proportional to one of the numbers being multiplied. Surely you wouldn't want to generalize ,NA,NA
this process for 16-bit values that you want to multiply.,NA,NA
But what if you put a ,NA,NA
Jump,NA,NA
 instruction at 0012h? This instruction causes the counter to ,NA,NA
start from 0000h again:,NA,NA
"This certainly does the trick (sort of). The first time through, the 16-bit value at memory ",NA,NA
locations 1004h and 1005h will equal A7h times 1. Then the ,NA,NA
Jump,NA,NA
 instruction will go back up ,NA,NA
"to the top. At the end of the second time through, the 16-bit result will equal A7h times 2. ",NA,NA
"Eventually, it will equal A7h times 1Ch, but there's no stopping it. It just keeps going and ",NA,NA
going and going.,NA,NA
What we want is a ,NA,NA
Jump,NA,NA
 instruction that starts the process over again only as many times as ,NA,NA
are needed. That's the conditional jump. And it's really not that hard to implement. The first ,NA,NA
thing we'll want to add is a 1-bit latch similar to the Carry latch. This will be called the ,NA,NA
Zero ,NA,NA
latch,NA,NA
 because it,NA,NA
will latch a value of 1 only if the output of the 8-Bit Adder is all zeros:,NA,NA
The output of that 8-bit NOR gate is 1 only if all the inputs are 0. Like the Clock input of the ,NA,NA
"Carry latch, the Clock input of the Zero latch latches a value only when an ",NA,NA
"Add, Subtract, Add ",NA,NA
with Carry,NA,NA
", or ",NA,NA
Subtract with Borrow,NA,NA
 instruction is being performed. This latched value is ,NA,NA
known as the ,NA,NA
Zero flag,NA,NA
. Watch out because it could seem as if it's working backward: The ,NA,NA
"Zero flag is 1 if the output of the adder is all zeros, and the Zero flag is 0 if output of the adder ",NA,NA
is not all zeros.,NA,NA
"With the Carry latch and the Zero latch, we can expand our repertoire of instructions by four:","Operation
  
 Code
  
 Load
  
 10h
  
 Store
  
 11h
  
 Add
  
 20h
  
 Subtract
  
 21h
  
 Add with Carry
  
 22h
  
 Subtract with 
 Borrow 
  
 23h
  
 Jump
  
 30h
  
 Jump If Zero
  
 31h
  
 Jump If Carry
  
 32h
  
 Jump If Not Zero
  
 33h
  
 Jump If Not Carry
  
 34h
  
 Halt
  
 FFh",NA
"For example, the ",NA,NA
Jump If Not Zero,NA,NA
 instruction jumps to the specified address only if the ,NA,NA
"output of the Zero latch is 0. In other words, there will be ",NA,NA
no,NA,NA
 jump if the last ,NA,NA
"Add, Subtract, ",NA,NA
Add with Carry,NA,NA
", or ",NA,NA
Subtract with Borrow,NA,NA
 instruction resulted in 0. Implementing this design is ,NA,NA
just an add-on to the control signals that implement the regular ,NA,NA
Jump,NA,NA
 command: If the ,NA,NA
instruction is ,NA,NA
Jump If Not Zero,NA,NA
", the Set It signal on the 16-bit counter is triggered only if the ",NA,NA
Zero flag is 0.,NA,NA
Now all that's necessary to make the code shown above multiply two numbers are the ,NA,NA
following instructions starting at address 0012h:,NA,NA
"The first time through, the 16-bit location at 0004h and 0005h contains A7h times 1, as we've ",NA,NA
already established. The instructions here load the byte from location 1003h into the ,NA,NA
accumulator. This is 1Ch. This byte is added to the value at location 001Eh. This happens to be ,NA,NA
the ,NA,NA
Halt,NA,NA
" instruction, but of course it's also a valid number. Adding FFh to 1Ch is the same as ",NA,NA
"subtracting 1 from 1Ch, so the result is 1Bh. This isn't 0, so the Zero flag is 0. The 1Bh byte is ",NA,NA
stored back at address 1003h. Next is a ,NA,NA
Jump If Not Zero,NA,NA
 instruction. The Zero flag isn't set to ,NA,NA
"1, so the jump occurs. The next instruction is the one located at address 0000h.",NA,NA
Keep in mind that the ,NA,NA
Store,NA,NA
 instruction doesn't affect the Zero flag. The Zero flag is affected ,NA,NA
only by the ,NA,NA
"Add, Subtract, Add with Carry",NA,NA
", or ",NA,NA
Subtract with Borrow,NA,NA
" instruction, so it will ",NA,NA
remain the same value that was set the last time one of these instructions occurred.,NA,NA
"The second time through, the 16-bit location at 1004h and 1005h will contain the value A7h ",NA,NA
"times 2. The value 1Bh is added to FFh to get the result 1Ah. That's not 0, so back to the top.",NA,NA
"On the twenty-eighth time through, the 16-bit location at 1004h and 1005h will contain the ",NA,NA
value A7h times 1Ch. At location 1003h will be the value 1. This will be added to FFh and the ,NA,NA
result will be zero. The Zero flag will be set! So the ,NA,NA
Jump If Not Zero,NA,NA
 instruction will ,NA,NA
not,NA,NA
 jump ,NA,NA
"back to 0000h. Instead, the next instruction is a ",NA,NA
Halt,NA,NA
. We're done.,NA,NA
I now assert that at long last we've assembled a piece of hardware that we can honestly call a ,NA,NA
computer,NA,NA
". To be sure, it's a primitive computer, but it's a computer nonetheless. What makes ",NA,NA
the difference is the conditional jump. Controlled repetition or ,NA,NA
looping,NA,NA
 is what separates ,NA,NA
computers from calculators. I've just demonstrated how a conditional jump instruction allows ,NA,NA
"this machine to multiply two numbers. In a similar way, it can also divide two numbers. ",NA,NA
"Moreover, it's not limited to 8-bit values. It can add, subtract, multiply, and divide 16-bit, 24-",NA,NA
"bit, 32-bit, or even larger numbers. And if it can do this, it can calculate square roots, ",NA,NA
"logarithms, and trigonometric functions.",NA,NA
"Now that we've assembled a computer, we can start using words that sound like we're ",NA,NA
talking about computers.,NA,NA
The particular computer that we've assembled is classified as a ,NA,NA
digital,NA,NA
 computer because it ,NA,NA
"works with discrete numbers. At one time, there were also ",NA,NA
analog,NA,NA
 computers that are now ,NA,NA
largely extinct. (Digital data is ,NA,NA
discrete,NA,NA
 data—data that has certain specific distinct values. ,NA,NA
Analog information is ,NA,NA
continuous,NA,NA
 and varies throughout an entire range.),NA,NA
A digital computer has four main parts: a ,NA,NA
"processor, memory",NA,NA
", at least one ",NA,NA
input,NA,NA
" device, and ",NA,NA
least one ,NA,NA
output,NA,NA
" device. In our machine, the memory is the 64-KB RAM array. The input and ",NA,NA
output devices are the rows of switches and lightbulbs on the RAM array control panel. These ,NA,NA
switches and lightbulbs let us (the human beings in this show) put numbers into memory and ,NA,NA
examine the results.,NA,NA
The processor is everything else. A processor is also called a ,NA,NA
central processing unit,NA,NA
", or CPU. ",NA,NA
"More casually, the processor is sometimes called the ",NA,NA
brain,NA,NA
" of the computer, but I'd like to ",NA,NA
"avoid using such terminology, mainly because what we designed in this chapter hardly seems ",NA,NA
anything like a brain to me. (The word ,NA,NA
microprocessor,NA,NA
 is very common these days. A ,NA,NA
microprocessor is just a processor that—through use of technology I'll describe in ,NA,NA
Chapter ,NA,NA
18,NA,NA
—is very small. What we've built out of relays in this chapter could hardly be defined as a ,NA,NA
micro,NA,NA
 anything!),NA,NA
The processor that we've built is an ,NA,NA
8-bit,NA,NA
 processor. The accumulator is 8 bits wide and most ,NA,NA
of the data paths are 8 bits wide. The only 16-bit data path is the address to the RAM array. If ,NA,NA
"we used 8 bits for that, we'd be limited to 256 bytes of memory rather than 65,536 bytes, and ",NA,NA
that would be quite restrictive.,NA,NA
A processor has several components. I've already identified the ,NA,NA
accumulator,NA,NA
", which is simply a ",NA,NA
"latch that holds a number inside the processor. In our computer, the 8-bit inverter and the 8-",NA,NA
Bit Adder together can be termed the ,NA,NA
Arithmetic Logic Unit,NA,NA
", or ALU. Our ALU performs only ",NA,NA
"arithmetic, specifically addition and subtraction. In slightly more sophisticated computers (as ",NA,NA
"we'll see), the ALU can also perform logical functions, such as AND, OR, and XOR. The 16-bit ",NA,NA
counter is called a ,NA,NA
Program Counter,NA,NA
.,NA,NA
"The computer that we've built is constructed from relays, wires, switches, and lightbulbs. All ",NA,NA
of these things are ,NA,NA
hardware,NA,NA
". In contrast, the instructions and other numbers that we enter ",NA,NA
into memory are called ,NA,NA
software,NA,NA
". It's ""soft"" because it can be changed much more easily than ",NA,NA
the hardware can.,NA,NA
"When we speak of computers, the word ",NA,NA
software,NA,NA
 is almost synonymous with the term ,NA,NA
computer program,NA,NA
", or, more simply, ",NA,NA
program,NA,NA
. Writing software is known as ,NA,NA
computer ,NA,NA
programming,NA,NA
. Computer programming is what I was doing when I determined the series of ,NA,NA
instructions that would allow our computer to multiply two numbers together.,NA,NA
"Generally, in computer programs, we can distinquish between ",NA,NA
code,NA,NA
 (which refers to the ,NA,NA
instructions themselves) and ,NA,NA
data,NA,NA
", which are the numbers that the code manipulates. ",NA,NA
"Sometimes the distinction isn't so obvious, as when the ",NA,NA
Halt,NA,NA
 instruction served double duty ,NA,NA
as the number –1.,NA,NA
Computer programming is sometimes also referred to as ,NA,NA
writing code,NA,NA
", or ",NA,NA
coding,NA,NA
", as in, ""I ",NA,NA
"spent my vacation coding"" or ""I was up until seven this morning banging out some code."" ",NA,NA
Sometimes computer programmers are known as ,NA,NA
coders,NA,NA
", although some might consider this ",NA,NA
a derogatory term. Such programmers might prefer to be called ,NA,NA
software engineers,NA,NA
.,NA,NA
The operation codes that a processor responds to (such as 10h and 11h for ,NA,NA
Load,NA,NA
 and ,NA,NA
Store,NA,NA
) ,NA,NA
are known as ,NA,NA
machine codes,NA,NA
", or ",NA,NA
machine language,NA,NA
. The term ,NA,NA
language,NA,NA
 is used because it's ,NA,NA
"akin to a spoken or written human language in that a machine ""understands"" it and ",NA,NA
responds to it.,NA,NA
"I've been referring to the instructions that our machine carries out by rather long phrases, ",NA,NA
such as ,NA,NA
Add with Carry,NA,NA
". Commonly, machine codes are assigned short mnemonics that are ",NA,NA
written with uppercase letters.,NA,NA
These mnemonics can be as short as 2 or 3 letters. Here's a set of possible mnemonics ,NA,NA
for the machine codes that our computer recognizes:,"Operation
  
 Code 
  
 Mnemonic
  
 Load
  
 10h
  
 LOD
  
 Store
  
 11h
  
 STO
  
 Add
  
 20h
  
 ADD
  
 Subtract
  
 21h
  
 SUB
  
 Add with Carry
  
 22h
  
 ADC
  
 Subtract with 
 Borrow 
  
 23h
  
 SBB
  
 Jump
  
 30h
  
 JMP
  
 Jump If Zero
  
 31h
  
 JZ
  
 Jump If Carry
  
 32h
  
 JC
  
 Jump If Not Zero
  
 33h
  
 JNZ
  
 Jump If Not Carry
  
 34h
  
 JNC
  
 Halt
  
 FFh
  
 HLT",NA
These mnemonics are particularly useful when combined with a couple of other ,NA,NA
"shortcuts. For example, instead of saying something long-winded like, ""Load byte at ",NA,NA
"address 1003h into accumulator,"" we can instead write the statement:","LOD A,[1003h]",NA
The ,NA,NA
A,NA,NA
 and the ,NA,NA
[1003],NA,NA
 that appear to the right of the mnemonic are called ,NA,NA
arguments,NA,NA
 that ,NA,NA
indicate what's going on with this particular ,NA,NA
Load,NA,NA
 instruction. The arguments are written with ,NA,NA
a ,NA,NA
destination,NA,NA
 on the left (the A stands for accumulator) and a ,NA,NA
source,NA,NA
 on the right. The brackets ,NA,NA
indicate that the accumulator should be loaded not with the value 1003h but with the value ,NA,NA
stored in memory at address 1003h.,NA,NA
"Similarly, the instruction ""Add byte at address 001Eh to accumulator"" can be shortened to","ADD A,[001Eh]",NA
"and ""Store contents of accumulator at address 1003h"" is","STO [1003h],A",NA
Notice that the destination (a memory location for the ,NA,NA
Store,NA,NA
 instruction) is still on the left ,NA,NA
and the source is on the right. The contents of the accumulator must be stored in memory at ,NA,NA
address 1003h.,NA,NA
"The wordy ""Jump to 0000h if the Zero flag is not 1"" is more concisely written as",NA,NA
"The brackets aren't used in this instruction because the instruction jumps to address 0000h, ",NA,NA
not to the value that might be stored at address 0000h.,NA,NA
It's convenient to write these instructions in this type of shorthand because the instructions ,NA,NA
can be listed sequentially in a readable way that doesn't require us to draw boxes of memory ,NA,NA
"locations. To indicate that a particular instruction is stored at a particular address, you can ",NA,NA
"use the hexadecimal address followed by a colon, such as","0000h:    LOD A,[1005h]",NA
And here's how we can indicate some data stored at a particular address:,"1000h:   00h, A7h 
  
 1002h:   00h, 1Ch 
  
 1004h:   00h, 00h",NA
The 2 bytes separated by commas indicate that the first byte is stored at the address on the ,NA,NA
left and the second byte is stored at the next address. These three lines are equivalent to,"1000h:    00h,  A7h,  00h,  1Ch,  00h,  00h",NA
So the entire multiplication program can be written as a series of statements like this:,"0000h:    LOD A,[1005h]
  
  ADD 
 A,[1001h]
  
  STO [1005h],A
  
  LOD 
 A,[1004h]
  
  ADC 
 A,[1000h]
  
  STO [1004h],A
  
  LOD 
 A,[1003h]
  
  ADD 
 A,[001Eh]
  
  STO [1003h],A
  
  JNZ 0000h
  
 001Eh:    HLT
  
 1000h:    00h, A7h 
  
 1002h:    00h, 1Ch 
  
 1004h:    00h, 00h",NA
The judicious use of blank lines and other ,NA,NA
white space,NA,NA
 is simply to make the whole ,NA,NA
program more readable for human beings like you and me.,NA,NA
It's better not to use actual numeric addresses when writing code because they can change. ,NA,NA
"For example, if you decided to store the numbers at memory locations 2000h through ",NA,NA
"20005h, you'd need to rewrite many of the statements as well. It's better to use ",NA,NA
labels,NA,NA
 to refer ,NA,NA
to locations in memory.,NA,NA
"These labels are simply words, or they look almost like words, like this:","BEGIN:    LOD A,[RESULT + 1]
  
  ADD A,[NUM1 + 1]
  
  STO [RESULT + 1],A
  
  LOD A,[RESULT]
  
  ADC A,[NUM1]
  
  STO [RESULT],A",NA
Notice that the labels ,NA,NA
"NUM1, NUM2",NA,NA
", and ",NA,NA
RESULT,NA,NA
 all refer to memory locations where 2 bytes ,NA,NA
"are stored. In these statements, the labels ",NA,NA
"NUM1 + 1, NUM2 + 1",NA,NA
", and ",NA,NA
RESULT + 1,NA,NA
 refer to the ,NA,NA
second byte after the particular label. Notice the ,NA,NA
NEG1,NA,NA
 (,NA,NA
negative one,NA,NA
) label on the ,NA,NA
HLT,NA,NA
 ,NA,NA
instruction.,NA,NA
"Finally, if there's a chance that you'll forget what these statements do, you can add little ",NA,NA
comments,NA,NA
", which are in English and are separated from the actual statements by a ",NA,NA
semicolon:,"BEGIN:    LOD A,[RESULT + 1]
  
  ADD A,[NUM1 + 1]       ; Add low-order byte STO [RESULT + 
 1],A
  
  LOD A,[RESULT]
  
  ADC A,[NUM1]           ; Add high-order byte STO [RESULT],A
  
  LOD A,[NUM2 + 1]
  
  ADD A,[NEG1]           ; Decrement second number STO [NUM2 + 1],A
  
  JNZ BEGIN
  
 NEG1:     HLT
  
 NUM1:     00h, A7h 
  
 NUM2:     00h, 1Ch 
  
 RESULT:   00h, 00h",NA
I'm showing you here a type of computer programming language known as ,NA,NA
assembly ,NA,NA
language,NA,NA
. It's something of a compromise between the naked numbers of machine code and ,NA,NA
"the wordiness of our English descriptions of the instructions, coupled with symbolic ",NA,NA
representations of memory addresses.,NA,NA
People are sometimes confused about the difference between machine code and assembly ,NA,NA
language because they're really just two different ways of looking at the same thing. Every ,NA,NA
statement in assembly language corresponds to certain specific bytes of machine code.,NA,NA
"If you were to write a program for the computer that we've built in this chapter, you'd ",NA,NA
"probably want to write it first (on paper) in assembly language. Then, once you were ",NA,NA
"satisfied that it was mostly correct and ready to be tested, you would ",NA,NA
hand assemble,NA,NA
 it: This ,NA,NA
means that you would manually convert each assembly-language statement to machine ,NA,NA
"code, still on paper. At that point, you can use the switches to enter the machine code into ",NA,NA
the RAM array and ,NA,NA
run the program,NA,NA
", which means to let the machine execute the ",NA,NA
instructions.,NA,NA
"When you're learning the concepts of computer programming, it's never too early to get ",NA,NA
acquainted with ,NA,NA
bugs,NA,NA
. When you're coding—particularly in machine code—it's very easy to ,NA,NA
"make mistakes. It's bad enough to enter a number incorrectly, but what happens when you ",NA,NA
enter an instruction code incorrectly? If you enter a 11h (the ,NA,NA
Store,NA,NA
 instruction) when you ,NA,NA
really meant to enter a 10h (the ,NA,NA
Load,NA,NA
"instruction), not only will the machine not load in the number it's supposed to, but that ",NA,NA
number will be overwritten by whatever happens to be in the accumulator.,NA,NA
Some bugs can have unpredictable results. Suppose you use the ,NA,NA
Jump,NA,NA
 instruction to jump to a ,NA,NA
location that doesn't contain a valid instruction code. Or suppose you accidentally use the ,NA,NA
Store,NA,NA
 instruction to write over instructions. Anything can happen (and often does).,NA,NA
"There's even a bug in my multiplication program. If you run it twice, the second time through ",NA,NA
it will multiply A7h by 256 and add that result to the result already calculated. This is because ,NA,NA
"after you run the program once, the number at address 1003h will be 0. When you run it the ",NA,NA
"second time, FFh will be added to that value. The result won't be 0, so the program will keep ",NA,NA
running until it is.,NA,NA
"We've seen that this machine can do multiplication, and in a similar way it can also do ",NA,NA
division. I've also asserted that this machine can use these primitive functions to do square ,NA,NA
"roots, logarithms, and trigonometric functions. All a machine needs is the hardware to add ",NA,NA
and subtract and some way to use conditional jump instructions to execute the proper code. ,NA,NA
"As a programmer might say, ""I can do the rest in software.""",NA,NA
"Of course, this software might be quite complex. Many whole books have been written that ",NA,NA
describe the ,NA,NA
algorithms,NA,NA
 that programmers use to solve specific problems. We're not yet ready ,NA,NA
for that. We've been thinking about whole numbers and haven't taken a crack at how to ,NA,NA
represent decimal fractions in the computer. I'll get to that in ,NA,NA
Chapter 23,NA,NA
.,NA,NA
I've mentioned several times that all the hardware to build these devices was available over a ,NA,NA
hundred years ago. But it's unlikely that the computer shown in this chapter could have been ,NA,NA
built at that time. Many of the concepts implicit in its design weren't apparent when relay ,NA,NA
computers were first built in the mid-1930s and only started to be understood around 1945 ,NA,NA
"or so. Until that time, for example, people were still trying to build computers that internally ",NA,NA
used decimal numbers rather than binary. And computer programs weren't always stored in ,NA,NA
"memory but instead were sometimes coded on paper tape. In particular, in the early days of ",NA,NA
"computers, memory was expensive and bulky.",NA,NA
Building a 64-KB RAM array from five million telegraph relays would have been as ,NA,NA
absurd one hundred years ago as it is now.,NA,NA
It's time to put what we've done in perspective and to review the history of calculation and ,NA,NA
computing devices and machines. Perhaps we shall find that we don't have to build this ,NA,NA
elaborate relay computer after all. As I mentioned in ,NA,NA
Chapter 12,NA,NA
", relays were eventually ",NA,NA
replaced with electronic devices such as vacuum tubes and transistors. Perhaps we shall also ,NA,NA
find that someone else has built something that's equivalent to the processor and the memory ,NA,NA
we designed but that can fit in the palm of your hand.,NA,NA
Chapter 18. From Abaci to Chips,NA,NA
"Throughout recorded history, people have invented numerous clever gadgets and machines ",NA,NA
in a universal quest to make mathematical calculations just a little bit easier. While the human ,NA,NA
"species seemingly has an innate numerical ability, we also require frequent assistance. We can ",NA,NA
often conceive of problems that we can't easily solve ourselves.,NA,NA
The development of number systems can be seen as an early tool to help people keep track of ,NA,NA
"commodities and property. Many cultures, including the ancient Greeks and native ",NA,NA
"Americans, seem to have counted with the assistance also of pebbles or kernels of grain. In ",NA,NA
"Europe, this led to counting boards, and in the Middle East to the familiar frame-and-bead ",NA,NA
abacus:,NA,NA
"Although commonly associated with Asian cultures, the abacus seems to have been ",NA,NA
introduced to China by traders around 1200 CE.,NA,NA
"No one has ever really enjoyed multiplication and division, but few people have done ",NA,NA
anything about it. The Scottish mathematician John Napier (1550–1617) was one of those ,NA,NA
few. He invented logarithms for the specific purpose of simplifying these operations. The ,NA,NA
product of two numbers is simply the sum of their logarithms. So if you need to multiply two ,NA,NA
"numbers, you look them up in a table of logarithms, add the numbers from the table, and then ",NA,NA
use the table in reverse to find the actual product.,NA,NA
The construction of tables of logarithms occupied some of the greatest minds of the ,NA,NA
subsequent 400 years while others designed little gadgets to use in place of these tables. The ,NA,NA
slide rule has a long history beginning with a logarithmic scale made by Edmund Gunter ,NA,NA
(1581–1626) and refined by William Oughtred (1574–1660). The history of the slide rule ,NA,NA
"effectively ended in 1976, when the Keuffel & Esser Company presented its last ",NA,NA
manufactured slide rule to the Smithsonian Institution in Washington D.C. The cause of ,NA,NA
death was the hand-held calculator.,NA,NA
"Napier also invented another multiplication aid, which is composed of strips of numbers ",NA,NA
"usually inscribed on bone, horn, or ivory and hence referred to as ",NA,NA
Napier's Bones,NA,NA
. The earliest ,NA,NA
mechanical calculator was a somewhat automated version of Napier's bones built around ,NA,NA
"1620 by Wilhelm Schickard (1592–1635). Other calculators based on interlocking wheels, ",NA,NA
"gears, and levers are almost as old. Two of the more significant builders of mechanical ",NA,NA
calculators were the mathematicians and philosophers Blaise Pascal (1623–1662) and ,NA,NA
Gottfried Wilhelm von Leibniz (1646–1716).,NA,NA
You'll no doubt recall what a nuisance the carry bit was in both the original 8-Bit Adder ,NA,NA
and the computer that (among other things) automated the addition of numbers wider ,NA,NA
than 8 bits. The carry,NA,NA
"seems at first to be just a little quirk of addition, but in adding machines, the carry is really the ",NA,NA
"central problem. If you've designed an adding machine that does everything except the carry, ",NA,NA
you're nowhere close to being finished!,NA,NA
How successfully the carry is dealt with is a key to the evaluation of old calculating machines. ,NA,NA
"For example, Pascal's design of the carry mechanism prohibited the machine from subtracting. ",NA,NA
"To subtract, the nines' complement had to be added the way that I demonstrated in ",NA,NA
Chapter ,NA,NA
13,NA,NA
. Successful mechanical calculators that real people could use weren't available until the ,NA,NA
late nineteenth century.,NA,NA
One curious invention that was to have a later influence on the history of computing—as well ,NA,NA
as a profound influence on the textile industry—was an automated loom developed by Joseph ,NA,NA
Marie Jacquard (1752–1834). The Jacquard loom (circa 1801) used metal cards with holes ,NA,NA
punched in them (much like those of a player piano) to control the weaving of patterns in ,NA,NA
fabrics. Jacquard's own tour de force was a self-portrait in black and white silk that required ,NA,NA
"about 10,000 cards.",NA,NA
"In the eighteenth century (and indeed up to the 1940s), a ",NA,NA
computer,NA,NA
 was a person who ,NA,NA
"calculated numbers for hire. Tables of logarithms were always needed, and trigonometric ",NA,NA
tables were essential for nautical navigation using the stars and planets. If you wanted to ,NA,NA
"publish a new set of tables, you would hire a bunch of computers, set them to work, and then ",NA,NA
"assemble all the results. Errors could creep in at any stage of this process, of course, from the ",NA,NA
initial calculation to setting up the type to print the final pages.,NA,NA
The desire to eliminate errors from mathematical tables motivated the work of Charles ,NA,NA
"Babbage (1791–1871), a British mathematician and economist who was almost an exact ",NA,NA
contemporary of Samuel Morse.,NA,NA
"At the time, mathematical tables (of logarithms, for example) were ",NA,NA
not,NA,NA
 created by calculating ,NA,NA
an actual logarithm for each and every entry in the table. This would have taken far too long. ,NA,NA
"Instead, the logarithms were calculated for select numbers, and then numbers in between ",NA,NA
"were calculated by interpolation, using what are called ",NA,NA
differences,NA,NA
 in relatively simple ,NA,NA
calculations.,NA,NA
"Beginning about 1820, Babbage believed that he could design and build a machine that would ",NA,NA
"automate the process of constructing a table, even to the point of setting up type for printing. ",NA,NA
"This would eliminate errors. He conceived the Difference Engine, and basically it was a big ",NA,NA
mechanical adding machine. Multidigit decimal numbers were represented by geared wheels ,NA,NA
that could be in any,NA,NA
of 10 positions. Negatives were handled using the ten's complement. Despite some early ,NA,NA
models that showed Babbage's design to be sound and some grants from the British ,NA,NA
"government (never enough, of course), the Difference Engine was never completed. Babbage ",NA,NA
abandoned work on it in 1833.,NA,NA
"By that time, however, Babbage had an even better idea. It was called the Analytical Engine, ",NA,NA
and through repeated design and redesign (with a few small models and parts of it actually ,NA,NA
built) it consumed Babbage off and on until his death. The Analytical Engine is the closest ,NA,NA
"thing to a computer that the nineteenth century has to offer. In Babbage's design, it had a ",NA,NA
store,NA,NA
 ,NA,NA
(comparable to our concept of memory) and a ,NA,NA
mill,NA,NA
 (the arithmetic unit). Multiplication could ,NA,NA
"be handled by repeated addition, and division by repeated subtraction.",NA,NA
What's most intriguing about the Analytical Engine is that it could be programmed using cards ,NA,NA
that were adapted from the cards used in the Jacquard pattern-weaving loom. As Augusta Ada ,NA,NA
"Byron, Countess of Lovelace (1815–1852), put it (in notes to her translation of an article ",NA,NA
"written by an Italian mathematician about Babbage's Analytical Engine), ""We may say that the ",NA,NA
Analytical Engine weaves algebraical patterns just as the Jacquard-loom weaves flowers and ,NA,NA
"leaves.""",NA,NA
Babbage seems to be the first person to understand the importance of a conditional jump in ,NA,NA
"computers. Here's Ada Byron again: ""A ",NA,NA
cycle,NA,NA
" of operations, then, must be understood to signify ",NA,NA
any ,NA,NA
set of operations,NA,NA
 which is repeated ,NA,NA
more than once,NA,NA
. It is equally a ,NA,NA
cycle,NA,NA
", whether it be ",NA,NA
repeated ,NA,NA
twice,NA,NA
" only, or an indefinite number of times; for it is the fact of a ",NA,NA
repetition occurring ,NA,NA
at all,NA,NA
 that constitutes it such. In many cases of analysis there is a ,NA,NA
recurring group,NA,NA
 of one or ,NA,NA
"more cycles; that is, a ",NA,NA
cycle of cycle,NA,NA
", or a ",NA,NA
cycle of cycles,NA,NA
".""",NA,NA
Although a difference engine was eventually built by father-and-son team Georg and Edvard ,NA,NA
"Scheutz in 1853, Babbage's engines were forgotten for many years, only to be resurrected in ",NA,NA
the 1930s when people began searching for the roots of twentieth century computing. By that ,NA,NA
"time, everything Babbage had done had already been surpassed by later technology, and he ",NA,NA
had little to offer the twentieth century computer engineer except a precocious vision of ,NA,NA
automation.,NA,NA
"Another milestone in the history of computing resulted from Article I, Section 2, of the ",NA,NA
"Constitution of the United States of America. Among other things, this section calls for a ",NA,NA
"census to be taken every ten years. By the time of the 1880 census, information was ",NA,NA
"accumulated on age, sex, and national origin. The data amassed took about seven years to ",NA,NA
process.,NA,NA
"Fearing that the 1890 census would take longer than a decade to process, the Census Office ",NA,NA
explored the possibility of automating the system and chose machinery developed by Herman ,NA,NA
"Hollerith (1860–1929), who had worked as a statistician for the 1880 census.",NA,NA
Hollerith's plan involved manila punch cards 6 ⅝ x 3 ¼ inches in size. (It's unlikely that ,NA,NA
"Hollerith knew about Charles Babbage's use of cards to program his Analytical Engine, but he ",NA,NA
was almost certainly familiar with the use of cards in the Jacquard loom.) The holes in these ,NA,NA
"cards were organized into 24 columns of 12 positions each, for a total of 288 positions. These ",NA,NA
positions represented certain characteristics of a person being tallied in the census. The ,NA,NA
census taker indicated these characteristics by punching ¼-inch square holes into the ,NA,NA
appropriate positions on the card.,NA,NA
This book has probably so accustomed you to thinking in terms of binary codes that ,NA,NA
you might immediately assume that a card with 288 possible punches is capable of ,NA,NA
storing 288 bits of information. But the cards weren't used that way.,NA,NA
"For example, a census card used in a purely binary system would have one position for sex. It ",NA,NA
would be either punched for male or unpunched for female (or the other way around). But ,NA,NA
"Hollerith's cards had two positions for sex. One position was punched for male, the other for ",NA,NA
"female. Likewise, the census taker indicated a subject's age by making two punches. The first ",NA,NA
"punch designated a five-year age range: 0 through 4, 5 through 9, 10 through 14, and so forth. ",NA,NA
The second punch was in one of five positions to indicate the precise age within that range. ,NA,NA
Coding the age required a total of 28 positions on the card. A pure binary system would ,NA,NA
require just 7 positions to code any age from 0 through 127.,NA,NA
We should forgive Hollerith for not implementing a binary system for recording census ,NA,NA
information: Converting an age to binary numbers was a little too much to ask of the 1890 ,NA,NA
census takers. There's also a practical reason why a system of punched cards can't be ,NA,NA
entirely binary. A binary system would produce cases in which ,NA,NA
all,NA,NA
 the holes (or nearly all) ,NA,NA
"were punched, rendering the card very fragile and structurally unsound.",NA,NA
"Census data is collected so that it can be counted, or ",NA,NA
tabulated,NA,NA
. You want to know how many ,NA,NA
"people live in each census district, of course, but it's also interesting to obtain information ",NA,NA
"about the age distribution of the population. For this, Hollerith created a tabulating machine ",NA,NA
that combined hand operation and automation. An operator pressed a board containing 288 ,NA,NA
spring-loaded pins on each card. Pins corresponding to punched holes in the cards came into ,NA,NA
contact with a pool of mercury that completed an electrical circuit that triggered an ,NA,NA
electromagnet that incremented a decimal counter.,NA,NA
"Hollerith also used electromagnets in a machine that sorted cards. For example, you might ",NA,NA
want to accumulate separate age statistics for each occupation that you've tallied. You first ,NA,NA
need to sort the cards by occupation and then accumulate the age statistics separately for ,NA,NA
"each. The sorting machine used the same hand press as the tabulator, but the sorter had ",NA,NA
electromagnets to open a hatch to one of 26 separate compartments. The operator dropped ,NA,NA
the card into the compartment and manually closed the hatch.,NA,NA
"This experiment in automating the 1890 census was a resounding success. All told, over 62 ",NA,NA
million cards were processed. They contained twice as much data as was accumulated in the ,NA,NA
"1880 census, and the data was processed in about one-third the time. Hollerith and his ",NA,NA
inventions became known,NA,NA
"around the world. In 1895, he even traveled to Moscow and succeeded in selling his ",NA,NA
"equipment for use in the very first Russian census, which occurred in 1897.",NA,NA
"Herman Hollerith also set in motion a long trail of events. In 1896, he founded the Tabulating ",NA,NA
"Machine Company to lease and sell the punch-card equipment. By 1911, with the help of a ",NA,NA
"couple of mergers, it had become the Computing-Tabulating-Recording Company, or C-T-R. ",NA,NA
"By 1915, the president of C-T-R was Thomas J. Watson (1874–1956), who in 1924 changed ",NA,NA
"the name of the company to International Business Machines Corporation, or IBM.",NA,NA
"By 1928, the original 1890 census cards had evolved into the famous ""do not spindle, fold, or ",NA,NA
"mutilate"" IBM cards, with 80 columns and 12 rows. They remained in active use for over 50 ",NA,NA
"years, and even in their later years were sometimes referred to as ",NA,NA
Hollerith cards,NA,NA
. I'll describe ,NA,NA
the legacy of these cards more in Chapters ,NA,NA
Chapter 20,NA,NA
", ",NA,NA
Chapter 21,NA,NA
", and ",NA,NA
Chapter 24,NA,NA
.,NA,NA
"Before we move on to the twentieth century, let's not leave the nineteenth century with too ",NA,NA
"warped a view about that era. For obvious reasons, in this book I've been focusing most ",NA,NA
"closely on inventions that are digital in nature. These include the telegraph, Braille, Babbage's ",NA,NA
"engines, and the Hollerith card. When working with digital concepts and devices, you might ",NA,NA
find it easy to think that the whole world must be digital. But the nineteenth century is ,NA,NA
characterized more by discoveries and inventions that were decidedly ,NA,NA
not,NA,NA
" digital. Indeed, very ",NA,NA
little of the natural world that we experience through our senses is digital. It's instead mostly ,NA,NA
a continuum that can't be so easily quantified.,NA,NA
"Although Hollerith used relays in his card tabulators and sorters, people didn't really begin ",NA,NA
building computers using relays—,NA,NA
electromechanical,NA,NA
" computers, as they were eventually ",NA,NA
called—until the mid 1930s. The relays used in these machines were generally not telegraph ,NA,NA
"relays, but instead were relays developed for the telephone system to control the routing of ",NA,NA
calls.,NA,NA
Those early relay computers were ,NA,NA
not,NA,NA
 like the relay computer that we built in the last chapter. ,NA,NA
"(As we'll see, I based the design of that computer on microprocessors from the 1970s.) In ",NA,NA
"particular, while it's obvious to us today that computers internally should use binary ",NA,NA
"numbers, that wasn't always the case.",NA,NA
Another difference between our relay computer and the early real ones is that nobody in the ,NA,NA
"1930s was crazy enough to construct 524,288 bits of memory out of relays! The cost and ",NA,NA
space and power requirements would have made so much memory impossible. The scant ,NA,NA
memory available was used only for storing intermediate results. The programs themselves ,NA,NA
"were on a physical medium such as a paper tape with punched holes. Indeed, our process of ",NA,NA
putting code and data into memory is a more modern concept.,NA,NA
"Chronologically, the first relay computer seems to have been constructed by Conrad Zuse ",NA,NA
"(1910–1995), who as an engineering student in 1935 began building a machine in his parents' ",NA,NA
apartment in Berlin. It used binary numbers but in the early versions used a mechanical ,NA,NA
memory scheme rather than relays. Zuse punched holes in old 35mm movie film to program ,NA,NA
his computers.,NA,NA
"In 1937, George Stibitz (1904–1995) of Bell Telephone Laboratories took home a couple of ",NA,NA
telephone relays and wired a 1-bit adder on his kitchen table that his wife later dubbed the K ,NA,NA
Machine (K for kitchen). This experimentation led to Bell Labs' Complex Number Computer in ,NA,NA
1939.,NA,NA
"Meanwhile, Harvard graduate student Howard Aiken (1900–1973) needed some way to do ",NA,NA
"lots of repetitive calculations, and that led to a collaboration between Harvard and IBM that ",NA,NA
resulted in the Automated Sequence Controlled Calculator (ASCC) eventually known as the ,NA,NA
"Harvard Mark I,",NA,NA
"completed in 1943. This was the first digital computer that printed tables, thus finally ",NA,NA
"realizing Charles Babbage's dream. The Mark II was the largest relay-based machine, using ",NA,NA
"13,000 relays. The Harvard Computation Laboratory headed by Aiken taught the first classes ",NA,NA
in computer science.,NA,NA
Relays weren't perfect devices for constructing computers. Because they were mechanical ,NA,NA
"and worked by bending pieces of metal, they could break after an extended workout. A relay ",NA,NA
could also fail because of a piece of dirt or paper stuck between the contacts. In one famous ,NA,NA
"incident in 1947, a moth was extracted from a relay in the Harvard Mark II computer. Grace ",NA,NA
"Murray Hopper (1906–1992), who had joined Aiken's staff in 1944 and who would later ",NA,NA
"become quite famous in the field of computer programming languages, taped the moth to the ",NA,NA
"computer logbook with the note ""first actual case of bug being found.""",NA,NA
"A possible replacement for the relay is the vacuum tube, which was developed by John ",NA,NA
Ambrose Fleming (1849–1945) and Lee de Forest (1873–1961) in connection with radio. By ,NA,NA
"the 1940s, vacuum tubes had long been used to amplify telephones, and virtually every home ",NA,NA
had a console radio set filled with glowing tubes that amplified radio signals to make them ,NA,NA
"audible. Vacuum tubes can also be wired—much like relays—into AND, OR, NAND, and NOR ",NA,NA
gates.,NA,NA
It doesn't matter whether gates are built from relays or vacuum tubes. Gates can always be ,NA,NA
"assembled into adders, selectors, decoders, flip-flops, and counters. Everything I explained ",NA,NA
about relay-based components in the preceding chapters remains valid when the relays are ,NA,NA
replaced by vacuum tubes.,NA,NA
"Vacuum tubes had their own problems, though. They were expensive, required a lot of ",NA,NA
"electricity, and generated a lot of heat. The big problem, however, was that they eventually ",NA,NA
burned out. This was a fact of life that people lived with. Those who owned tube radios were ,NA,NA
accustomed to replacing tubes periodically. The telephone system was designed with a lot of ,NA,NA
"redundancy, so the loss of a tube now and then was no big deal. (No one expects the telephone ",NA,NA
"system to work flawlessly anyway.) When a tube burns out in a computer, however, it might ",NA,NA
"not be immediately detected. Moreover, a computer uses so ",NA,NA
many,NA,NA
" vacuum tubes, that ",NA,NA
statistically they might be burning out every few minutes.,NA,NA
The big advantage of using vacuum tubes over relays is that tubes can switch in about a ,NA,NA
millionth of a second—one ,NA,NA
microsecond,NA,NA
. A vacuum tube changes state (switches on or off) a ,NA,NA
"thousand times faster than a relay, which at its very best only manages to switch in about 1 ",NA,NA
"millisecond, a thousandth of a second. Interestingly enough, the speed issue wasn't a major ",NA,NA
consideration in early computer development because overall computing speed was linked to ,NA,NA
the speed that the machine read the program from the paper or film tape. As long as ,NA,NA
"computers were built in this way, it didn't matter how much faster vacuum tubes were than ",NA,NA
relays.,NA,NA
"But beginning in the early 1940s, vacuum tubes began supplanting relays in new computers. ",NA,NA
"By 1945, the transition was complete. While relay machines were known as ",NA,NA
"electromechanical computers, vacuum tubes were the basis of the first ",NA,NA
electronic,NA,NA
 computers.,NA,NA
"In Great Britain, the Colossus computer (first operational in 1943) was dedicated to cracking ",NA,NA
"the German ""Enigma"" code-making machine. Contributing to this project (and to some later ",NA,NA
"British computer projects) was Alan M. Turing (1912–1954), who is most famous these days ",NA,NA
"for writing two influential papers. The first, published in 1937, pioneered the concept of ",NA,NA
"""computability,"" which is an analysis of what computers can and can't do. He conceived of an ",NA,NA
abstract model of a computer that's now known as the Turing Machine. The second famous ,NA,NA
paper Turing wrote was on the subject of artificial intelligence. He introduced a test for ,NA,NA
machine intelligence that's now known as the Turing Test.,NA,NA
"At the Moore School of Electrical Engineering (University of Pennsylvania), J. Presper Eckert ",NA,NA
(1919–1995) and John Mauchly (1907–1980) designed the ENIAC (Electronic Numerical ,NA,NA
"Integrator and Computer). It used 18,000 vacuum tubes and was completed in late 1945. In ",NA,NA
"sheer tonnage (about 30), the ENIAC was the largest computer that was ever (and probably ",NA,NA
"will ever be) made. By 1977, you could buy a faster computer at Radio Shack. Eckert and ",NA,NA
"Mauchly's attempt to patent the computer was, however, thwarted by a competing claim of ",NA,NA
"John V. Atanasoff (1903–1995), who earlier designed an electronic computer that never ",NA,NA
worked quite right.,NA,NA
The ENIAC attracted the interest of mathematician John von Neumann (1903–1957). Since ,NA,NA
"1930, the Hungarian-born von Neumann (whose last name is pronounced ",NA,NA
noy mahn,NA,NA
) had ,NA,NA
been living in the United States. A flamboyant man who had a reputation for doing complex ,NA,NA
"arithmetic in his head, von Neumann was a mathematics professor at the Princeton Institute ",NA,NA
"for Advanced Study, and he did research in everything from quantum mechanics to the ",NA,NA
application of game theory to economics.,NA,NA
"John von Neumann helped design the successor to the ENIAC, the EDVAC (Electronic Discrete ",NA,NA
"Variable Automatic Computer). Particularly in the 1946 paper ""Preliminary Discussion of the ",NA,NA
"Logical Design of an Electronic Computing Instrument,"" coauthored with Arthur W. Burks and ",NA,NA
"Herman H. Goldstine, he described several features of a computer that made the EDVAC a ",NA,NA
considerable advance over the ENIAC. The designers of the EDVAC felt that the computer ,NA,NA
should use binary numbers internally. The ENIAC used decimal numbers. The computer ,NA,NA
"should also have as much memory as possible, and this memory should be used for storing ",NA,NA
"both program code and data as the program was being executed. (Again, this wasn't the case ",NA,NA
with the ENIAC. Programming the ENIAC was a matter of throwing switches and plugging in ,NA,NA
cables.) These instructions should be sequential in memory and addressed with a program ,NA,NA
counter but should also allow conditional jumps. This design came to be known as the ,NA,NA
stored-,NA,NA
program concept,NA,NA
.,NA,NA
These design decisions were such an important evolutionary step that today we speak of ,NA,NA
von ,NA,NA
Neumann architecture,NA,NA
. The computer that we built in the last chapter was a classic von ,NA,NA
Neumann machine. But with von Neumann architecture comes the ,NA,NA
von Neumann bottleneck,NA,NA
. A ,NA,NA
von Neumann machine generally spends a significant amount of time just fetching ,NA,NA
instructions from memory in preparation for executing them. You'll recall that the final design ,NA,NA
of the ,NA,NA
Chapter 17,NA,NA
 computer required that three-quarters of the time it spent on each ,NA,NA
instruction be involved in the instruction fetch.,NA,NA
"At the time of the EDVAC, it wasn't cost effective to build a lot of memory out of vacuum tubes. ",NA,NA
Some,NA,NA
very odd solutions were proposed instead. One successful one was ,NA,NA
mercury delay line ,NA,NA
memory,NA,NA
", which used 5-foot tubes of mercury. At one end of the tube, little pulses were sent ",NA,NA
into the mercury about 1 microsecond apart. These pulses took about a millisecond to reach ,NA,NA
"the other end (where they were detected like sound waves and routed back to the beginning), ",NA,NA
and hence each tube of mercury could store about 1024 bits of information.,NA,NA
It wasn't until the mid-1950s that ,NA,NA
magnetic core memory,NA,NA
 was developed. Such memory ,NA,NA
consisted of large arrays of little magnetized metal rings strung with wires. Each little ring ,NA,NA
could store a bit of information. Long after core memory had been replaced by other ,NA,NA
"technologies, it was common to hear older programmers refer to the memory that the ",NA,NA
processor accessed as ,NA,NA
core,NA,NA
.,NA,NA
John von Neumann wasn't the only person doing some major conceptual thinking about the ,NA,NA
nature of computers in the 1940s.,NA,NA
Claude Shannon (born 1916) was another influential thinker. In ,NA,NA
Chapter 11,NA,NA
", I discussed his ",NA,NA
"1938 master's thesis, which established the relationship between switches, relays, and ",NA,NA
"Boolean algebra. In 1948, while working for Bell Telephone Laboratories, he published a ",NA,NA
paper in the ,NA,NA
Bell System Technical Journal,NA,NA
" entitled ""A Mathematical Theory of ",NA,NA
"Communication"" that not only introduced the word ",NA,NA
bit,NA,NA
 in print but established a field of study ,NA,NA
today known as ,NA,NA
information theory,NA,NA
. Information theory is concerned with transmitting digital ,NA,NA
information in the presence of noise (which usually prevents all the information from getting ,NA,NA
"through) and how to compensate for that. In 1949, he wrote the first article about ",NA,NA
"programming a computer to play chess, and in 1952 he designed a mechanical mouse ",NA,NA
controlled by relays that could learn its way around a maze. Shannon was also well known at ,NA,NA
Bell Labs for riding a unicycle and juggling simultaneously.,NA,NA
"Norbert Wiener (1894–1964), who earned his Ph.D. in mathematics from Harvard at the age ",NA,NA
"of 18, is most famous for his book ",NA,NA
"Cybernetics, or Control and Communication in the Animal ",NA,NA
and Machine ,NA,NA
(1948). He coined the word ,NA,NA
cybernetics,NA,NA
 (derived from the Greek for ,NA,NA
steersman,NA,NA
) ,NA,NA
to identify a theory that related biological processes in humans and animals to the mechanics ,NA,NA
"of computers and robots. In popular culture, the ubiquitous ",NA,NA
cyber,NA,NA
-prefix now denotes ,NA,NA
"anything related to the computer. Most notably, the interconnection of millions of computers ",NA,NA
through the Internet is known as ,NA,NA
cyberspace,NA,NA
", a word coined by ",NA,NA
cyberpunk,NA,NA
 sciencefiction ,NA,NA
novelist William Gibson in his 1984 novel ,NA,NA
Neuromancer,NA,NA
.,NA,NA
"In 1948, the Eckert-Mauchly Computer Corporation (later part of Remington Rand) began ",NA,NA
work on what would become the first commercially available computer—the Universal ,NA,NA
"Automatic Computer, or UNIVAC. It was completed in 1951, and the first one was delivered to ",NA,NA
"the Bureau of the Census. The UNIVAC made its prime-time network debut on CBS, when it ",NA,NA
was used to predict results of the 1952 presidential election. Walter Cronkite referred to it as ,NA,NA
"an ""electronic brain."" Also in 1952, IBM announced the company's first commercial computer ",NA,NA
"system, the 701.",NA,NA
And thus began a long history of corporate and governmental computing. However ,NA,NA
"interesting that history might be, we're going to pursue another historical track—a track ",NA,NA
"that shrank the cost and size of computers and brought them into the home, and which ",NA,NA
began with an almost unnoticed electronics breakthrough in 1947.,NA,NA
Bell Telephone Laboratories was for many years a place where smart people could work on ,NA,NA
"just about anything that interested them. Some of them, fortunately, were interested in ",NA,NA
"computers. I've already mentioned George Stibitz and Claude Shannon, both of whom made ",NA,NA
"significant contributions to early computing while working at Bell Labs. Later on, in the ",NA,NA
"1970s, Bell Labs was the birthplace of the influential computer operating system named ",NA,NA
"Unix and a programming language named C,",NA,NA
which I'll describe in upcoming chapters.,NA,NA
Bell Labs came about when American Telephone and Telegraph officially separated their ,NA,NA
"scientific and technical research divisions from the rest of their business, creating the ",NA,NA
"subsidiary on January 1, 1925. The primary purpose of Bell Labs was to develop ",NA,NA
technologies for improving the telephone system. That mandate was fortunately vague ,NA,NA
"enough to encompass all sorts of things, but one obvious perennial goal within the telephone ",NA,NA
system was the undistorted amplification of voice signals transmitted over wires.,NA,NA
"Since 1912, the Bell System had worked with vacuum tube amplification, and a considerable ",NA,NA
amount of research and engineering went into improving vacuum tubes for use by the ,NA,NA
"telephone system. Despite this work, vacuum tubes still left much to be desired. Tubes were ",NA,NA
"large, consumed a lot of power, and eventually burned out. But they were the only game in ",NA,NA
town.,NA,NA
"All that changed December 16, 1947, when two physicists at Bell Labs named John Bardeen ",NA,NA
(1908–1991) and Walter Brattain (1902–1987) wired a different type of amplifier. This new ,NA,NA
amplifier was constructed from a slab of germanium—an element known as a ,NA,NA
semiconductor,NA,NA
"—and a strip of gold foil. They demonstrated it to their boss, William Shockley ",NA,NA
"(1910–1989), a week later. It was the first ",NA,NA
transistor,NA,NA
", a device that some people have called ",NA,NA
the most important invention of the twentieth century.,NA,NA
"The transistor didn't come out of the blue. Eight years earlier, on December 29, 1939, ",NA,NA
"Shockley had written in his notebook, ""It has today occurred to me that an amplifier using ",NA,NA
"semiconductors rather than vacuum is in principle possible."" And after that first transistor ",NA,NA
"was demonstrated, many years followed in perfecting it. It wasn't until 1956 that Shockley, ",NA,NA
"Bardeen, and Brattain were awarded the Nobel Prize in physics ""for their researches on ",NA,NA
"semiconductors and their discovery of the transistor effect.""",NA,NA
"Earlier in this book, I talked about conductors and insulators. Conductors are so called ",NA,NA
"because they're very conducive to the passage of electricity. Copper, silver, and gold are the ",NA,NA
"best conductors, and it's no coincidence that all three are found in the same column of the ",NA,NA
periodic table of the elements.,NA,NA
"As you'll recall, the electrons in an atom are distributed in shells that surround the nucleus ",NA,NA
of the atom. What characterizes these three conductors is a lone electron in the outermost ,NA,NA
shell. This electron can be easily dislodged from the rest of the atom and hence is free to ,NA,NA
move as electrical current. The opposites of conductors are insulators—like rubber and ,NA,NA
plastic—that barely conduct electricity at all.,NA,NA
The elements germanium and silicon (as well as some compounds) are called ,NA,NA
semiconductors,NA,NA
", ",NA,NA
"not because they conduct half as well as conductors, but because their conductance can be ",NA,NA
"manipulated in various ways. Semiconductors have four electrons in the outermost shell, ",NA,NA
"which is half the maximum number the outer shell can have. In a pure semiconductor, the ",NA,NA
atoms form very stable bonds with each other and have a crystalline structure similar to the ,NA,NA
diamond. Such semiconductors aren't good conductors.,NA,NA
But semiconductors can be ,NA,NA
doped,NA,NA
", which means that they're combined with certain ",NA,NA
impurities. One type of impurity adds extra electrons to those needed for the bond between ,NA,NA
the atoms. These are called ,NA,NA
N-type semiconductors,NA,NA
 (N for ,NA,NA
negative,NA,NA
). Another type of ,NA,NA
impurity results in a ,NA,NA
P-type semiconductor,NA,NA
.,NA,NA
Semiconductors can be made into amplifiers by sandwiching a P-type semiconductor between ,NA,NA
"two N-type semiconductors. This is known as an NPN transistor, and the three pieces are ",NA,NA
known as the ,NA,NA
collector,NA,NA
", the ",NA,NA
base,NA,NA
", and the ",NA,NA
emitter,NA,NA
.,NA,NA
Here's a schematic diagram of an NPN transistor:,NA,NA
A small voltage on the base can control a much larger voltage passing from the ,NA,NA
"collector to the emitter. If there's no voltage on the base, it effectively turns off the ",NA,NA
transistor.,NA,NA
Transistors are usually packaged in little metal cans about a quarter-inch in diameter with ,NA,NA
three wires poking out:,NA,NA
The transistor inaugurated ,NA,NA
solid-state,NA,NA
" electronics, which means that transistors don't require ",NA,NA
"vacuums and are built from solids, specifically semiconductors and most commonly (these ",NA,NA
"days) silicon. Besides being much smaller than vacuum tubes, transistors require much less ",NA,NA
"power, generate much less heat, and last longer. Carrying around a tube radio in your pocket ",NA,NA
"was inconceivable. But a transistor radio could be powered by a small battery, and unlike ",NA,NA
"tubes, it wouldn't get hot. Carrying a transistor radio in your pocket became possible for some ",NA,NA
lucky people opening presents on Christmas morning in 1954. Those first pocket radios used ,NA,NA
"transistors made by Texas Instruments, an important company of the semiconductor ",NA,NA
revolution.,NA,NA
The ,NA,NA
first,NA,NA
" commercial application of the transistor was, however, a hearing aid. In ",NA,NA
"commemorating the heritage of Alexander Graham Bell in his lifelong work with deaf people, ",NA,NA
AT&T allowed hearing aid manufacturers to use transistor technology without paying any ,NA,NA
"royalties. The first transistor television debuted in 1960, and today tube appliances have ",NA,NA
"almost disappeared. (Not entirely, however. Some audiophiles and electric guitarists continue ",NA,NA
to prefer the sound of tube amplifiers to their transistor counterparts.),NA,NA
"In 1956, Shockley left Bell Labs to form Shockley Semiconductor Laboratories. He moved to ",NA,NA
"Palo Alto, California, where he had grown up. His was the first such company to locate in ",NA,NA
"that area. In time, other semiconductor and computer companies set up business there, and ",NA,NA
the area south of San Francisco is now informally known as Silicon Valley.,NA,NA
"Vacuum tubes were originally developed for amplification, but they could also be used for ",NA,NA
"switches in logic gates. The same goes for the transistor. On the next page, you'll see a ",NA,NA
transistor-based AND gate structured much like the relay version. Only when both the A ,NA,NA
input is 1 and the B input is 1 will both transistors conduct current and hence make the ,NA,NA
output 1. The resistor prevents a short circuit when this happens.,NA,NA
Wiring two transistors as you see below in the diagram on the right creates an OR gate. In the ,NA,NA
"AND gate, the emitter of the top transistor is connected to the collector of the bottom ",NA,NA
"transistor. In the OR gate, the collectors of both transistors are connected to the voltage ",NA,NA
supply. The emitters are connected together.,NA,NA
So everything we learned about constructing logic gates and other components from relays is ,NA,NA
"valid for transistors. Relays, tubes, and transistors were all initially developed primarily for ",NA,NA
purposes of amplification but can be connected in similar ways to make logic gates out of ,NA,NA
"which computers can be built. The first transistor computers were built in 1956, and within a ",NA,NA
few years tubes had been abandoned for the design of new computers.,NA,NA
"Here's a question: Transistors certainly make computers more reliable, smaller, and less ",NA,NA
power hungry. But do transistors make computers any simpler to ,NA,NA
construct,NA,NA
?,NA,NA
"Not really. The transistor lets you fit more logic gates in a smaller space, of course, but you ",NA,NA
still have to worry about all the ,NA,NA
interconnections,NA,NA
 of these components. It's just as difficult ,NA,NA
"wiring transistors to make logic gates as it is wiring relays and vacuum tubes. In some ways, ",NA,NA
it's even more difficult because the transistors are smaller and less easy to hold. If you wanted ,NA,NA
to build the ,NA,NA
Chapter 17 ,NA,NA
"computer and the 64-KB RAM array out of transistors, a good part of ",NA,NA
the design work would be devoted to inventing some kind of structure in which to hold all the ,NA,NA
components. Most of your physical labor would be the tedious wiring of millions of ,NA,NA
interconnections among millions of transistors.,NA,NA
"As we've discovered, however, there are certain combinations of transistors that show up ",NA,NA
repeatedly. Pairs of transistors are almost always wired as gates. Gates are often wired into ,NA,NA
flip-flops or adders or selectors or decoders. Flip-flops are combined into multibit latches or ,NA,NA
RAM arrays. Assembling a computer would be much easier if the transistors were prewired in ,NA,NA
common configurations.,NA,NA
This idea seems to have been proposed first by British physicist Geoffrey Dummer (born ,NA,NA
1909) in a,NA,NA
"speech in May 1952. ""I would like to take a peep into the future,"" he said.","With the advent of the transistor and the work in semiconductors generally, it seems now possible to envisage electronic 
 equipment in a solid block with no connecting wires. The block may consist of layers of insulating, conducting, rectifying and 
 amplifying materials, the electrical functions being connected directly by cutting out areas of the various layers.",NA
"A working product, however, would have to wait a few years.",NA,NA
"Without knowing about the Dummer prediction, in July 1958 it occurred to Jack Kilby (born ",NA,NA
1923) of Texas Instruments that multiple transistors as well as resistors and other electrical ,NA,NA
"components could be made from a single piece of silicon. Six months later, in January 1959, ",NA,NA
basically the same idea occurred to Robert Noyce (1927–1990). Noyce had originally worked ,NA,NA
"for Shockley Semiconductor Laboratories, but in 1957 he and seven other scientists had left ",NA,NA
and started Fairchild Semiconductor Corporation.,NA,NA
"In the history of technology, simultaneous invention is more common than one might suspect. ",NA,NA
"Although Kilby had invented the device six months before Noyce, and Texas Instruments had ",NA,NA
"applied for a patent before Fairchild, Noyce was issued a patent first. Legal battles ensued, ",NA,NA
and only after a decade were they finally settled to everyone's satisfaction. Although they ,NA,NA
"never worked together, Kilby and Noyce are today regarded as the coinventors of the ",NA,NA
integrated circuit,NA,NA
", or ",NA,NA
IC,NA,NA
", commonly called the ",NA,NA
chip,NA,NA
.,NA,NA
Integrated circuits are manufactured through a complex process that involves layering thin ,NA,NA
wafers of silicon that are precisely doped and etched in different areas to form microscopic ,NA,NA
"components. Although it's expensive to develop a new integrated circuit, they benefit from ",NA,NA
"mass production—the more you make, the cheaper they become.",NA,NA
"The actual silicon chip is thin and delicate, so it must be securely packaged, both to protect ",NA,NA
the chip and to provide some way for the components in the chip to be connected to other ,NA,NA
"chips. Integrated circuits are packaged in a couple of different ways, but the most common is ",NA,NA
the rectangular plastic ,NA,NA
dual inline package,NA,NA
" (or DIP), with 14, 16, or as many as 40 pins ",NA,NA
protruding from the side:,NA,NA
"This is a 16-pin chip. If you hold the chip so the little indentation is at the left (as shown), the ",NA,NA
pins are numbered 1 through 16 beginning at the lower left and circling around the right side ,NA,NA
to end with pin,NA,NA
16 at the upper left. The pins on each side are exactly ,NA,NA
 inch apart.,NA,NA
"Throughout the 1960s, the space program and the arms race fueled the early integrated ",NA,NA
"circuits market. On the civilian side, the first commercial product that contained an integrated ",NA,NA
"circuit was a hearing aid sold by Zenith in 1964. In 1971, Texas Instruments began selling the ",NA,NA
"first pocket calculator, and Pulsar the first digital watch. (Obviously the IC in a digital watch is ",NA,NA
packaged much differently from the example just shown.) Many other products that ,NA,NA
incorporated integrated circuits in their design followed.,NA,NA
"In 1965, Gordon E. Moore (then at Fairchild and later a cofounder of Intel Corporation) ",NA,NA
noticed that technology was improving in such a way that the number of transistors that ,NA,NA
could fit on a single chip had doubled every year since 1959. He predicted that this trend ,NA,NA
would continue. The actual trend was,NA,NA
"a little slower, so Moore's Law (as it was eventually called) was modified to predict a doubling ",NA,NA
of transistors on a chip every 18 months. This is still an astonishingly fast rate of progress and ,NA,NA
reveals why home computers always seem to become outdated in just a few short years. Some ,NA,NA
people believe that Moore's Law will continue to be accurate until about 2015.,NA,NA
"In the early days, people used to speak of ",NA,NA
small-scale integration,NA,NA
", or SSI, to refer to a chip that ",NA,NA
had fewer than 10 logic gates; ,NA,NA
medium-scale integration,NA,NA
", or MSI (10 to 100 gates); and ",NA,NA
large-,NA,NA
scale integration,NA,NA
", or LSI (100 to 5000). Then the terms ascended to ",NA,NA
very-large-scale ,NA,NA
integration,NA,NA
", or VLSI (5000 to 50,000); ",NA,NA
super-large-scale integration,NA,NA
", or SLSI (50,000 to ",NA,NA
"100,000); and ",NA,NA
ultra-large-scale integration,NA,NA
", (more than 100,000 gates).",NA,NA
"For the remainder of this chapter and the next, I want to pause our time machine in the mid-",NA,NA
"1970s, an ancient age before the first ",NA,NA
Star Wars,NA,NA
 movie was released and with VLSI just on ,NA,NA
"the horizon. At that time, several different technologies were used to fabricate the ",NA,NA
components that make up integrated circuits. Each of these technologies is sometimes called ,NA,NA
a ,NA,NA
family,NA,NA
" of ICs. By the mid-1970s, two families were prevalent: TTL (pronounced ",NA,NA
tee tee ell,NA,NA
) ,NA,NA
and CMOS (,NA,NA
see moss,NA,NA
).,NA,NA
TTL stands for ,NA,NA
transistor-transistor logic,NA,NA
. If in the mid-1970s you were a digital design ,NA,NA
"engineer (which meant that you designed larger circuits from ICs), a 1 ¼-inch-thick book first ",NA,NA
published in 1973 by Texas Instruments called ,NA,NA
The TTL Data Book for Design Engineers,NA,NA
 would ,NA,NA
be a permanent fixture on your desk. This is a complete reference to the 7400 (,NA,NA
seventy-four ,NA,NA
hundred,NA,NA
) series of TTL integrated circuits sold by Texas Instruments and several other ,NA,NA
"companies, so called because each IC in this family is identified by a number beginning with ",NA,NA
the digits 74.,NA,NA
Every integrated circuit in the 7400 series consists of logic gates that are prewired in a ,NA,NA
particular configuration. Some chips provide simple prewired gates that you can use to ,NA,NA
"create larger components; other chips provide common components such as flip-flops, ",NA,NA
"adders, selectors, and decoders.",NA,NA
"The first IC in the 7400 series is number 7400 itself, which is described in the ",NA,NA
TTL Data Book,NA,NA
 ,NA,NA
"as ""Quadruple 2-Input Positive-NAND Gates."" What this means is that this particular ",NA,NA
integrated circuit contains four 2-input NAND gates. They're called ,NA,NA
positive,NA,NA
 NAND gates ,NA,NA
"because a voltage corresponds to 1 and no voltage corresponds to 0. This is a 14-pin chip, ",NA,NA
and a little diagram in the data book shows how the pins correspond to the inputs and ,NA,NA
outputs:,NA,NA
This diagram is a top view of the chip (pins on the bottom) with the little indentation (shown ,NA,NA
on page 250) at the left.,NA,NA
Pin 14 is labeled V,CC,NA
 and is equivalent to the V symbol that I've been using to indicate a ,NA,NA
"voltage. (By convention, any double letter subscript on a capital V indicates a power supply. ",NA,NA
The C in this subscript refers to the ,NA,NA
collector,NA,NA
" input of a transistor, which is internally where ",NA,NA
the voltage supply is connected.) Pin 7 is labeled GND for ,NA,NA
ground,NA,NA
. Every integrated circuit that ,NA,NA
you use in a particular circuit must be connected to a power supply and a common ground.,NA,NA
"For 7400 series TTL, V",CC,NA
 must be between 4.75 and 5.25 volts. Another way of saying this is ,NA,NA
that the power supply voltage must be 5 volts plus or minus 5 percent. If the power supply is ,NA,NA
"below 4.75 volts, the chip might not work. If it's higher than 5.25, the chip could be damaged. ",NA,NA
"You generally can't use batteries with TTL; even if you were to find a 5-volt battery, the ",NA,NA
voltage wouldn't be exact enough to be adequate for these chips. TTL usually requires a power ,NA,NA
supply that you plug into the wall.,NA,NA
Each of the four NAND gates in the 7400 chip has two inputs and one output. They work ,NA,NA
"independently of each other. In past chapters, we've been differentiating between inputs ",NA,NA
"being either 1 (which is a voltage) or 0 (which is no voltage). In reality, an input to one of ",NA,NA
these NAND gates can range anywhere from 0 volts (ground) to 5 volts (V,CC,NA
"). In TTL, anything ",NA,NA
"between 0 volts and 0.8 volt is considered to be a logical 0, and anything between 2 volts and ",NA,NA
5 volts is considered to be a logical 1. Inputs between 0.8 volt and 2 volts should be avoided.,NA,NA
The output of a TTL gate is typically about 0.2 volt for a logical 0 and 3.4 volts for a logical 1.,NA,NA
"Because these voltages can vary somewhat, inputs and outputs to integrated circuits are ",NA,NA
sometimes referred to as ,NA,NA
low,NA,NA
 and ,NA,NA
high,NA,NA
" rather than 0 and 1. Moreover, sometimes a low ",NA,NA
voltage can mean a logical 1 and a high voltage can mean a logical 0. This configuration is ,NA,NA
referred to as ,NA,NA
negative logic,NA,NA
". When the 7400 chip is referred to as ""Quadruple 2-Input ",NA,NA
"Positive-NAND Gates,"" the word ",NA,NA
positive ,NA,NA
means positive logic is assumed.,NA,NA
"If the output of a TTL gate is typically 0.2 volt for a logical 0 and 3.4 volts for a logical 1, these ",NA,NA
"outputs are safely within the input ranges, which are between 0 and 0.8 volt for a logical 0 and ",NA,NA
between 2 and 5 volts for a logical 1. This is how TTL is insulated against ,NA,NA
noise,NA,NA
. A 1 output can ,NA,NA
lose about 1.4 volts and still be high enough to qualify as a 1 input. A 0 output can gain 0.6 volt ,NA,NA
and still be low enough to qualify as a 0 input.,NA,NA
Probably the most important fact to know about a particular integrated circuit is the ,NA,NA
propagation time,NA,NA
. That's the time it takes for a change in the inputs to be reflected in the ,NA,NA
output.,NA,NA
Propagation times for chips are generally measured in ,NA,NA
nanoseconds,NA,NA
", abbreviated nsec. A ",NA,NA
nanosecond is a ,NA,NA
very,NA,NA
 short period of time. One thousandth of a second is a millisecond. One ,NA,NA
millionth of a second is a microsecond. One billionth of a second is a nanosecond. The ,NA,NA
propagation time for the NAND gates in the 7400 chip is guaranteed to be less than 22 ,NA,NA
"nanoseconds. That's 0.000000022 seconds, or 22 billionths of a second.",NA,NA
"If you can't get the feel of a nanosecond, you're not alone. Nobody on this planet has anything ",NA,NA
but an intellectual appreciation of the nanosecond. Nanoseconds are much shorter than ,NA,NA
"anything in human experience, so they'll forever remain incomprehensible. Every ",NA,NA
"explanation makes the nanosecond more elusive. For example, I can say that if you're holding ",NA,NA
"this book 1 foot away from your face, a nanosecond is the time it takes the light to travel ",NA,NA
from the page to your eyes. But do you really have a better feel for the nanosecond now?,NA,NA
Yet the nanosecond is what makes computers possible. As we saw in ,NA,NA
Chapter 17,NA,NA
", a computer ",NA,NA
"processor does moronically simple things—it moves a byte from memory to register, adds a ",NA,NA
"byte to another byte, moves the result back to memory. The only reason anything substantial ",NA,NA
gets completed (not in the ,NA,NA
Chapter 17,NA,NA
 computer but in real ones) is that these operations ,NA,NA
"occur very quickly. To quote Robert Noyce, ""After you become reconciled to the nanosecond, ",NA,NA
computer operations are ,NA,NA
"conceptually fairly simple.""",NA,NA
Let's continue perusing the ,NA,NA
TTL Data Book for Design Engineers,NA,NA
. You will see a lot of familiar ,NA,NA
"little items in this book. The 7402 chip contains four 2-input NOR gates, the 7404 has six ",NA,NA
"inverters, the 7408 has four 2-input AND gates, the 7432 has four 2-input OR gates, and the ",NA,NA
7430 has an 8-input NAND gate:,NA,NA
The abbreviation ,NA,NA
NC,NA,NA
 means ,NA,NA
no connection,NA,NA
.,NA,NA
"The 7474 chip is another that will sound very familiar. It's a ""Dual D-Type Positive-Edge-",NA,NA
"Triggered Flip-Flop with Preset and Clear"" and is diagrammed like this:",NA,NA
The ,NA,NA
TTL Data Book,NA,NA
 even includes a logic diagram for each flip-flop in this chip:,NA,NA
You'll recognize this as being similar to the diagram at the end of ,NA,NA
Chapter 14,NA,NA
", except that I ",NA,NA
used NOR gates. The logic table in the ,NA,NA
TTL Data Book,NA,NA
 is a little different as well:,"Inputs
  
 Outputs
  
 Pre 
  
 Clr
  
  Clk 
  
 D 
  
 Q
  
  
 L
  
 H
  
 X
  
 X 
  
 H
  
 L
  
 H
  
 L
  
 X
  
 X 
  
 L
  
 H
  
 L
  
 L
  
 X
  
 X 
  
 H* 
  
 H*
  
 H
  
 L
  
 ↑
  
 H 
  
 H
  
 L
  
 H
  
 H
  
 ↑
  
 L 
  
 L
  
 H
  
 H
  
 H
  
 L
  
 X 
  
 Q0
  
  
 0",NA
"In this table, the ",NA,NA
H,NA,NA
 stands for ,NA,NA
High,NA,NA
 and the ,NA,NA
L,NA,NA
 stands for ,NA,NA
Low,NA,NA
. You can think of these as 1 and 0 ,NA,NA
"if you wish. In my flip-flop, the Preset and Clear inputs were normally 0; here they're ",NA,NA
normally 1.,NA,NA
Moving right along in the ,NA,NA
TTL Data Book,NA,NA
", you'll discover that the 7483 chip is a 4-Bit Binary ",NA,NA
"Full Adder, 74151 is a 8-Line-To-1-Line Data Selector, the 74154 is a 4-line-To-16-Line ",NA,NA
"Decoder, 74161 is a Synchronous 4-Bit Binary Counter, and 74175 is a Quadruple D-Type ",NA,NA
Flip-Flop with Clear. You can use two of these chips for making an 8-bit latch.,NA,NA
So now you know how I came up with all the various components I've been using since ,NA,NA
Chapter 11,NA,NA
. I stole them from the ,NA,NA
TTL Data Book for Design Engineers,NA,NA
.,NA,NA
"As a digital design engineer, you would spend long hours going through the ",NA,NA
TTL Data Book,NA,NA
familiarizing yourself with the types of TTL chips that were available. Once you knew all your ,NA,NA
"tools, you could actually build the computer I showed in ",NA,NA
Chapter 17,NA,NA
 out of TTL chips. Wiring ,NA,NA
the chips together is a lot easier than wiring individual transistors together. But you might ,NA,NA
want to consider ,NA,NA
not ,NA,NA
using TTL to make the 64-KB RAM array. In the 1973 ,NA,NA
TTL Data Book,NA,NA
", the ",NA,NA
heftiest RAM chip listed is a mere 256 x 1 bits. You'd need 2048 of these chips to make 64 KB! ,NA,NA
TTL was never the best technology for memory. I'll have more to say about memory in ,NA,NA
Chapter 21,NA,NA
.,NA,NA
You'd probably want to use a better oscillator as well. While you can certainly connect the ,NA,NA
"output of a TTL inverter to the input, it's better to have an oscillator with a more predictable ",NA,NA
frequency. Such an oscillator can be constructed fairly easily using a quartz crystal that comes ,NA,NA
in a little flat can with two wires sticking out. These crystals vibrate at very specific ,NA,NA
"frequencies, usually at least a million cycles per second. A million cycles per second is called a ",NA,NA
megahertz,NA,NA
 and abbreviated MHz. If the ,NA,NA
Chapter 17,NA,NA
" computer were constructed out of TTL, it ",NA,NA
would probably run fine with a clock frequency of 10 MHz. Each instruction would execute in ,NA,NA
"400 nanoseconds. This, of course, is much faster than anything we conceived when we were ",NA,NA
working with relays.,NA,NA
"The other popular chip family was (and still is) CMOS, which stands for ",NA,NA
complementary ,NA,NA
metal-oxide semiconductor,NA,NA
. If you were a hobbyist designing circuits from CMOS ICs in the ,NA,NA
"mid-1970s, you might use as a reference source a book published by National ",NA,NA
Semiconductor and available at your local Radio Shack entitled ,NA,NA
CMOS Databook,NA,NA
. This book ,NA,NA
contains information about the 4000 (,NA,NA
four thousand,NA,NA
) series of CMOS ICs.,NA,NA
"The power supply requirement for TTL is 4.75 to 5.25 volts. For CMOS, it's anything from 3 ",NA,NA
"volts to 18 volts. That's quite a leeway! Moreover, CMOS requires much less power than TTL, ",NA,NA
which makes it feasible to run small CMOS circuits from batteries. The drawback of CMOS is ,NA,NA
"lack of speed. For example, the CMOS 4008 4-bit full adder running at 5 volts is only ",NA,NA
guaranteed to have a propagation time of 750 nanoseconds. It gets faster as the power supply ,NA,NA
gets higher—250 nsec at 10 volts and 190 nsec at 15 volts. But the CMOS device doesn't come ,NA,NA
"close to the TTL 4-bit adder, which has a propagation time of 24 nsec. (Twenty-five years ago, ",NA,NA
the trade-off between the speed of TTL and the low power requirements of CMOS was fairly ,NA,NA
clear cut. Today there are low-power versions of TTL and high-speed versions of CMOS.),NA,NA
"On the practical side, you would probably begin wiring chips together on a plastic ",NA,NA
breadboard,NA,NA
:,NA,NA
Each short row of 5 holes is electrically connected underneath the plastic base. You insert ,NA,NA
chips into the breadboard so that a chip straddles the long central groove and the pins go into ,NA,NA
the holes on either side of the groove. Each pin of the IC is then electrically connected to 4 ,NA,NA
other holes. You connect the,NA,NA
chips with pieces of wires pushed into the other holes.,NA,NA
You can wire chips together more permanently using a technique called ,NA,NA
wire-wrapping,NA,NA
. Each ,NA,NA
chip is inserted into a socket that has long square posts:,NA,NA
Each post corresponds to a pin of the chip. The sockets themselves are inserted into thin ,NA,NA
"perforated boards. From the other side of the board, you use a special wire-wrap gun to ",NA,NA
tightly wrap thin pieces of insulated wire around the post. The square edges of the post break ,NA,NA
through the insulation and make an electrical connection with the wire.,NA,NA
"If you were actually manufacturing a particular circuit using ICs, you'd probably use a ",NA,NA
printed ,NA,NA
circuit ,NA,NA
"board. Back in the old days, this was something a hobbyist could do. Such a board has ",NA,NA
"holes and is covered by a thin layer of copper foil. Basically, you cover all the areas of copper ",NA,NA
you want to preserve with an acid resistant and use acid to etch away the rest. You can then ,NA,NA
solder IC sockets (or the ICs themselves) directly to the copper on the board. But because of ,NA,NA
the very many ,NA,NA
"interconnections among ICs, a single area of copper foil is usually inadequate. Commercially ",NA,NA
manufactured printed circuit boards have multiple layers of interconnections.,NA,NA
"By the early 1970s, it became possible to use ICs to create an entire computer processor on a ",NA,NA
single circuit board. It was really only a matter of time before somebody put the whole ,NA,NA
processor on a single chip. Although Texas Instruments filed a patent for a single-chip ,NA,NA
"computer in 1971, the honor of actually making one belongs to Intel, a company started in ",NA,NA
1968 by former Fairchild employees Robert Noyce and Gordon Moore. Intel's first major ,NA,NA
"product was, in 1970, a memory chip that stored 1024 bits, which was the greatest number of ",NA,NA
bits on a chip at that time.,NA,NA
Intel was in the process of designing chips for a programmable calculator to be manufactured ,NA,NA
by the Japanese company Busicom when they decided to take a different approach. As Intel ,NA,NA
"engineer Ted Hoff put it, ""Instead of making their device act like a calculator with some ",NA,NA
"programming abilities, I wanted to make it function as a general-purpose computer ",NA,NA
"programmed to be a calculator."" This led to the Intel 4004 (pronounced ",NA,NA
forty oh four,NA,NA
"), the first ",NA,NA
"""computer on a chip,"" or ",NA,NA
microprocessor,NA,NA
. The 4004 became available in November 1971 and ,NA,NA
"contained 2300 transistors. (By Moore's Law, microprocessors made 18 years later should ",NA,NA
"contain about 4000 times as many transistors, or about 10 million. That's a fairly accurate ",NA,NA
prediction.),NA,NA
"Having told you the number of its transistors, I'll now describe three other important ",NA,NA
characteristics of the 4004. These three measures are often used as standards for comparison ,NA,NA
among microprocessors since the 4004.,NA,NA
"First, the 4004 was a ",NA,NA
4-bit,NA,NA
 microprocessor. This means that the data paths in the processor ,NA,NA
"were only 4 bits wide. When adding or subtracting numbers, it handled only 4 bits at a shot. In ",NA,NA
"contrast, the computer developed in ",NA,NA
Chapter 17,NA,NA
 has 8-bit data paths and is thus an 8-bit ,NA,NA
"processor. As we'll soon see, 4-bit microprocessors were surpassed very quickly by 8-bit ",NA,NA
"microprocessors. No one stopped there. In the late 1970s, 16-bit microprocessors became ",NA,NA
available. When you think back to ,NA,NA
Chapter 17 ,NA,NA
and recall the several instruction codes ,NA,NA
"necessary to add two 16-bit numbers on an 8-bit processor, you'll appreciate the advantage ",NA,NA
"that a 16-bit processor gives you. In the mid-1980s, 32-bit",NA,NA
microprocessors were introduced and have remained the standard for home computers since ,NA,NA
then.,NA,NA
"Second, the 4004 had a maximum ",NA,NA
clock speed,NA,NA
" of 108,000 cycles per second, or 108 ",NA,NA
kilohertz,NA,NA
 ,NA,NA
(KHz). Clock speed is the maximum speed of an oscillator that you can connect to the ,NA,NA
"microprocessor to make it go. Any faster and it might not work right. By 1999, ",NA,NA
microprocessors intended for home computers had hit the 500-megahertz point—about 5000 ,NA,NA
times faster than the 4004.,NA,NA
"Third, the ",NA,NA
addressable memory,NA,NA
 of the 4004 was 640 bytes. This seems like an absurdly low ,NA,NA
amount; yet it was in line with the capacity of memory chips available at the time. As you'll ,NA,NA
"see in the next chapter, within a couple of years microprocessors could address 64 KB of ",NA,NA
"memory, which is the capability of the ",NA,NA
Chapter 17,NA,NA
 machine. Intel microprocessors in 1999 ,NA,NA
"can address 64 terabytes of memory, although that's overkill considering that most people ",NA,NA
have fewer than 256 megabytes of RAM in their home computers.,NA,NA
These three numbers don't affect the ,NA,NA
capability,NA,NA
 of a computer. A 4-bit processor can add 32-,NA,NA
"bit numbers, for example, simply by doing it in 4-bit chunks. In one sense, all digital ",NA,NA
"computers are the same. If the hardware of one processor can do something another can't, ",NA,NA
the other processor can do it in software; they all end up doing the same thing. This is one of ,NA,NA
the implications of Alan Turing's 1937 paper on computability.,NA,NA
Where processors ultimately ,NA,NA
do,NA,NA
" differ, however, is in ",NA,NA
speed,NA,NA
. And speed is a big reason why ,NA,NA
we're using computers to begin with.,NA,NA
The maximum clock speed is an obvious influence on the overall speed of a processor. That ,NA,NA
clock speed determines how fast each instruction is being executed. The processor data width ,NA,NA
"affects speed as well. Although a 4-bit processor can add 32-bit numbers, it can't do it nearly ",NA,NA
"as fast as a 32-bit processor. What might be confusing, however, is the effect on speed of the ",NA,NA
"maximum amount of memory that a processor can address. At first, addressable memory ",NA,NA
seems to have nothing to do with speed and instead reflects a limitation on the processor's ,NA,NA
ability to perform certain functions that might require a lot of memory. But a processor can ,NA,NA
always get around the memory limitation by using some memory addresses to control some ,NA,NA
"other medium for saving and retrieving information. (For example, suppose every byte ",NA,NA
"written to a particular memory address is actually punched on a paper tape, and every byte ",NA,NA
"read from that address is read from the tape.) What happens, however, is that this process ",NA,NA
slows down the whole computer. The issue again is speed.,NA,NA
"Of course, these three numbers indicate only roughly how fast the microprocessor operates. ",NA,NA
These numbers tell you nothing about the internal architecture of the microprocessor or ,NA,NA
about the efficiency and capability of the machine-code instructions. As processors have ,NA,NA
"become more sophisticated, many common tasks previously done in software have been ",NA,NA
built into the processor. We'll see examples of this trend in the chapters ahead.,NA,NA
"Even though all digital computers have the same capabilities, even though they can do nothing ",NA,NA
"beyond the primitive computing machine devised by Alan Turing, the speed of a processor ",NA,NA
of ,NA,NA
course ,NA,NA
ultimately affects the over-all usefulness of a computer system. Any computer that's ,NA,NA
"slower than the human brain in performing a set of calculations is useless, for example. And ",NA,NA
we can hardly expect to watch a movie on our modern computer screens if the processor ,NA,NA
needs a minute to draw a single frame.,NA,NA
"But back to the mid-1970s. Despite the limitations of the 4004, it was a start. By April 1972, ",NA,NA
Intel had released the 8008—an 8-bit microprocessor running at 200 kHz that could address ,NA,NA
16 KB of memory.,NA,NA
"(See how easy it is to sum up a processor with just three numbers?) And then, in a five-month ",NA,NA
"period in 1974, both Intel and Motorola came out with microprocessors that were intended to ",NA,NA
improve on the 8008. These two chips changed the world.,NA,NA
Chapter 19. Two Classic Microprocessors,NA,NA
The microprocessor—a consolidation of all the components of a central processing unit ,NA,NA
(CPU) of a computer on a single chip of silicon—was born in 1971. It was a modest ,NA,NA
"beginning: The first microprocessor, the Intel 4004, contained about 2300 transistors. Today, ",NA,NA
"nearly three decades later, microprocessors made for home computers are approaching the ",NA,NA
"10,000,000 transistor mark.",NA,NA
Yet what the microprocessor actually does on a fundamental level has remained unchanged. ,NA,NA
While those millions of additional transistors in today's chips might be doing interesting ,NA,NA
"things, in an initial exploration of the microprocessor they offer more distraction than ",NA,NA
"enlightenment. To obtain the clearest view of what a microprocessor does, let's look at the ",NA,NA
first ready-for-prime-time ,NA,NA
microprocessors.,NA,NA
"These microprocessors appeared in 1974, the year in which Intel introduced the 8080 ",NA,NA
(pronounced ,NA,NA
eighty eighty,NA,NA
) in April and Motorola—a company that had been making ,NA,NA
semiconductors and transistor-based products since the 1950s—introduced the 6800 ,NA,NA
(,NA,NA
sixty-eight hundred,NA,NA
) in August.,NA,NA
"These weren't the only microprocessors available that year. Also in 1974, Texas Instruments ",NA,NA
"introduced the 4-bit TMS 1000, which was used in many calculators, toys, and appliances; and ",NA,NA
"National Semiconductor introduced the PACE, which was the first 16-bit microprocessor. In ",NA,NA
"retrospect, however, the 8080 and the 6800 were certainly the two most historically ",NA,NA
significant chips.,NA,NA
"Intel set the initial price of the 8080 at $360, a sly dig at IBM's System/360, a large mainframe ",NA,NA
system used by many large corporations that cost millions. (Today you can buy an 8080 chip ,NA,NA
"for $1.95.) It's not as if the 8080 is comparable to System/360 in any way, but within a few ",NA,NA
years IBM itself would certainly be taking notice of these very small computers.,NA,NA
"The 8080 is an 8-bit microprocessor that contains about 6000 transistors, runs at a 2 MHz ",NA,NA
"clock speed, and addresses 64 kilobytes of memory. The 6800 (also selling these days for ",NA,NA
$1.95) has about 4000 transistors and also addresses 64 KB of memory. The first 6800 ran at ,NA,NA
"1 MHz, but by 1977 Motorola introduced later versions running at 1.5 and 2 MHz.",NA,NA
These chips are referred to as ,NA,NA
single-chip microprocessors,NA,NA
 and less accurately as ,NA,NA
computers on ,NA,NA
a chip,NA,NA
". The processor is only one part of the whole computer. In addition to the processor, a ",NA,NA
"computer at the very least requires some random access memory (RAM), some way for a ",NA,NA
"person to get information into the computer (an input device), some way for a person to get ",NA,NA
"information out of the computer (an output device), and several other chips that bind ",NA,NA
everything together. But I'll describe these other components in greater detail in ,NA,NA
Chapter 21,NA,NA
.,NA,NA
"For now, let's look at the microprocessor itself. Often a description of a microprocessor is ",NA,NA
accompanied by a block diagram that illustrates the internal components of the ,NA,NA
microprocessor and how they're connected. But we had enough of that in ,NA,NA
Chapter 17,NA,NA
". Instead, ",NA,NA
we'll get a sense of what's inside the processor by seeing how it interacts with the outside ,NA,NA
"world. In other words, we can think of the microprocessor as a black box whose internal ",NA,NA
operations we don't need to study minutely in order to understand what it does. We can ,NA,NA
"instead grasp what the microprocessor does by examining the chip's input and output signals, ",NA,NA
and in particular the chip's instruction set.,NA,NA
Both the 8080 and 6800 are 40-pin integrated circuits. The most common IC package for ,NA,NA
"these chips is about 2 inches long, about a half inch wide, and ⅛ inch thick:",NA,NA
"Of course, what you see is just the packaging. The actual wafer of silicon inside is much ",NA,NA
"smaller—in the case of the early 8-bit microprocessors, the silicon is less than ¼ inch square. ",NA,NA
The packaging protects the silicon chip and also provides access to all of the chip's input and ,NA,NA
output points through the pins. The diagram on the following page shows the function of the ,NA,NA
40 pins of the 8080.,NA,NA
Every electrical or electronic device that we've built in this book has required some kind of ,NA,NA
electrical power supply. One of the 8080's quirks is that it requires ,NA,NA
three,NA,NA
 power supply ,NA,NA
"voltages. Pin 20 must be connected to a 5-volt power supply, pin 11 to a –5-volt power supply, ",NA,NA
"and pin 28 to a 12-volt power supply. You connect pin 2 to ground. (In 1976, Intel released the ",NA,NA
"8085 chip, which simplified these power requirements.)",NA,NA
All the remaining pins are drawn as arrows. An arrow ,NA,NA
from,NA,NA
 the chip indicates an ,NA,NA
output,NA,NA
 ,NA,NA
signal. This is a signal controlled by the microprocessor that other chips in the computer ,NA,NA
respond to. An arrow ,NA,NA
into,NA,NA
 the chip indicates an ,NA,NA
input,NA,NA
 signal. This is a signal that comes from ,NA,NA
another chip in the computer that the 8080 responds to. Some pins are both inputs ,NA,NA
and,NA,NA
 ,NA,NA
outputs.,NA,NA
The processor in ,NA,NA
Chapter 17,NA,NA
 required an oscillator to make it go. The 8080 requires two ,NA,NA
different,NA,NA
synchronized 2-MHz clock inputs labeled ø,1,NA
 and ø,2,NA
 on pins 22 and 15. These signals are most ,NA,NA
conveniently supplied by another chip made by Intel known as the 8224 Clock Signal ,NA,NA
"Generator. You connect an 18-MHz quartz crystal to this chip, and it basically does the rest.",NA,NA
A microprocessor always has multiple output signals that address memory. The number of ,NA,NA
signals it has for this purpose is directly related to the amount of memory the ,NA,NA
microprocessor can address. The 8080 has 16 signals labeled A,0,NA
 through A,15,NA
", which give it ",NA,NA
the ability to address 2,16,NA
", or 65,536, bytes of memory.",NA,NA
The 8080 is an 8-bit microprocessor that reads data from memory and writes data to memory ,NA,NA
8 bits at a time. The chip includes eight signals labeled D,0,NA
 through D,7,NA
. These signals are the ,NA,NA
only ones on the chip that are both inputs and outputs. When the microprocessor reads a byte ,NA,NA
"of memory, the pins function as inputs; when the microprocessor writes a byte to memory, ",NA,NA
the pins function as outputs.,NA,NA
The other ten pins of the microprocessor are ,NA,NA
control,NA,NA
 signals. The ,NA,NA
RESET,NA,NA
" input, for example, is ",NA,NA
used,NA,NA
to reset the microprocessor. The output signal ,NA,NA
 indicates that the microprocessor needs to ,NA,NA
write a,NA,NA
byte of memory into RAM. (The ,NA,NA
 signal corresponds to the Write input of the RAM array.) ,NA,NA
"In addition, other control signals appear on the D",0,NA
 through D,7,NA
 pins at a particular time while ,NA,NA
the chip reads instructions. Computer systems built around the 8080 generally use the 8228 ,NA,NA
System Controller chip to latch these additional control signals. I'll describe some control ,NA,NA
"signals later on, but the 8080's control signals are notoriously messy, so unless you're going to ",NA,NA
"actually design a computer based on the chip, it's best not to torture yourself with its control ",NA,NA
signals.,NA,NA
Let's assume that the 8080 microprocessor is connected to 64 KB of memory that we have ,NA,NA
the ability to write bytes into and read bytes from independent of the microprocessor.,NA,NA
"After the 8080 chip is reset, it reads the byte located at memory address 0000h into the ",NA,NA
microprocessor. It does this by outputting 16 zeros on the address signals A,0,NA
 through A,15,NA
. ,NA,NA
"The byte it reads should be an 8080 instruction, and the process of reading this byte is ",NA,NA
known as an ,NA,NA
instruction fetch,NA,NA
.,NA,NA
In the computer we built in ,NA,NA
Chapter 17,NA,NA
", all instructions (except ",NA,NA
HLT,NA,NA
") were 3 bytes in length, ",NA,NA
"consisting of an opcode and a 2-byte address. In the 8080, instructions can be 1 byte, 2 bytes, ",NA,NA
or 3 bytes in length. Some instructions cause the 8080 to read a byte from a particular ,NA,NA
location in memory into the microprocessor. Some instructions cause the 8080 to write a ,NA,NA
byte from the microprocessor into a particular location in memory. Other instructions cause ,NA,NA
the 8080 to do something internally without using any RAM. After processing the first ,NA,NA
"instruction, the 8080 accesses the second instruction in memory, and so forth. Together, ",NA,NA
these instructions constitute a computer program that can do something interesting.,NA,NA
"When the 8080 is running at its maximum speed of 2 MHz, each clock cycle is 500 ",NA,NA
"nanoseconds. (1 ÷2,000,000 cycles per second = 0.000000500 seconds.) The instructions in ",NA,NA
the ,NA,NA
Chapter 17,NA,NA
 computer all required 4 clock cycles. Each 8080 instruction requires anywhere ,NA,NA
from 4 to 18 clock cycles. This means that each instruction is executed in 2 to 9 microseconds ,NA,NA
(millionths of a second).,NA,NA
Probably the best way to understand what a particular microprocessor is capable of ,NA,NA
doing is to examine its complete instruction set in a systematic manner.,NA,NA
The final computer in ,NA,NA
Chapter 17,NA,NA
 had only 12 instructions. An 8-bit microprocessor could ,NA,NA
easily have,NA,NA
"as many as 256 instructions, each opcode corresponding to a particular 8-bit value. (It could ",NA,NA
actually have more if some instructions have 2-byte opcodes.) The 8080 doesn't go quite that ,NA,NA
"far, but it does have 244 opcodes. That might seem like a lot, but all in all, the 8080 doesn't ",NA,NA
really do all that much more than the computer in ,NA,NA
Chapter 17,NA,NA
". For example, if you need to do ",NA,NA
"multiplication or division using an 8080, you still need to write your own little program to do ",NA,NA
it.,NA,NA
As you'll recall from ,NA,NA
Chapter 17,NA,NA
", each opcode in a processor's instruction set is usually ",NA,NA
"associated with a particular mnemonic, and some of these mnemonics might have ",NA,NA
arguments. But these mnemonics are solely for convenience in referring to the opcodes. The ,NA,NA
processor reads only bytes; it knows nothing about the text that makes up the mnemonics. ,NA,NA
"(For purposes of clarity, I've taken some liberty with the mnemonics as they appear in Intel's ",NA,NA
documentation of the 8080.),NA,NA
The ,NA,NA
Chapter 17,NA,NA
 computer had two important instructions that we initially called ,NA,NA
Load,NA,NA
 and ,NA,NA
Store,NA,NA
. Each of these instructions occupied 3 bytes of memory. The first byte of a ,NA,NA
Load,NA,NA
 ,NA,NA
"instruction was the opcode, and the 2 bytes that followed the opcode indicated a 16-bit ",NA,NA
"address. The processor loaded the byte at that address into the accumulator. Similarly, the ",NA,NA
Store,NA,NA
 instruction saved the contents of the ,NA,NA
accumulator in the address indicated in the instruction.,NA,NA
"Later on, we discovered that we could abbreviate these two opcodes using mnemonics:","LOD A,[aaaa] 
  
 STO [aaaa],A",NA
where ,NA,NA
A,NA,NA
 stands for the accumulator (the destination in the Load instruction and the source in ,NA,NA
the ,NA,NA
Store ,NA,NA
instruction) and ,NA,NA
aaaa,NA,NA
" indicates a 16-bit memory address, usually written as 4 ",NA,NA
hexadecimal digits.,NA,NA
"The 8-bit accumulator in the 8080 is called A, just like the accumulator in ",NA,NA
Chapter 17,NA,NA
. And like ,NA,NA
the computer in ,NA,NA
Chapter 17,NA,NA
", the 8080 includes two instructions that do exactly the same thing ",NA,NA
as the ,NA,NA
Load ,NA,NA
and ,NA,NA
Store,NA,NA
 instructions. The 8080 opcodes for these two instructions are 32h and ,NA,NA
"3Ah, and each opcode is followed by a 16-bit address. The 8080 mnemonics are ",NA,NA
STA,NA,NA
 (standing ,NA,NA
for ,NA,NA
Store ,NA,NA
Accumulator,NA,NA
) and ,NA,NA
LDA,NA,NA
 (,NA,NA
Load Accumulator,NA,NA
):,"Opcode 
  
 Instruction
  
 32
  
 STA [aaaa],A
  
 3A
  
 LDA A,[aaaa]",NA
"In addition to the accumulator, the 8080 contains six ",NA,NA
registers,NA,NA
 that can also hold 8-bit values ,NA,NA
"inside the microprocessor. These registers are very similar to the accumulator; indeed, the ",NA,NA
"accumulator is considered to be a special type of register. Like the accumulator, the other six ",NA,NA
"registers are latches; the processor can move bytes from memory into registers, and from ",NA,NA
"registers back into memory. The other registers, however, aren't as versatile as the ",NA,NA
"accumulator. When you add two 8-bit numbers, for example, the result always goes into the ",NA,NA
accumulator rather than into one of the other registers.,NA,NA
"The six additional registers in the 8080 are named B, C, D, E, H, and L. The first question ",NA,NA
"people usually ask is, ""What happened to F and G?"" and the second question is, ""And what ",NA,NA
"about I, J, and K?"" The answer is that registers H and L are so called because they're special in ",NA,NA
a certain way. H stands for ,NA,NA
high,NA,NA
 and L stands for ,NA,NA
low,NA,NA
. Very often the 8-bit quantities in H and L ,NA,NA
are treated in tandem as a 16-bit ,NA,NA
register pair,NA,NA
" named HL, H being the high-order byte and L ",NA,NA
being the low-order byte. This 16-bit value is often used to address memory. We'll see how ,NA,NA
this works shortly.,NA,NA
Are all these registers necessary? Why didn't we need them in the ,NA,NA
Chapter 17,NA,NA
 computer? In ,NA,NA
"theory, they aren't necessary. But they turn out to be very convenient. Many computer ",NA,NA
programs juggle several numbers at the same time. It's easiest to do this if all the numbers are ,NA,NA
stored in microprocessor registers rather than memory. The program is usually faster as well: ,NA,NA
"The fewer times a program needs to access memory, generally the faster it will run.",NA,NA
No fewer than 63 opcodes are devoted to a single 8080 instruction called ,NA,NA
MOV,NA,NA
", which is short ",NA,NA
for ,NA,NA
Move,NA,NA
. This instruction is just a single byte. The instruction usually moves the contents of ,NA,NA
one register into another (or the same) register. The large number of ,NA,NA
MOV,NA,NA
 instructions is a ,NA,NA
normal consequence of designing a microprocessor with seven registers (including the ,NA,NA
accumulator).,NA,NA
Here are the first 32 ,NA,NA
MOV,NA,NA
 instructions. Remember that the destination is the argument on ,NA,NA
the left and the source is the argument on the right:,"Opcode 
  
 Instruction
  
 Opcode 
  
 Instruction
  
 40
  
 MOV B,B
  
 50
  
 MOV D,B
  
 41
  
 MOV B,C
  
 51
  
 MOV D,C
  
 42
  
 MOV B,D
  
 52
  
 MOV D,D
  
 43
  
 MOV B,E
  
 53
  
 MOV D,E
  
 44
  
 MOV B,H
  
 54
  
 MOV D,H
  
 45
  
 MOV B,L
  
 55
  
 MOV D,L
  
 46
  
 MOV B,[HL]
  
 56
  
 MOV D,[HL]
  
 47
  
 MOV B,A
  
 57
  
 MOV D,A
  
 48
  
 MOV C,B
  
 58
  
 MOV E,B
  
 49
  
 MOV C,C
  
 59
  
 MOV E,C
  
 4A
  
 MOV C,D
  
 5A
  
 MOV E,D
  
 4B
  
 MOV C,E
  
 5B
  
 MOV E,E
  
 4C
  
 MOV C,H
  
 5C
  
 MOV E,H
  
 4D
  
 MOV C,L
  
 5D
  
 MOV E,L
  
 4E
  
 MOV C,[HL]
  
 5E
  
 MOV E,[HL]
  
 4F
  
 MOV C,A
  
 5F
  
 MOV E,A",NA
"These are handy instructions to have. Whenever you have a value in one register, you know ",NA,NA
you can move it to another register. Notice also the four instructions that use the HL register ,NA,NA
"pair, such as","MOV B,[HL]",NA
The ,NA,NA
LDA,NA,NA
 instruction shown earlier transfers a byte from memory into the accumulator; ,NA,NA
the 16-bit address of the byte directly follows the ,NA,NA
LDA,NA,NA
 opcode. This ,NA,NA
MOV,NA,NA
 instruction ,NA,NA
transfers a byte from memory into register B. But the address of the byte to be loaded ,NA,NA
into the register is stored in the,NA,NA
"register pair HL registers. How did HL come to hold a 16-bit memory address? Well, it could ",NA,NA
happen in a variety of ways. Maybe the address was calculated in some way.,NA,NA
"To summarize, these two instructions","LDA A,[aaaa] 
  
 MOV B,[HL]",NA
"both load a byte from memory into the microprocessor, but they use two different methods ",NA,NA
to address memory. The first method is called ,NA,NA
direct addressing,NA,NA
 and the second method is ,NA,NA
called ,NA,NA
indexed addressing,NA,NA
.,NA,NA
The second batch of 32 ,NA,NA
MOV,NA,NA
 instructions shows that the memory location addressed by HL ,NA,NA
can also be a destination:,"Opcode 
  
 Instruction
  
 Opcode 
  
 Instruction
  
 40
  
 MOV B,B
  
 50
  
 MOV D,B
  
 60
  
 MOV H,B
  
 70
  
 MOV [HL],B
  
 61
  
 MOV H,C
  
 71
  
 MOV [HL],C
  
 62
  
 MOV H,D
  
 72
  
 MOV [HL],D
  
 63
  
 MOV H,E
  
 73
  
 MOV [HL],E
  
 64
  
 MOV H,H
  
 74
  
 MOV [HL],H
  
 65
  
 MOV H,L
  
 75
  
 MOV [HL],L
  
 66
  
 MOV H,[HL]
  
 76
  
 HLT
  
 67
  
 MOV H,A
  
 77
  
 MOV [HL],A
  
 68
  
 MOV L,B
  
 78
  
 MOV A,B
  
 69
  
 MOV L,C
  
 79
  
 MOV A,C
  
 6A
  
 MOV L,D
  
 7A
  
 MOV A,D
  
 6B
  
 MOV L,E
  
 7B
  
 MOV A,E
  
 6C
  
 MOV L,H
  
 7C
  
 MOV A,H
  
 6D
  
 MOV L,L
  
 7D
  
 MOV A,L
  
 6E
  
 MOV L,[HL]
  
 7E
  
 MOV A,[HL]
  
 6F
  
 MOV L,A
  
 7F
  
 MOV A,A",NA
"Several of these instructions, such as","MOV A,A",NA
don't do anything useful. But the instruction,"MOV [HL],[HL]",NA
doesn't exist. The opcode that would otherwise correspond to that instruction is actually a ,NA,NA
HLT,NA,NA
 (,NA,NA
Halt,NA,NA
) instruction.,NA,NA
A more revealing way to look at all these ,NA,NA
MOV,NA,NA
 opcodes is to examine the bit pattern of the ,NA,NA
opcode.,NA,NA
The ,NA,NA
MOV,NA,NA
 opcode consists of the 8 bits,01dddsss,NA
in which the letters ,NA,NA
ddd,NA,NA
" represent a 3-bit code that refers to a destination, and ",NA,NA
sss,NA,NA
 is a 3-bit ,NA,NA
code that refers to a source. These 3-bit codes are,"000 = Register B 
  
 001 = Register C 
  
 010 = Register D 
  
 011 = Register E 
  
 100 = Register H 
  
 101 = Register L 
  
 110 = Contents of memory at address 
 HL 
  
 111 = Accumulator",NA
"For example, the instruction","MOV L,E",NA
is associated with the opcode,01101011,NA
or 6Bh. You can check the preceding table to verify that.,NA,NA
"So probably somewhere inside the 8080, the 3 bits labeled ",NA,NA
sss,NA,NA
 are used in a 8-Line-to-1-Line ,NA,NA
"Data Selector, and the 3 bits labeled ",NA,NA
ddd,NA,NA
 are used to control a 3-Line-to-8-Line Decoder that ,NA,NA
determines which register latches a value.,NA,NA
"It's also possible to use registers B and C as a 16-bit register pair BC, and registers D and E as ",NA,NA
a 16-bit register pair DE. If either register pair contains the address of a memory location that ,NA,NA
"you want to use to load or store a byte, you can use the following instructions:","Opcode 
  
 Instruction
  
 Opcode 
  
 Instruction
  
 02
  
 STAX [BC],A 
  
  0A
  
 LDAX A,[BC]
  
 12
  
 STAX [DE],A
  
 1A
  
 LDAX A,[DE]",NA
Another type of ,NA,NA
Move,NA,NA
 instruction is called ,NA,NA
Move Immediate,NA,NA
 and is assigned the mnemonic ,NA,NA
MVI,NA,NA
. The ,NA,NA
Move Immediate,NA,NA
" instruction is composed of 2 bytes. The first is the opcode, and the ",NA,NA
second is a byte of data. That byte is transferred from memory into one of the registers or to ,NA,NA
the memory location addressed by the HL register pair:,"Opcode 
  
 Instruction",NA
"For example, after the instruction","MVI E,37h",NA
the register E contains the byte 37h. This is considered to be a third method of addressing ,NA,NA
"memory, called ",NA,NA
immediate addressing,NA,NA
.,NA,NA
A collection of 32 opcodes do the four basic arithmetical operations we're familiar with from ,NA,NA
the processor we developed in ,NA,NA
Chapter 17,NA,NA
. These are addition (,NA,NA
ADD,NA,NA
"), addition with carry ",NA,NA
(,NA,NA
ADC,NA,NA
"), subtraction (",NA,NA
SUB,NA,NA
"), and subtraction with borrow (",NA,NA
SBB,NA,NA
"). In all cases, the accumulator is ",NA,NA
one of the two operands and is also the destination for the result:,"Opcode 
  
 Instruction
  
 Opcode 
  
 Instruction
  
 80
  
 ADD A,B
  
 90
  
 SUB A,B
  
 81
  
 ADD A,C
  
 91
  
 SUB A,C
  
 82
  
 ADD A,D
  
 92
  
 SUB A,D
  
 83
  
 ADD A,E
  
 93
  
 SUB A,E
  
 84
  
 ADD A,H
  
 94
  
 SUB A,H
  
 85
  
 ADD A,L
  
 95
  
 SUB A,L
  
 86
  
 ADD A,[HL]
  
 96
  
 SUB A,[HL]
  
 87
  
 ADD A,A
  
 97
  
 SUB A,A
  
 88
  
 ADC A,B
  
 98
  
 SBB A,B
  
 89
  
 ADC A,C
  
 99
  
 SBB A,C
  
 8A
  
 ADC A,D
  
 9A
  
 SBB A,D
  
 8B
  
 ADC A,E
  
 9B
  
 SBB A,E
  
 8C
  
 ADC A,H
  
 9C
  
 SBB A,H
  
 8D
  
 ADC A,L
  
 9D
  
 SBB A,L
  
 8E
  
 ADC A,[HL]
  
 9E
  
 SBB A,[HL]
  
 8F
  
 ADC A,A
  
 9F
  
 SBB A,A",NA
Suppose A contains the byte 35h and register B contains the byte 22h. After executing,"SUB A,B",NA
the accumulator contains the byte 13h.,NA,NA
"If A contains the byte 35h, and register H contains the byte 10h, and L contains the byte 7Ch, ",NA,NA
"and the memory location 107Ch contains the byte 4Ah, the instruction","ADD A,[HL]",NA
adds the byte in the accumulator (35h) and the byte addressed by the register pair HL ,NA,NA
(4Ah) and stores the result (7Fh) in the accumulator.,NA,NA
The ,NA,NA
ADC,NA,NA
 and ,NA,NA
SBB,NA,NA
" instructions allow the 8080 to add and subtract 16-bit, 24-bit, 32-bit, and ",NA,NA
"larger numbers. For example, suppose the register pairs BC and DE both contain 16-bit ",NA,NA
numbers. You want to add them and put the result in BC. Here's how to do it:,"MOV A,C     ; Low-order byte 
  
 ADD A,E 
  
 MOV C,A 
  
 MOV A,B     ; High-order byte 
  
 ADC A,D 
  
 MOV B,A",NA
The two addition instructions are ,NA,NA
ADD,NA,NA
 for the low-order byte and ,NA,NA
ADC,NA,NA
 for the high-order ,NA,NA
byte. Any carry bit that results from the first addition is included in the second addition. But ,NA,NA
"because you can add only with the accumulator, this little snippet of code requires no fewer ",NA,NA
than 4 ,NA,NA
MOV,NA,NA
 instructions. Lots of ,NA,NA
MOV,NA,NA
 instructions usually show up in 8080 code.,NA,NA
This is a good time to talk about the 8080 flags. In our processor in ,NA,NA
Chapter 17,NA,NA
", we had a ",NA,NA
"Carry flag and a Zero flag. The 8080 has three more, called Sign, Parity, and Auxiliary Carry. ",NA,NA
All the flags are stored in yet another 8-bit register called the ,NA,NA
Program Status Word,NA,NA
 (,NA,NA
PSW,NA,NA
). ,NA,NA
Instructions such as ,NA,NA
"LDA, STA",NA,NA
", or ",NA,NA
MOV,NA,NA
 don't affect the flags at all. The ,NA,NA
"ADD, SUB, ADC",NA,NA
", and ",NA,NA
SBB,NA,NA
 ,NA,NA
"instructions do affect the flags, however, in the following way:",NA,NA
"The Sign flag is set to 1 if the most significant bit of the result is 1, meaning that the ",NA,NA
result is negative.,NA,NA
The Zero flag is set to 1 if the result is 0.,NA,NA
The Parity flag is set to 1 if the result has ,NA,NA
even parity,NA,NA
", which means that the number of 1 ",NA,NA
bits in the result is even. The parity flag is 0 if the result has ,NA,NA
odd parity,NA,NA
. Parity is sometimes ,NA,NA
used as a crude form of error checking. This flag isn't often used in 8080 programming.,NA,NA
The Carry flag is set to 1 if an ,NA,NA
ADD,NA,NA
 or ,NA,NA
ADC,NA,NA
 operation results in a carry or if a ,NA,NA
SUB,NA,NA
 and ,NA,NA
SBB,NA,NA
 ,NA,NA
does ,NA,NA
not,NA,NA
 result in a carry. (This is different from the implementation of the Carry flag in ,NA,NA
the ,NA,NA
Chapter 17 ,NA,NA
computer.),NA,NA
The Auxiliary Carry flag is 1 if the operation results in a carry from the low nibble into ,NA,NA
the high nibble. This flag is used only for the ,NA,NA
DAA,NA,NA
 (,NA,NA
Decimal Adjust Accumulator,NA,NA
) ,NA,NA
instruction.,NA,NA
Two instructions affect the carry flag directly:,"Opcode 
  
 Instruction
  
  Meaning",NA
The computer in ,NA,NA
Chapter 17,NA,NA
 performed ,NA,NA
"ADD, ADC, SUB",NA,NA
", and ",NA,NA
SBB,NA,NA
 instructions (although not ,NA,NA
"with nearly as much flexibility), but the 8080 does Boolean AND, OR, and XOR operations as ",NA,NA
well. Both arithmetic and logical operations are performed by the processor's Arithmetic ,NA,NA
Logic Unit (ALU).,"Opcode 
  
 Instruction
  
 Opcode 
  
 Instruction
  
 A0
  
 AND A,B
  
 B0
  
 OR A,B
  
 A1
  
 AND A,C
  
 B1
  
 OR A,C
  
 A2
  
 AND A,D
  
 B2
  
 OR A,D
  
 A3
  
 AND A,E
  
 B3
  
 OR A,E
  
 A4
  
 AND A,H
  
 B4
  
 OR A,H
  
 A5
  
 AND A,L
  
 B5
  
 OR A,L
  
 A6
  
 AND A,[HL]
  
 B6
  
 OR A,[HL]
  
 A7
  
 AND A,A
  
 B7
  
 OR A,A
  
 A8
  
 XOR A,B
  
 B8
  
 CMP A,B
  
 A9
  
 XOR A,C
  
 B9
  
 CMP A,C
  
 AA
  
 XOR A,D
  
 BA
  
 CMP A,D
  
 AB
  
 XOR A,E
  
 BB
  
 CMP A,E
  
 AC
  
 XOR A,H
  
 BC
  
 CMP A,H
  
 AD
  
 XOR A,L
  
 BD
  
 CMP A,L
  
 AE
  
 XOR A,[HL]
  
 BE
  
 CMP A,[HL]
  
 AF
  
 XOR A,A
  
 BF
  
 CMP A,A",NA
The ,NA,NA
"AND, XOR",NA,NA
", and ",NA,NA
OR,NA,NA
 instructions perform ,NA,NA
bitwise,NA,NA
 operations. This means that the ,NA,NA
logical operation is performed on each pair of bits separately.,NA,NA
"For example,","MVI 
 A,0Fh 
  
 MVI 
 B,55h 
  
 AND A,B",NA
The value in the accumulator will be 05h. If the third instruction were an ,NA,NA
OR,NA,NA
", the result would ",NA,NA
be 5Fh. If the instruction were an ,NA,NA
XOR,NA,NA
", the result would be 5Ah.",NA,NA
The ,NA,NA
CMP,NA,NA
 (,NA,NA
Compare,NA,NA
) instruction is just like the ,NA,NA
SUB,NA,NA
 instruction except that the result isn't ,NA,NA
"stored in the accumulator. In other words, the ",NA,NA
CMP,NA,NA
 performs a subtraction and then throws ,NA,NA
away the result. What's the point? The flags! The flags tell you the relationship between the 2 ,NA,NA
bytes that you compared.,NA,NA
"For example, consider the following instructions:",NA,NA
"After this instruction, the contents of A remain unchanged. However, the Zero flag is set if the ",NA,NA
value in A equals 25h. The Carry flag is set if the value in A is less than 25h.,NA,NA
The eight arithmetic and logic operations also have versions that operate on an immediate ,NA,NA
byte:,"Opcode 
  
 Instruction
  
  Opcode 
  
 Instruction
  
 C6
  
 ADI A,xx
  
 E6
  
 ANI A,xx
  
 CE
  
 ACI A,xx
  
 EE
  
 XRI A,xx
  
 D6
  
 SUI A,xx
  
 F6
  
 ORI A,xx
  
 DE
  
 SBI A,xx
  
 FE
  
 CPI A,xx",NA
"For example, the two lines shown above can be replaced with","CPI A,25h",NA
Here are two miscellaneous 8080 instructions:,"Opcode 
  
 Instruction
  
 27
  
 DAA
  
 2F
  
 CMA",NA
CMA,NA,NA
 stands for ,NA,NA
Complement Accumulator,NA,NA
. It performs a ones' complement of the value in ,NA,NA
the accumulator. Every 0 becomes a 1 and every 1 becomes a 0. If the accumulator is ,NA,NA
"01100101, the ",NA,NA
CMA,NA,NA
 instruction causes it to be 10011010. You can also complement the ,NA,NA
accumulator using the instruction,"XRI A,FFh",NA
DAA,NA,NA
 stands for ,NA,NA
Decimal Adjust Accumulator,NA,NA
", as I mentioned earlier, and it's probably the most ",NA,NA
sophisticated single instruction in the 8080. A whole little section of the microprocessor is ,NA,NA
dedicated specifically to performing this instruction.,NA,NA
The ,NA,NA
DAA,NA,NA
 instruction helps a programmer implement decimal arithmetic using a method of ,NA,NA
representing numbers known as ,NA,NA
binary-coded decimal,NA,NA
", or ",NA,NA
BCD,NA,NA
". In BCD, each nibble of data ",NA,NA
"may range only from 0000 through 1001, corresponding to decimal digits 0 through 9. The 8 ",NA,NA
bits of a byte can store two decimal digits in BCD format.,NA,NA
"Suppose the accumulator contains the BCD value 27h. Because this is a BCD value, it actually ",NA,NA
"refers to the decimal value 27. (Normally, the hexadecimal value 27h has the decimal ",NA,NA
equivalent 39.) Suppose also that register B contains the BCD value 94h. If you execute the ,NA,NA
instruction,"MVI 
 A,27h 
  
 MVI 
 B,94h 
  
 ADD A,B",NA
"the accumulator will contain the value BBh, which, of course, isn't a BCD value because the ",NA,NA
nibbles of BCD bytes never exceed 9. But now execute the instruction,NA,NA
"Now the accumulator contains 21h, and the Carry flag is set. That's because the decimal ",NA,NA
sum of 27 and 94 equals 121. This can be handy if you need to do BCD arithmetic.,NA,NA
Very often it's necessary to add 1 to a particular value or subtract 1 from a value. In the ,NA,NA
multiplication program in ,NA,NA
Chapter 17,NA,NA
", we needed to subtract 1 from a value, and the way we ",NA,NA
"did it was to add FFh, which is the two's complement value of –1. The 8080 includes special ",NA,NA
instructions for increasing a register or memory location by 1 (this is known as an ,NA,NA
increment,NA,NA
) ,NA,NA
or decreasing by 1 (,NA,NA
decrement,NA,NA
):,"Opcode 
  
 Instruction
  
  Opcode 
  
 Instruction
  
 04
  
 INR B
  
 05
  
 DCR B
  
 0C
  
 INR C
  
 0D
  
 DCR C
  
 14
  
 INR D
  
 15
  
 DCR D
  
 1C
  
 INR E
  
 1D
  
 DCR E
  
 24
  
 INR H
  
 25
  
 DCR H
  
 2C
  
 INR L
  
 2D
  
 DCR L
  
 34
  
 INR [HL]
  
 35
  
 DCR [HL]
  
 3C
  
 INR A
  
 3D
  
 DCR A",NA
The single-byte ,NA,NA
INR,NA,NA
 and ,NA,NA
DCR,NA,NA
 instructions affect all flags except the Carry flag.,NA,NA
The 8080 also includes four ,NA,NA
Rotate,NA,NA
 instructions. These instructions shift the ,NA,NA
contents of the accumulator 1 bit to the left or right:,"Opcode 
  
 Instruction
  
  Meaning
  
 07
  
 RLC
  
 Rotate accumulator left
  
 0F
  
 RRC
  
 Rotate accumulator right
  
 17
  
 RAL
  
 Rotate accumulator left through 
 carry
  
 1F
  
 RAR
  
 Rotate accumulator right through 
 carry",NA
Only the Carry flag is affected by these instructions.,NA,NA
"Suppose the accumulator contains the value A7h, or 10100111 in binary. The ",NA,NA
RLC,NA,NA
 ,NA,NA
instruction shifts the bits left. The lowest bit (shifted out of the bottom) becomes the ,NA,NA
highest bit (shifted into the top) and also determines the state of the Carry flag. The result is ,NA,NA
"01001111, and the Carry flag is 1. The ",NA,NA
RRC,NA,NA
 instruction shifts the bits right in the same way. ,NA,NA
"Beginning with 10100111, the result after an ",NA,NA
RRC,NA,NA
" instruction is 11010011, and the Carry ",NA,NA
flag is 1.,NA,NA
The ,NA,NA
RAL,NA,NA
 and ,NA,NA
RAR,NA,NA
 instructions work a little differently. The ,NA,NA
RAL,NA,NA
 instruction sets the Carry flag ,NA,NA
to the lowest bit of the accumulator when shifting left but sets the highest bit to the previous ,NA,NA
"contents of the Carry flag. For example, if the accumulator contains 10100111 and the Carry ",NA,NA
"flag is 0, ",NA,NA
RAL,NA,NA
 causes the accumulator to become 01001110 and the Carry flag to be 1. ,NA,NA
"Similarly, under the same initial",NA,NA
conditions ,NA,NA
RAR,NA,NA
 causes the accumulator to become 01010011 and the Carry flag to be set to 1.,NA,NA
The shift instructions come in handy when you're multiplying a number by 2 (that's a ,NA,NA
shift left) or dividing a number by 2 (a shift right).,NA,NA
The memory that the microprocessor addresses is called ,NA,NA
random access,NA,NA
 memory (RAM) ,NA,NA
for a reason: The microprocessor can access any particular memory location simply by ,NA,NA
supplying an address of that location. RAM is like a book that we can open to any page. It's ,NA,NA
not,NA,NA
 like a week's worth of a newspaper on microfilm. Finding something in Saturday's ,NA,NA
"edition requires us to scan through most of the week. Similarly, playing the last song on a ",NA,NA
cassette tape requires us to fast forward through the whole side of the album. The term for ,NA,NA
microfilm or tape storage isn't random access but ,NA,NA
sequential access,NA,NA
.,NA,NA
"Random access memory is definitely a good thing, particularly for microprocessors, but ",NA,NA
sometimes it's advantageous to treat memory a little differently. Here's a form of storage ,NA,NA
that's neither random nor sequential: Suppose you work in an office where people come to ,NA,NA
your desk to give you jobs to do. Each job involves a file folder of some sort. Often when ,NA,NA
"you're working on one job, you find that before you can continue you must do a related job ",NA,NA
using another file folder. So you leave the first folder on your desk and put the second one on ,NA,NA
top of it to work on that. Now someone comes to your desk to give you yet another job that ,NA,NA
has higher priority than the earlier one. You're handed a new file folder and you work with ,NA,NA
"that one on top of the other two. That job requires yet another file folder, and soon you have a ",NA,NA
pile of four file folders on your desk.,NA,NA
Notice that this pile is actually a very orderly way to store and keep track of all the jobs you're ,NA,NA
"doing. The topmost file folder always has the highest-priority job. After you get rid of that one, ",NA,NA
"the next one on the pile must be attended to, and so on. When you finally get rid of the last file ",NA,NA
"folder on your desk (the first one you started with), you can go home.",NA,NA
The technical term for this form of storage is a ,NA,NA
stack,NA,NA
. You're stacking things from the ,NA,NA
bottom up and removing them from the top down. It's also called ,NA,NA
last-in-first-out,NA,NA
" storage, or ",NA,NA
LIFO,NA,NA
. The last thing put on the stack is the first thing taken off the stack. The first thing put ,NA,NA
on the stack is the last thing taken off the stack.,NA,NA
"Computers also can use a stack, not for storing jobs but for storing numbers, and it's ",NA,NA
something that turns out to be quite convenient. Putting something on the stack is called a ,NA,NA
push,NA,NA
", and taking something off the stack is called a ",NA,NA
pop,NA,NA
.,NA,NA
"Suppose you were writing an assembly-language program that used registers A, B, and C. But ",NA,NA
you notice that you've reached a point where the program needs to do something else—,NA,NA
"another little calculation that also needs to use registers A, B, and C. You eventually want to ",NA,NA
"come back to what you were doing before, however, and continue using A, B, and C with the ",NA,NA
values they previously had.,NA,NA
"What you could do, of course, is simply store registers A, B, and C in various locations in ",NA,NA
memory and later load these locations back into the registers. But that requires keeping ,NA,NA
track of where you stored them. A much cleaner way to do it is to push the registers on the ,NA,NA
stack:,NA,NA
"I'll explain what these instructions actually do in a moment. For now, all we need to know is ",NA,NA
that they somehow save the contents of the registers in last-in-first-out memory. Once these ,NA,NA
statements are,NA,NA
"executed, your program can use these registers for other purposes without worry. To get ",NA,NA
"the earlier values back, you simply pop them from the stack in the reverse order, as shown ",NA,NA
at the top of the following page.,"POP C 
  
 POP B 
  
 POP A",NA
"Remember: Last in, first out. Accidentally switching around these ",NA,NA
POP,NA,NA
 statements would ,NA,NA
constitute a bug.,NA,NA
What's particularly nice about the stack mechanism is that lots of different sections of a ,NA,NA
"program can use the stack without causing problems. For example, after the program pushes ",NA,NA
"A, B, and C on the stack, another section of the program could decide it needs to do the same ",NA,NA
"thing with registers C, D, and E:","PUSH C 
  
 PUSH D 
  
 PUSH E",NA
Then all that's necessary is for that section of the program to restore the registers this way:,"POP E 
  
 POP D 
  
 POP C",NA
"before the first section popped C, B, and A.",NA,NA
"How is the stack implemented? The stack is, first of all, just a section of normal RAM that isn't ",NA,NA
being used for anything else. The 8080 microprocessor contains a special 16-bit register that ,NA,NA
addresses this section of memory. That 16-bit register is called the ,NA,NA
Stack Pointer,NA,NA
.,NA,NA
My examples of pushing and popping individual registers weren't quite accurate for the ,NA,NA
8080. The 8080 ,NA,NA
PUSH,NA,NA
 instruction actually stores ,NA,NA
16-bit,NA,NA
" values on the stack, and the ",NA,NA
POP,NA,NA
 ,NA,NA
instruction retrieves them. So instead of instructions like ,NA,NA
PUSH C,NA,NA
 and ,NA,NA
POP C,NA,NA
", we have the ",NA,NA
following 8 instructions:,"Opcode 
  
 Instruction
  
  Opcode 
  
 Instruction
  
 C5
  
 PUSH BC
  
 C1
  
 POP BC
  
 D5
  
 PUSH DE
  
 D1
  
 POP DE
  
 E5
  
 PUSH HL
  
 E1
  
 POP HL
  
 F5
  
 PUSH PSW
  
 F1
  
 POP PSW",NA
The ,NA,NA
PUSH BC,NA,NA
" instruction stores registers B and C on the stack, and ",NA,NA
POP BC,NA,NA
 retrieves them. The ,NA,NA
abbreviation PSW in the last row refers to the ,NA,NA
Program Status Word,NA,NA
", which, as you'll recall, is ",NA,NA
the 8-bit register that contains the flags. The two instructions in the bottom row actually push ,NA,NA
and pop both the accumulator ,NA,NA
and,NA,NA
 the PSW. If you want to save the contents of ,NA,NA
all,NA,NA
 the ,NA,NA
"registers and flags, you can use","PUSH PSW 
  
 PUSH BC",NA
"When you later need to restore the contents of these registers, use the ",NA,NA
POP,NA,NA
 instructions in ,NA,NA
reverse order: ,"POP HL 
  
  
 POP DE 
  
  
 POP BC 
  
  
 POP PSW",NA
How does the stack work? Let's assume the Stack Pointer is 8000h. The ,NA,NA
PUSH BC,NA,NA
 instruction ,NA,NA
causes the following to occur: ,NA,NA
The Stack Pointer is decremented to 7FFFh.,NA,NA
"The contents of register B are stored at the Stack Pointer address, or 7FFFh.",NA,NA
The Stack Pointer is decremented to 7FFEh.,NA,NA
"The contents of register C are stored at the Stack Pointer address, or 7FFEh.",NA,NA
A ,NA,NA
POP BC,NA,NA
 instruction executed when the Stack Pointer is still 7FFEh undoes ,NA,NA
everything: ,NA,NA
The contents of register C are loaded from the Stack Pointer ,NA,NA
"address, or 7FFEh.",NA,NA
The Stack Pointer is incremented to 7FFFh.,NA,NA
"The contents of register B are loaded from the Stack Pointer address, or 7FFFh.",NA,NA
The Stack Pointer is incremented to 8000h.,NA,NA
For every ,NA,NA
PUSH,NA,NA
" instruction, the stack increases 2 bytes in size. It's possible—possibly due to ",NA,NA
a bug in a program—that the stack will get so big that it will begin to overwrite some code or ,NA,NA
data needed by a program. This is a problem known as ,NA,NA
stack overflow,NA,NA
". Similarly, too many ",NA,NA
POP,NA,NA
" instructions can prematurely exhaust the contents of the stack, a condition known as ",NA,NA
stack underflow,NA,NA
.,NA,NA
"If you have 64 KB of memory connected to your 8080, you might want to initially set the Stack ",NA,NA
Pointer to 0000h. The first ,NA,NA
PUSH,NA,NA
 instruction decrements that address to FFFFh. The stack ,NA,NA
"then occupies the area of memory with the very highest addresses, quite a distance from your ",NA,NA
"programs, which will probably be in the area of memory starting at address 0000h.",NA,NA
The instruction to set the value of the stack register is ,NA,NA
LXI,NA,NA
", which stands for ",NA,NA
Load ,NA,NA
Extended Immediate,NA,NA
. These instructions also load 16-bit register pairs with the two ,NA,NA
bytes that follow the opcode:,"Opcode 
  
 Instruction
  
 01
  
 LXI BC,xxxx
  
 11
  
 LXI DE,xxxx
  
 21
  
 LXI HL,xxxx
  
 31
  
 LXI SP,xxxx",NA
The instruction ,"LXI BC,527Ah",NA
is equivalent ,NA,NA
to ,"MVI B,52",NA
The ,NA,NA
LXI,NA,NA
" instruction saves a byte. In addition, the last ",NA,NA
LXI,NA,NA
 instruction in the preceding table is ,NA,NA
used to set the Stack Pointer to a particular value. It's not uncommon for this instruction to be ,NA,NA
one of the first instructions that a microprocessor executes after being restarted: ,"0000h:     LXI SP,0000h",NA
It's also possible to increment and decrement register pairs and the Stack Pointer as if they ,NA,NA
were 16-bit registers:,"Opcode 
  
 Instruction
  
  Opcode 
  
 Instruction
  
 03
  
 INX BC
  
 0B
  
 DCX BC
  
 13
  
 INX DE
  
 1B
  
 DCX DE
  
 23
  
 INX HL
  
 2B
  
 DCX HL
  
 33
  
 INX SP
  
 3B
  
 DCX SP",NA
"While I'm on the subject of 16-bit instructions, let's look at a few more. The following ",NA,NA
instructions add the contents of 16-bit register pairs to the register pair HL:,"Opcode 
  
 Instruction
  
 09
  
 DAD HL,BC
  
 19
  
 DAD HL,DE
  
 29
  
 DAD HL,HL
  
 39
  
 DAD HL,SP",NA
"These instructions could save a few bytes. For example, the first of these instructions would ",NA,NA
normally require 6 bytes: ,"MOV A,L 
  
  
 ADD A,C 
  
  
 MOV L,A 
  
  
 MOV A,H 
  
  
 ADC A,B 
  
  
 MOV H,A",NA
The ,NA,NA
DAD,NA,NA
 instruction is normally used for calculating memory addresses. The only flag that the ,NA,NA
instruction affects is the Carry flag.,NA,NA
Next let's look at some miscellaneous instructions. These two opcodes are followed by a ,NA,NA
2-byte address and store and load the contents of the register pair HL at that address:,"Opcode 
  
 Instruction
  
 Meaning
  
 2h
  
 SHLD [aaaa],HL
  
  Store HL Direct
  
 2Ah
  
 LHLD HL,[aaaa]
  
  Load HL Direct",NA
The L register is stored at address ,NA,NA
aaaa,NA,NA
", and the H register is stored at address ",NA,NA
aaaa,NA,NA
 + 1.,NA,NA
These two instructions load the Program Counter or the Stack Pointer from the register pair ,NA,NA
HL:,"Opcode 
  
 Instruction
  
 Meaning
  
 E9h
  
 PCHL PC,HL 
  
 Load Program Counter from 
 HL
  
 F9h
  
 SPHL SP,HL 
  
 Load Stack Pointer from HL",NA
The ,NA,NA
PCHL,NA,NA
 instruction is actually a type of ,NA,NA
Jump,NA,NA
. The next instruction that the 8080 executes is ,NA,NA
the one located at the address stored in the HL register pair. ,NA,NA
SPHL,NA,NA
 is another method to set the ,NA,NA
Stack Pointer.,NA,NA
These two instructions exchange the contents of HL first with the two bytes located on top of ,NA,NA
the stack and second with the register pair DE:,"Opcode 
  
 Instruction
  
 Meaning
  
 E3h
  
 XTHL HL,[SP]
  
 Exchange top of stack with HL
  
 EBh
  
 XCHG HL,DE
  
 Exchange DE and HL",NA
I haven't described the 8080 ,NA,NA
Jump,NA,NA
" instructions yet, except for ",NA,NA
PCHL,NA,NA
. As you'll recall from ,NA,NA
Chapter 17,NA,NA
", a processor includes a register called the Program Counter that contains the ",NA,NA
memory address the processor uses to retrieve the instructions that it executes. Normally the ,NA,NA
Program Counter causes the processor to execute instructions that are located sequentially in ,NA,NA
memory. But some instructions—usually named ,NA,NA
Jump,NA,NA
 or ,NA,NA
Branch,NA,NA
 or ,NA,NA
Goto,NA,NA
—cause the processor ,NA,NA
to deviate from this steady course. Such instructions cause the Program Counter to be loaded ,NA,NA
with another value. The next instruction that the processor fetches is somewhere else in ,NA,NA
memory.,NA,NA
While a plain old ordinary ,NA,NA
Jump,NA,NA
" instruction is certainly useful, ",NA,NA
conditional,NA,NA
 jumps are even ,NA,NA
better. These instructions cause the processor to jump to another address based on the ,NA,NA
"setting of a particular flag, such as the Carry flag or the Zero flag. The presence of a ",NA,NA
conditional Jump instruction is what turned the ,NA,NA
Chapter 17,NA,NA
 automated adding machine into a ,NA,NA
general-purpose digital computer.,NA,NA
"The 8080 has five flags, four of which are used for conditional jumps. The 8080 supports nine ",NA,NA
"different Jump instructions, including the unconditional Jump and conditional jumps based on ",NA,NA
"whether the Zero, Carry, Parity, and Sign flags are 1 or 0.",NA,NA
"Before I show these instructions to you, however, I want to introduce two other types of ",NA,NA
instructions that are related to the ,NA,NA
Jump,NA,NA
. The first is the ,NA,NA
Call,NA,NA
 instruction. A ,NA,NA
Call,NA,NA
 is similar to a ,NA,NA
Jump,NA,NA
" except that prior to loading the Program Counter with a new address, the processor ",NA,NA
"saves the previous address. Where does it save that address? Why, on the stack, of course!",NA,NA
This strategy means that the ,NA,NA
Call,NA,NA
 instruction effectively saves a reminder of ,NA,NA
where it jumped ,NA,NA
from,NA,NA
. The saved address allows the processor to eventually return to the original location. ,NA,NA
"The returning instruction is called, appropriately, ",NA,NA
Return,NA,NA
. The ,NA,NA
Return,NA,NA
 instruction pops 2 ,NA,NA
bytes from the stack and loads the Program Counter with that value.,NA,NA
The ,NA,NA
Call,NA,NA
 and ,NA,NA
Return,NA,NA
 instructions are extremely important features of any processor. They ,NA,NA
allow a programmer to implement ,NA,NA
subroutines,NA,NA
", which are snippets of frequently used code. ",NA,NA
(By ,NA,NA
frequently,NA,NA
 I generally mean ,NA,NA
more than once,NA,NA
.) Subroutines are the primary organizational ,NA,NA
elements of assembly-language programs.,NA,NA
Let's look at an example. Suppose you're writing an assembly-language program and you ,NA,NA
come to a point where you need to multiply 2 bytes. So you write some code that does ,NA,NA
"precisely that, and you continue with the program. Now you come to another point where you ",NA,NA
"need to multiply 2 bytes. Well, you already know how to multiply two numbers, so you can ",NA,NA
simply use the same instructions all over again. But do you simply enter the instructions into ,NA,NA
memory a second time? I hope not. It's a waste of time and memory. What you'd rather do is ,NA,NA
just jump to the previous code. But the normal ,NA,NA
Jump,NA,NA
 doesn't work either because there's no ,NA,NA
way to return to the current place in the program. That's what the ,NA,NA
Call ,NA,NA
and ,NA,NA
Return,NA,NA
 instructions ,NA,NA
let you do.,NA,NA
A group of instructions that multiply 2 bytes is an ideal candidate for a subroutine. Let's take a ,NA,NA
look at such a subroutine. In ,NA,NA
Chapter 17,NA,NA
", the bytes to be multiplied (and the result) were ",NA,NA
stored in particular locations in memory. This 8080 subroutine instead multiplies the byte in ,NA,NA
register B by the byte in register C and puts the 16-bit product in register HL:,"Multiply:    PUSH PSW         ; Save registers being altered
  
  PUSH BC
  
  SUB H,H          ; Set HL (result) to 0000h
  
  SUB L,L
  
  MOV A,B          ; The multiplier goes in A CPI A,00h        ; If it's 0, 
 we're finished.
  
  JZ AllDone
  
  MVI B,00h        ; Set high byte of BC to 0
  
 MultLoop:    DAD HL,BC        ; Add BC to HL
  
  DEC A            ; Decrement multiplier JNZ MultLoop     ; 
 Loop if it's not 0
  
 AllDone:     POP BC           ; Restore saved registers POP PSW
  
  RET              ; Return",NA
"Notice that the first line of the subroutine begins with a label, which is the word ",NA,NA
Multiply,NA,NA
. This ,NA,NA
"label, of course, actually corresponds to a memory address where the subroutine is located. ",NA,NA
The subroutine begins with two ,NA,NA
PUSH,NA,NA
 instructions. Usually a subroutine should attempt to ,NA,NA
save (and later restore) any registers that it might need to use.,NA,NA
The subroutine then sets the contents of the H and L registers to 0. It could have used the ,NA,NA
MVI,NA,NA
 ,NA,NA
(,NA,NA
Move Immediate,NA,NA
) instructions rather than ,NA,NA
SUB,NA,NA
" instructions for this job, but that would have ",NA,NA
required 4 instruction bytes rather than 2. The register pair HL will hold the result of the ,NA,NA
multiplication when the subroutine is completed.,NA,NA
Next the subroutine moves the contents of register B (the multiplier) into A and checks if it's ,NA,NA
"0. If it's 0, the multiplication subroutine is complete because the product is 0. Since registers ",NA,NA
"H and L are already 0, the subroutine can just use the ",NA,NA
JZ,NA,NA
 (,NA,NA
Jump If Zero,NA,NA
) instruction to skip to ,NA,NA
the two ,NA,NA
POP ,NA,NA
instructions at the end.,NA,NA
"Otherwise, the subroutine sets register B to 0. Now the register pair BC contains a 16-bit ",NA,NA
multiplicand and A contains the multiplier. The ,NA,NA
DAD,NA,NA
 instruction adds BC (the multiplicand) to ,NA,NA
"HL (the result). The multiplier in A is decremented and, as long as it's not 0, the ",NA,NA
JNZ,NA,NA
 (,NA,NA
Jump If ,NA,NA
Not Zero,NA,NA
) instruction causes BC to be added to HL again. This little loop will continue until BC ,NA,NA
is added to HL a number of times equal to the multiplier. (It's possible to write a more efficient ,NA,NA
multiplication,NA,NA
subroutine using the 8080 shift instructions.),NA,NA
A program that wishes to make use of this subroutine to multiply (for example) 25h by 12h ,NA,NA
uses the following code:,"MVI 
 B,25h 
  
 MVI 
 C,12h 
  
 CALL Multiply",NA
The ,NA,NA
CALL,NA,NA
 instruction saves the value of the Program Counter on the stack. The value saved on ,NA,NA
the stack is the address of the next instruction ,NA,NA
after,NA,NA
 the ,NA,NA
CALL,NA,NA
 instruction. Then the ,NA,NA
CALL,NA,NA
 ,NA,NA
instruction causes a jump to the instruction identified by the label ,NA,NA
Multiply,NA,NA
. That's the ,NA,NA
"beginning of the subroutine. When the subroutine has calculated the product, it executes a ",NA,NA
RET,NA,NA
 (,NA,NA
Return,NA,NA
") instruction, which causes the Program Counter to be popped from the stack. ",NA,NA
The program continues with the next statement after the ,NA,NA
CALL,NA,NA
 instruction.,NA,NA
The 8080 instruction set includes conditional ,NA,NA
Call,NA,NA
 instructions and conditional ,NA,NA
Return,NA,NA
 ,NA,NA
"instructions, but these are used much less than the conditional ",NA,NA
Jump,NA,NA
 instructions. The ,NA,NA
complete array of these instructions is shown in the following table:,"Condition
  
 Opcode 
  
 Instruction
  
  Opcode 
  
 Instruction
  
 Opcode 
  
 Instruction
  
 None
  
 C9
  
 RET
  
 C3
  
 JMP aaaa
  
 CD
  
 CALL aaaa
  
 Z not set
  
 C0
  
 RNZ
  
 C2
  
 JNZ aaaa
  
 C4
  
 CNZ aaaa
  
 Z set
  
 C8
  
 RZ
  
 CA
  
 JZ aaaa
  
 CC
  
 CZ aaaa
  
 C not set
  
 D0
  
 RNC
  
 D2
  
 JNC aaaa
  
 D4
  
 CNC aaaa
  
 C set
  
 D8
  
 RC
  
 DA
  
 JC aaaa
  
 DC
  
 CC aaaa
  
 Odd parity
  
 E0
  
 RPO
  
 E2
  
 JPO aaaa
  
 E4
  
 CPO aaaa
  
 Even parity
  
  E8
  
 RPE
  
 EA
  
 JPE aaaa
  
 EC
  
 CPE aaaa
  
 S not set
  
 F0
  
 RP
  
 F2
  
 JP aaaa
  
 F4
  
 CP aaaa
  
 S set
  
 F8
  
 RM
  
 FA
  
 JM aaaa
  
 FC
  
 CM aaaa",NA
"As you probably know, memory isn't the only thing connected to a microprocessor. A ",NA,NA
computer system usually requires input and output (I/O) devices that make it easier for ,NA,NA
humans to communicate with the machine. These input devices usually include a keyboard ,NA,NA
and a video display.,NA,NA
How does the microprocessor communicate with these ,NA,NA
peripherals,NA,NA
 (as anything connected to ,NA,NA
a microprocessor that isn't memory is called)? Peripherals are built so that they have an ,NA,NA
interface similar to memory. A microprocessor can write into and read from a peripheral by ,NA,NA
"specifying certain addresses that the peripheral responds to. In some microprocessors, ",NA,NA
peripherals actually replace some addresses that would normally be used to address ,NA,NA
memory. This configuration is known as ,NA,NA
memory-mapped I/O,NA,NA
". In the 8080, however, 256 ",NA,NA
"additional addresses beyond the normal 65,536 are specifically reserved for input and output ",NA,NA
devices. These are known as I/O ,NA,NA
ports,NA,NA
. The I/O address signals are A,0,NA
 through A,7,NA
", but I/O ",NA,NA
accesses are distinguished from memory accesses through signals latched by the 8228 ,NA,NA
System Controller chip.,NA,NA
The ,NA,NA
OUT,NA,NA
 instruction writes the contents of the accumulator to a port addressed by the ,NA,NA
byte that follows the instruction. The ,NA,NA
IN,NA,NA
 instruction reads a byte into the accumulator.,"Opcode 
  
 Instruction
  
 D3
  
 OUT pp
  
 DB
  
 IN pp",NA
"Peripherals sometimes need to get the attention of the microprocessor. For example, when ",NA,NA
"you press a key on a keyboard, it's usually helpful if the microprocessor knows about this ",NA,NA
event right away. This is a accomplished by a mechanism called an ,NA,NA
interrupt,NA,NA
", which is a signal ",NA,NA
connected from the peripheral to the INT input of the 8080.,NA,NA
"When the 8080 is reset, however, it doesn't respond to interrupts. A program must execute ",NA,NA
the ,NA,NA
EI ,NA,NA
(,NA,NA
Enable Interrupts,NA,NA
) instruction to enable interrupts and can later execute ,NA,NA
DI,NA,NA
 (,NA,NA
Disable ,NA,NA
Interrupts,NA,NA
) to disable them:,"Opcode 
  
 Instruction
  
 F3
  
 DI
  
 FB
  
 EI",NA
The INTE output signal from the 8080 indicates when interrupts have been enabled. When a ,NA,NA
"peripheral needs to interrupt the microprocessor, it sets the INT input of the 8080 to 1. The ",NA,NA
"8080 responds to that by fetching an instruction from memory, but control signals indicate ",NA,NA
that an interrupt is occurring. The peripheral usually responds by supplying one of the ,NA,NA
following instructions to the 8080:,"Opcode 
  
 Instruction
  
  Opcode 
  
 Instruction
  
 C7
  
 RST 0
  
 E7
  
 RST 4
  
 CF
  
 RST 1
  
 EF
  
 RST 5
  
 D7
  
 RST 2
  
 F7
  
 RST 6
  
 DF
  
 RST 3
  
 FF
  
 RST 7",NA
These are called ,NA,NA
Restart,NA,NA
" instructions, and they're similar to ",NA,NA
Call,NA,NA
 instructions in that the ,NA,NA
current Program Counter is saved on the stack. But the Restart instructions then jump to ,NA,NA
specific locations: ,NA,NA
RST 0,NA,NA
" jumps to address 0000h, ",NA,NA
RST 1,NA,NA
" to address 0008h, and so forth, up to ",NA,NA
RST 7,NA,NA
", which jumps to address 0038h. Located at these addresses are sections of code that ",NA,NA
"deal with the interrupt. For example, an interrupt from the keyboard might cause a ",NA,NA
RST 4,NA,NA
 ,NA,NA
instruction to be executed. At address 0020h begins some code to read a byte from the ,NA,NA
keyboard. (I'll explain this more fully in ,NA,NA
Chapter 21,NA,NA
.),NA,NA
So far I've described 243 opcodes. The 12 bytes that aren't associated with any opcodes are ,NA,NA
"08h, 10h, 18h, 20h, 28h, 30h, 38h, CBh, D9h, DDh, EDh, and FDh. That brings the total to 255. ",NA,NA
"There's one more opcode I need to mention, and that's this one:",NA,NA
NOP,NA,NA
 stands for (and is pronounced) ,NA,NA
no op,NA,NA
", as in ",NA,NA
no operation,NA,NA
. The ,NA,NA
NOP,NA,NA
 causes the processor ,NA,NA
to do absolutely nothing. What's it good for? Filling space. The 8080 can usually execute a ,NA,NA
bunch of ,NA,NA
NOP ,NA,NA
instructions without anything bad happening.,NA,NA
I won't go into nearly as much detail discussing the Motorola 6800 because many of the ,NA,NA
aspects of its design and functionality are quite similar to those of the 8080. Here are the 40 ,NA,NA
pins of the 6800:,NA,NA
The V,SS,NA
" indicates Ground, and V",CC,NA
" is 5 volts. Like the 8080, the 6800 has 16 output Address ",NA,NA
signals,NA,NA
and 8 Data signals used for both input and output. There's a RESET signal and a R/,NA,NA
 ,NA,NA
(read/write),NA,NA
signal. The ,NA,NA
 signal stands for ,NA,NA
interrupt request,NA,NA
. The signal timing of the 6800 is considered ,NA,NA
to be much simpler than that of the 8080. What the 6800 doesn't have is the concept of I/O ,NA,NA
ports. All input and output devices must be part of the 6800 memory address space.,NA,NA
"The 6800 has a 16-bit Program Counter, a 16-bit Stack Pointer, an 8-bit Status Register (for ",NA,NA
"flags), and two 8-bit accumulators called A and B. These are both considered accumulators ",NA,NA
(rather than B being considered just a register) because there is nothing that you can do with ,NA,NA
"A that you can't also do with B. There are no additional 8-bit registers, however.",NA,NA
The 6800 instead has a 16-bit ,NA,NA
index register,NA,NA
" that can be used to hold a 16-bit address, much ",NA,NA
"like the register pair HL is used in the 8080. For many instructions, an address can be formed ",NA,NA
from the sum of the index register and the byte that follows the opcode.,NA,NA
"While the 6800 does just about the same operations as the 8080—loading, storing, adding, ",NA,NA
"subtracting, shifting, jumping, calling—it should be obvious that the opcodes and the ",NA,NA
"mnemonics are completely different. Here, for example, are the 6800 ",NA,NA
Branch,NA,NA
 instructions:,"Opcode 
  
 Instruction
  
  Meaning
  
 20h
  
 BRA
  
 Branch
  
 22h
  
 BHI
  
 Branch If Higher
  
 23h
  
 BLS
  
 Branch If Lower or Same
  
 24h
  
 BCC
  
 Branch If Carry Clear
  
 25h
  
 BCS
  
 Branch If Carry Set
  
 26h
  
 BNE
  
 Branch If Not Equal
  
 27h
  
 BEQ
  
 Branch If Equal
  
 28h
  
 BVC
  
 Branch If Overflow Clear
  
 29h
  
 BVS
  
 Branch If Overflow Set
  
 2Ah
  
 BPL
  
 Branch If Plus
  
 2Bh
  
 BMI
  
 Branch If Minus
  
 2Ch
  
 BGE
  
 Branch If Greater than or Equal to 
 Zero
  
 2Dh
  
 BLT
  
 Branch If Less than Zero
  
 2Eh
  
 BGT
  
 Branch If Greater than Zero
  
 2Fh
  
 BLE
  
 Branch If Less than or Equal to Zero",NA
"The 6800 doesn't have a Parity flag like the 8080, but it does have a flag the 8080 doesn't ",NA,NA
have—an Overflow flag. Some of these ,NA,NA
Branch,NA,NA
 instructions depend on ,NA,NA
combinations,NA,NA
 of flags.,NA,NA
Of ,NA,NA
course,NA,NA
 the 8080 and 6800 instructions sets are different. The two chips were designed ,NA,NA
about the same time by two different groups of engineers at two different companies. What ,NA,NA
this incompatibility means is that neither chip can execute the other chip's machine codes. ,NA,NA
Nor can an assembly-language program written for one chip be translated into opcodes that ,NA,NA
run on the other chip. Writing computer programs that run on more than one processor is ,NA,NA
the subject of ,NA,NA
Chapter 24,NA,NA
.,NA,NA
Here's another interesting difference between the 8080 and the 6800: In both ,NA,NA
"microprocessors, the instruction ",NA,NA
LDA,NA,NA
 loads the accumulator from a specified memory ,NA,NA
"address. In the 8080, for example, the following sequence of bytes:",NA,NA
will load the accumulator with the byte stored at memory address 347Bh. Now compare that ,NA,NA
with the 6800 ,NA,NA
LDA,NA,NA
 instruction using the so-called 6800 extended addressing mode:,NA,NA
This sequence of bytes loads accumulator A with the byte stored at memory address 7B34h.,NA,NA
"The difference is subtle. You expect the opcode to be different, of course: 3Ah for the 8080 and ",NA,NA
B6h for the 6800. But the two microprocessors treat the address that follows the opcode ,NA,NA
"differently. The 8080 assumes that the low-order byte comes first, followed by the high-order ",NA,NA
byte. The 6800 assumes that the high-order byte comes first!,NA,NA
This fundamental difference in how Intel and Motorola microprocessors store multibyte ,NA,NA
values ,NA,NA
has never been resolved,NA,NA
". To this very day, Intel microprocessors continue to store ",NA,NA
"multibyte values with the least-significant byte first (that is, at the lowest memory address), ",NA,NA
and Motorola microprocessors store multibyte values with the most-significant byte first.,NA,NA
These two methods are known as ,NA,NA
little-endian,NA,NA
 (the Intel way) and ,NA,NA
big-endian,NA,NA
 (the Motorola ,NA,NA
"way). It might be fun to argue over which method is better, but before you do so, be aware ",NA,NA
that the term ,NA,NA
Big-Endian,NA,NA
 comes from Jonathan Swift's ,NA,NA
Gulliver's Travels,NA,NA
 and refers to the war ,NA,NA
between Lilliput and Blefuscu over which end of an egg to break before eating it. Such an ,NA,NA
argument is probably ,NA,NA
"purposeless. (On the other hand, I feel obliged to confess that the approach I used in the ",NA,NA
Chapter 17 ,NA,NA
computer wasn't the one I personally prefer!) Despite neither method being ,NA,NA
"intrinsically ""right,"" the difference does create an additional incompatibility problem when ",NA,NA
sharing information between systems based on little-endian and big-endian machines.,NA,NA
What became of these two microprocessors? The 8080 was used in what some people have ,NA,NA
called the first personal computer but which is probably more accurately the first ,NA,NA
home,NA,NA
 ,NA,NA
"computer. This is the Altair 8800, which appeared on the cover of the January 1975 issue of ",NA,NA
Popular Electronics,NA,NA
.,NA,NA
"When you look at the Altair 8800, the lights and switches on the front panel should seem ",NA,NA
"familiar. This is the same type of primitive ""control panel"" interface that I proposed for the 64-",NA,NA
KB RAM array in ,NA,NA
Chapter 16,NA,NA
.,NA,NA
"The 8080 was followed by the Intel 8085 and, more significantly, by the Z-80 chip made by ",NA,NA
"Zilog, a rival of Intel founded by former Intel employee Federico Faggin, who had done ",NA,NA
important work on the 4004. The Z-80 was entirely compatible with the 8080 but added many ,NA,NA
"more very useful instructions. In 1977, the Z-80 was used in the Radio Shack TRS-80 Model 1.",NA,NA
"Also in 1977, the Apple Computer Company, founded by Steven Jobs and Stephen Wozniak, ",NA,NA
"introduced the Apple II. The Apple II, however, used neither the 8080 nor the 6800 but ",NA,NA
"instead used MOS Technology's less expensive 6502 chip, which was an enhancement of the ",NA,NA
6800.,NA,NA
"In June 1978, Intel introduced the 8086, which was a 16-bit microprocessor that could access ",NA,NA
"1 megabyte of memory. The 8086 opcodes weren't compatible with the 8080, but I should ",NA,NA
"note that they included instructions to multiply and divide. A year later, Intel introduced the ",NA,NA
"8088, which internally was identical to the 8086 but externally accessed memory in bytes, ",NA,NA
thus allowing the microprocessor to use the more-prevalent 8-bit support chips designed for ,NA,NA
the 8080. IBM used the 8088 chip in its 5150 Personal Computer—commonly called the IBM ,NA,NA
PC—introduced in the fall of 1981.,NA,NA
"IBM's entrance into the personal computer market had a great impact, with many companies ",NA,NA
releasing machines that were compatible with the PC. (What it means to be compatible will be ,NA,NA
"explored more in subsequent chapters.) Over the years ""IBM PC compatible"" has also implied ",NA,NA
"""Intel inside,"" specifically Intel microprocessors of the so-called x86 family. The x86 family ",NA,NA
"continued in 1982 with the 186 and 286 chips, in 1985 with the 32-bit 386 chip, in 1989 with ",NA,NA
"the 486, and beginning in 1993, with the Intel Pentium line of microprocessors that are ",NA,NA
currently used in PC compatibles. While these Intel microprocessors have ever-increasing ,NA,NA
"instruction sets, they continue to support the opcodes of",NA,NA
all earlier processors starting with the 8086.,NA,NA
"The Apple Macintosh, first introduced in 1984, used the Motorola 68000, a 16-bit ",NA,NA
microprocessor that's a direct descendant of the 6800. The 68000 and its descendants ,NA,NA
(often called the 68K series) are some of the most beloved microprocessors ever made.,NA,NA
"Since 1994, Macintosh computers have used the PowerPC microprocessor that was ",NA,NA
"developed in a coalition of Motorola, IBM, and Apple. The PowerPC was designed with a ",NA,NA
"type of microprocessor architecture known as RISC (Reduced Instruction Set Computing), ",NA,NA
which attempts to increase the speed of the processor by simplifying it in some respects. In ,NA,NA
"a RISC computer, generally each instruction is the same length (32 bits on the PowerPC), ",NA,NA
"memory accesses are restricted to just load and store instructions, and instructions do ",NA,NA
simple operations rather than complex ones. RISC processors usually have plenty of ,NA,NA
registers to avoid frequent accesses of memory.,NA,NA
The PowerPC can't execute 68K code because it has a whole different instruction set. But the ,NA,NA
PowerPC microprocessors currently used in the Apple Macintoshes can ,NA,NA
emulate,NA,NA
 the 68K. An ,NA,NA
"emulator program running on the PowerPC examines each opcode of a 68K program, one by ",NA,NA
"one, and performs an appropriate action. It's not as fast as native PowerPC code, but it works.",NA,NA
"According to Moore's Law, the number of transistors in microprocessors should double ",NA,NA
every 18 months. What are those many additional transistors used for?,NA,NA
"Some of the transistors accommodate the increase in processor data width, from 4 bits to 8 ",NA,NA
bits to 16 bits to 32 bits. Another part of the increase is due to new instructions. Most ,NA,NA
microprocessors these days have instructions to do floating-point arithmetic (as I'll explain in ,NA,NA
Chapter 23,NA,NA
); new instructions have also been added to microprocessors to do some of the ,NA,NA
repetitive calculations required to display pictures or movies on computer screens.,NA,NA
Modern processors use several techniques to help improve their speed. One is pipelining. ,NA,NA
"When the processor is executing one instruction, it's reading in the next instructions, even to ",NA,NA
a certain extent anticipating how ,NA,NA
Jump,NA,NA
 instructions will alter the execution flow. Modern ,NA,NA
processors also include a cache (pronounced ,NA,NA
cash,NA,NA
). This is an array of very fast RAM inside ,NA,NA
the processor that is used to store recently executed instructions. Because computer ,NA,NA
"programs often execute small loops of instructions, the cache prevents these instructions ",NA,NA
from being repetitively reloaded. All these speed-improving features require more logic and ,NA,NA
more transistors in the microprocessor.,NA,NA
"As I mentioned earlier, the microprocessor is only one part (although the most important ",NA,NA
part) of a complete computer system. We'll build such a system in ,NA,NA
Chapter 21,NA,NA
", but first we ",NA,NA
must learn how to encode something else in memory besides opcodes and numbers. We ,NA,NA
must go back to first grade and learn again how to read and write text.,NA,NA
Chapter 20. ASCII and a Cast of Characters,NA,NA
"Digital computer memory stores only bits, so anything that we want to work with on the ",NA,NA
computer must be stored in the form of bits. We've already seen how bits can represent ,NA,NA
"numbers and machine code. The next challenge must be text. After all, the great bulk of the ",NA,NA
"accumulated information of this world is in the form of text, and our libraries are full of ",NA,NA
books and magazines and newspapers. Although we'd eventually like to use our computers ,NA,NA
"to store sounds and pictures and movies, text is a much easier place to begin.",NA,NA
"To represent text in digital form, we must develop some kind of system in which each letter ",NA,NA
"corresponds to a unique code. Numbers and punctuation also occur in text, so codes for these ",NA,NA
"must be developed as well. In short, we need codes for all ",NA,NA
alphanumeric,NA,NA
 characters. Such a ,NA,NA
system is sometimes known as a ,NA,NA
coded character set,NA,NA
", and the individual codes are known as ",NA,NA
character codes,NA,NA
.,NA,NA
The first question must be: How many bits do we need for these codes? The answer isn't an ,NA,NA
easy one!,NA,NA
"When we think about representing text using bits, let's not get too far ahead of ourselves. ",NA,NA
We're accustomed to seeing text nicely formatted on the pages of a book or in the columns of a ,NA,NA
magazine or newspaper. Paragraphs are neatly separated into lines of a consistent width. Yet ,NA,NA
this formatting isn't essential to the text itself. When we read a short story in a magazine and ,NA,NA
"years later encounter that same story in a book, we don't think the story has changed just ",NA,NA
because the text column is wider in the book than in the magazine.,NA,NA
"In other words, don't think about text as formatted into two-dimensional columns on the ",NA,NA
"printed page. Think of text instead as a one-dimensional stream of letters, numbers, and ",NA,NA
"punctuation marks, with perhaps an additional code to indicate the end of one paragraph ",NA,NA
and the start of another.,NA,NA
"Again, if you read a story in a magazine and later see it in a book and the typeface is a little ",NA,NA
"different, is that a big deal? If the magazine version begins",Call me Ishmael.,NA
and the book version begins,Call me Ishmael.,NA
"is that something we really want to be concerned with just yet? Probably not. Yes, the typeface ",NA,NA
"subtly affects the tone of the text, but the story hasn't been lost with the change of typeface. ",NA,NA
The typeface can always be changed back. There's no harm done.,NA,NA
Here's another way we're going to simplify the problem: Let's stick to plain vanilla text. No ,NA,NA
"italics, no boldface, no underlining, no colors, no outlined letters, no subscripts, no ",NA,NA
superscripts. And no accent marks. No Å or é or ñ or ö. Just the naked Latin alphabet as it's ,NA,NA
used in 99 percent of English.,NA,NA
"In our earlier studies of Morse code and Braille, we've already seen how the letters of the ",NA,NA
alphabet can be represented in a binary form. Although these systems are fine for their ,NA,NA
"specific purposes, both have their failings when it comes to computers. Morse code, for ",NA,NA
"example, is a ",NA,NA
variable-width,NA,NA
 code: It uses shorter codes for frequently used letters and longer ,NA,NA
"codes for less common ones. Such a code is suitable for telegraphy, but it might be awkward ",NA,NA
"for computers. In addition, Morse code doesn't differentiate between uppercase and ",NA,NA
lowercase versions of letters.,NA,NA
"Braille is a fixed-width code, which is much preferable for computers. Every letter is ",NA,NA
represented by,NA,NA
"6 bits. Braille also differentiates between uppercase and lowercase letters, although it does ",NA,NA
so with the use of a special ,NA,NA
escape,NA,NA
 code. This code indicates that the next character is ,NA,NA
uppercase. What this really means is that every capital letter requires two codes rather than ,NA,NA
one. Numbers are represented with a ,NA,NA
shift,NA,NA
" code: After that special code, the codes that follow ",NA,NA
are assumed to represent numbers until another shift code signals the return to letters.,NA,NA
Our goal here is to develop a coded character set so that a sentence such as,"I have 27 sisters
 .",NA
"can be represented by a series of codes, each of which is a certain number of bits. Some of the ",NA,NA
"codes will represent letters, some will representation punctuation marks, and some will ",NA,NA
represent numbers. There should even be a code that represents the space between words. ,NA,NA
There are 18 characters in that sentence (including the spaces between the words). The ,NA,NA
consecutive character codes for such a sentence are often referred to as a text ,NA,NA
string,NA,NA
.,NA,NA
That we need codes for numbers in a text string such as ,NA,NA
27,NA,NA
 might seem odd because we've ,NA,NA
been using bits to represent numbers for many chapters now. We may be tempted to assume ,NA,NA
that the codes for the ,NA,NA
2,NA,NA
 and ,NA,NA
7,NA,NA
 in this sentence are simply the binary numbers ,NA,NA
10,NA,NA
 and ,NA,NA
111,NA,NA
. But ,NA,NA
"that's not necessarily the case. In the context of a sentence such as this, the characters ",NA,NA
2,NA,NA
 and ,NA,NA
7,NA,NA
 ,NA,NA
can be treated like any other character found in written English. They can have character ,NA,NA
codes that are completely unrelated to the actual values of the numbers.,NA,NA
Perhaps the most economical code for text is a 5-bit code that originated in an 1874 printing ,NA,NA
telegraph developed by Emile Baudot (pronounced ,NA,NA
bawdoh,NA,NA
"), an officer in the French ",NA,NA
Telegraph Service; his code was adopted by the Service in 1877. This code was later modified ,NA,NA
by Donald Murray and standardized in 1931 by the ,NA,NA
Comité Consultatif International ,NA,NA
Télégraphique et Téléphonique ,NA,NA
"(CCITT), which is now known as the International ",NA,NA
Telecommunication Union (ITU). The code is formally known as the International Telegraph ,NA,NA
"Alphabet No. 2, or ITA-2, and it's more popularly known in the United States as Baudot, ",NA,NA
although it's more correctly called the Murray code.,NA,NA
"In the twentieth century, Baudot was often used in ",NA,NA
teletypewriters,NA,NA
. A Baudot teletypewriter ,NA,NA
"has a keyboard that looks something like a typewriter, except that it has only 30 keys and a ",NA,NA
spacebar. Teletypewriter keys are actually switches that cause a binary code to be generated ,NA,NA
"and sent down the teletypewriter's output cable, one bit after the other. A teletypewriter also ",NA,NA
contains a printing mechanism. Codes coming through the teletypewriter's input cable ,NA,NA
trigger electromagnets that print characters on paper.,NA,NA
"Because Baudot is a 5-bit code, there are only 32 codes. The hexadecimal values of these ",NA,NA
codes range from 00h through 1Fh. Here's how the 32 available codes correspond to the ,NA,NA
letters of the alphabet:,"Hex Code 
  
 Baudot Letter
  
 Hex Code 
  
 Baudot Letter
  
 00
  
  
 10
  
 E
  
 01
  
 T
  
 11
  
 Z
  
 02
  
 Carriage Return
  
  
 12
  
 D
  
 03
  
 O
  
 13
  
 B",NA
"Code 00h isn't assigned to anything. Of the remaining 31 codes, 26 are assigned to ",NA,NA
letters of the alphabet and the other five are indicated by italicized words or phrases in ,NA,NA
the table.,NA,NA
"Code 04h is the Space code, which is used for the space separating words. Codes 02h and 08h ",NA,NA
are labeled Carriage Return and Line Feed. This terminology comes from the typewriter. ,NA,NA
"When you're typing on a typewriter and reach the end of a line, you push a lever or button ",NA,NA
"that does two things. First, it causes the carriage to be moved to the right so that the next line ",NA,NA
"begins at the left side of the paper. That's a carriage return. Second, the typewriter rolls the ",NA,NA
carriage so that the next line is underneath the line you just finished. That's the linefeed. In ,NA,NA
"Baudot, separate keyboard keys generate these two codes. A Baudot teletypewriter printer ",NA,NA
responds to these two codes when printing.,NA,NA
Where are the numbers and punctuation marks in the Baudot system? That's the purpose of ,NA,NA
"code 1Bh, identified in the table as Figure Shift. After the Figure Shift code, all subsequent ",NA,NA
codes are interpreted as numbers or punctuation marks until the Letter Shift code (1Fh) ,NA,NA
causes them to revert to the letters.,NA,NA
Here are the codes for the numbers and punctuation:,"Hex Code 
  
 Baudot Figure 
  
 Hex Code 
  
 Baudot Figure
  
 00
  
  
 10
  
 3
  
 01
  
 5
  
 11
  
 +
  
 02
  
 Carriage Return
  
  
 12
  
 Who Are You?
  
 03
  
 9
  
 13
  
 ?
  
 04
  
 Space
  
 14
  
 '",NA
"Actually, the code as formalized by the ITU doesn't define codes 05h, 0Bh, and 16h, and ",NA,NA
"instead reserves them ""for national use."" The table shows how these codes were used in the ",NA,NA
United States. The same codes were often used for accented letters of some European ,NA,NA
languages. The ,NA,NA
Bell,NA,NA
" code is supposed to ring an audible bell on the teletypewriter. The ""Who ",NA,NA
"Are You?"" code activates a mechanism whereby a teletypewriter can identify itself.",NA,NA
"Like Morse code, this 5-bit code doesn't differentiate between uppercase and ",NA,NA
lowercase. The sentence,"I SPENT $25 TODAY
 .",NA
is represented by the following stream of hexadecimal data:,0C 04 14 0D 10 06 01 04 1B 16 19 01 1F 04 01 03 12 18 15 1B 07 02 08,NA
"Notice the three shift codes: 1Bh right before the number, 1Fh after the number, and 1Bh ",NA,NA
again before the final period. The line concludes with carriage-return and linefeed codes.,NA,NA
"Unfortunately, if you sent this stream of data to a teletypewriter printer twice in a row, it ",NA,NA
would come out like this:,"I SPENT $25 TODAY
 .
  
 8 '03,5 $25 TODAY
 .",NA
What happened? The last shift code the printer received before the second line was a ,NA,NA
"Figure Shift code, so the codes at the beginning of the second line were interpreted as ",NA,NA
numbers.,NA,NA
Problems like this are typical nasty results of using shift codes. Although Baudot is certainly ,NA,NA
"an economical code, it's probably preferable to use unique codes for numbers and ",NA,NA
"punctuation, as well as separate codes for lowercase and uppercase letters.",NA,NA
So if we want to figure out how many bits we need for a ,NA,NA
better,NA,NA
 character encoding system ,NA,NA
"than Baudot, just add them up: We need 52 codes just for the uppercase and lowercase letters ",NA,NA
and 10 codes for the digits 0 through 9. We're up to 62 already. Throw in a few punctuation ,NA,NA
"marks, and we top 64 codes, which means we need more than 6 bits. But we seem to have lots ",NA,NA
"of leeway before we exceed 128 characters, which would require 8 bits.",NA,NA
So the answer is 7. We need 7 bits to represent the characters of English text if we want ,NA,NA
uppercase and lowercase with no shifting.,NA,NA
"And what are these codes? Well, the actual codes can be anything we want. If we were going ",NA,NA
"to build our own computer, and we were going to build every piece of hardware required by ",NA,NA
"this computer, and we were going to program this computer ourselves and never use the ",NA,NA
"computer to connect to any other computer, we could make up our own codes. All we need do ",NA,NA
is assign every character we'll be using a unique code.,NA,NA
"But since it's rarely the case that computers are built and used in isolation, it makes more ",NA,NA
"sense for everyone to agree to use the same codes. That way, the computers that we build ",NA,NA
can be more compatible with one another and maybe even actually exchange textual ,NA,NA
information.,NA,NA
"We also probably shouldn't assign codes in a haphazard manner. For example, when we work ",NA,NA
"with text on the computer, certain advantages accrue if the letters of the alphabet are ",NA,NA
"assigned to sequential codes. This ordering scheme makes alphabetizing and sorting easier, ",NA,NA
for example.,NA,NA
"Fortunately, such a standard has already been developed. It's called the ",NA,NA
American Standard ,NA,NA
Code for Information Interchange,NA,NA
", abbreviated ASCII, and referred to with the unlikely ",NA,NA
pronunciation ,NA,NA
ASS-key,NA,NA
. It was formalized in 1967 and remains the single most important ,NA,NA
"standard in the entire computer industry. With one big exception (which I'll describe later), ",NA,NA
whenever you deal with text on a computer you can be sure that ASCII is involved in some ,NA,NA
way.,NA,NA
"ASCII is a 7-bit code using binary codes 0000000 through 1111111, which are hexadecimal ",NA,NA
"codes 00h through 7Fh. Let's take a look at the ASCII codes, but let's not start at the very ",NA,NA
beginning because the first 32 codes are conceptually a bit more difficult than the rest of the ,NA,NA
"codes. I'll begin with the second batch of 32 codes, which includes punctuation and the ten ",NA,NA
numeric digits. This table shows the hexadecimal code and the character that corresponds to ,NA,NA
that code:,"Hex Code 
  
 ASCII Character 
  
 Hex Code 
  
 ASCII Character
  
 20
  
 Space
  
 30
  
 0
  
 21
  
 !
  
 31
  
 1
  
 22
  
 ""
  
 32
  
 2
  
 23
  
 #
  
 33
  
 3
  
 24
  
 $
  
 34
  
 4
  
 25
  
 %
  
 35
  
 5
  
 26
  
 &
  
 36
  
 6
  
 27
  
 '
  
 37
  
 7
  
 28
  
 (
  
 38
  
 8
  
 29
  
 )
  
 39
  
 9
  
 2A
  
 *
  
 3A
  
 :",NA
Notice that 20h is the space character that divides words and sentences.,NA,NA
The next 32 codes include the uppercase letters and some additional punctuation. Aside ,NA,NA
"from the @ sign and the underscore, these punctuation symbols aren't normally found on ",NA,NA
typewriters. They're all now standard on computer keyboards.,"Hex Code 
  
 ASCII Character 
  
 Hex Code 
  
 ASCII Character
  
 40
  
 @
  
 50
  
 P
  
 41
  
 A
  
 51
  
 Q
  
 42
  
 B
  
 52
  
 R
  
 43
  
 C
  
 53
  
 S
  
 44
  
 D
  
 54
  
 T
  
 45
  
 E
  
 55
  
 U
  
 46
  
 F
  
 56
  
 V
  
 47
  
 G
  
 57
  
 W
  
 48
  
 H
  
 58
  
 X
  
 49
  
 I
  
 59
  
 Y
  
 4A
  
 J
  
 5A
  
 Z
  
 4B
  
 K
  
 5B
  
 [
  
 4C
  
 L
  
 5C
  
 \
  
 4D
  
 M
  
 5D
  
 ]
  
 4E
  
 N
  
 5E
  
 ^
  
 4F
  
 O
  
 5F
  
 _",NA
"The next 32 characters include all the lowercase letters and some additional punctuation, ",NA,NA
again not often found on typewriters:,"Hex Code 
  
 ASCII Character 
  
 Hex Code 
  
 ASCII Character
  
 60
  
 `
  
 70
  
 p
  
 61
  
 a
  
 71
  
 q
  
 62
  
 b
  
 72
  
 r
  
 63
  
 c
  
 73
  
 s
  
 64
  
 d
  
 74
  
 t",NA
Notice that this table is missing the last character corresponding to code 7Fh. If you're ,NA,NA
"keeping count, the three tables here show a total of 95 characters. Because ASCII is a 7-bit ",NA,NA
"code, 128 codes are possible, so 33 more codes should be available. I'll get to those shortly.",NA,NA
The text string,"Hello, you
 !",NA
can be represented in ASCII using the hexadecimal codes,48 65 6C 6C 6F 2C 20 79 6F 75 21,NA
"Notice the comma (code 2C), the space (code 20) and the exclamation point (code 21) as well ",NA,NA
as the codes for the letters. Here's another short sentence:,"I am 12 years old
 .",NA
and its ASCII representation:,49 20 61 6D 20 31 32 20 79 65 61 72 73 20 6F 6C 64 2E,NA
Notice that the number 12 in this sentence is represented by the hexadecimal numbers 31h ,NA,NA
"and 32h, which are the ASCII codes for the digits 1 and 2. When the number 12 is part of a ",NA,NA
"text stream, it should ",NA,NA
not,NA,NA
" be represented by the hexadecimal codes 01h and 02h, or the ",NA,NA
"BCD code 12h, or the hexadecimal code 0Ch. These other codes all mean something else in ",NA,NA
ASCII.,NA,NA
A particular uppercase letter in ASCII differs from its lowercase counterpart by 20h. This fact ,NA,NA
makes it fairly easy to write some code that (for example) capitalizes a string of text. Suppose ,NA,NA
"a certain area of memory contains a text string, one character per byte. The following 8080 ",NA,NA
subroutine assumes that the address of the first character in the text string is stored in ,NA,NA
"register HL. Register C contains the length of that text string, which is the number of ",NA,NA
characters:,NA,NA
The statement that subtracts 20h from the lowercase letter to convert it to uppercase can be ,NA,NA
replaced with this:,"ANI A,DFh",NA
The ,NA,NA
ANI,NA,NA
 instruction is an ,NA,NA
AND Immediate,NA,NA
. It performs a bitwise AND operation between the ,NA,NA
"value in the accumulator and the value DFh, which is 11011111 in binary. By ",NA,NA
bitwise,NA,NA
", I mean ",NA,NA
that the instruction performs an AND operation between each pair of corresponding bits that ,NA,NA
make up the two numbers. This AND operation preserves all the bits in A except the third ,NA,NA
"from the left, which is set to 0. Setting that bit to 0 also effectively converts an ASCII ",NA,NA
lowercase letter to uppercase.,NA,NA
The 95 codes shown above are said to refer to ,NA,NA
graphic characters,NA,NA
 because they have a visual ,NA,NA
representation. ASCII also includes 33 ,NA,NA
control characters,NA,NA
 that have no visual representation ,NA,NA
"but instead perform certain functions. For the sake of completeness, here are the 33 ASCII ",NA,NA
"control characters, but don't worry if they seem mostly incomprehensible. At the time ASCII ",NA,NA
"was developed, it was intended mostly for teletypewriters, and many of these codes are ",NA,NA
currently obscure.,"Hex Code 
  
 Acronym
  
  Control Character Name
  
 00
  
 NUL
  
 Null (Nothing)
  
 01
  
 SOH
  
 Start of Heading
  
 02
  
 STX
  
 Start of Text
  
 03
  
 ETX
  
 End of Text
  
 04
  
 EOT
  
 End of Transmission
  
 05
  
 ENQ
  
 Enquiry (i.e., Inquiry)
  
 06
  
 ACK
  
 Acknowledge
  
 07
  
 BEL
  
 Bell
  
 08
  
 BS
  
 Backspace
  
 09
  
 HT
  
 Horizontal Tabulation",NA
The idea here is that control characters can be intermixed with graphic characters to do ,NA,NA
some rudimentary formatting of the text. This is easiest to understand if you think of a ,NA,NA
device—such as a teletypewriter or a simple printer—that types characters on a page in ,NA,NA
response to a stream of ASCII codes. The device's printing head normally responds to ,NA,NA
character codes by printing a character and moving one space to the right. The most ,NA,NA
important control characters alter this normal behavior.,NA,NA
"For example, consider the hexadecimal character string",41 09 42 09 43 09,NA
"The 09 character is a Horizontal Tabulation code, or ",NA,NA
Tab,NA,NA
 for short. If you think of all the ,NA,NA
"horizontal character positions on the printer page as being numbered starting with 0, the ",NA,NA
Tab,NA,NA
 ,NA,NA
code usually means to print the next character at the next horizontal position that's a multiple ,NA,NA
"of 8, like this:",A B C,NA
This is a handy way to keep text lined up in columns.,NA,NA
"Even today, many computer printers respond to a Form Feed code (12h) by ejecting the ",NA,NA
current page and starting a new page.,NA,NA
The Backspace code can be used for printing composite characters on some old printers. For ,NA,NA
"example, suppose the computer controlling the teletypewriter wanted to display a lowercase ",NA,NA
e,NA,NA
 ,NA,NA
"with a grave accent mark, like so: ",NA,NA
è,NA,NA
. This could be achieved by using the hexadecimal codes 65 ,NA,NA
08 60.,NA,NA
"By far the most important control codes are Carriage Return and Line Feed, which have the ",NA,NA
"same meaning as the similar Baudot codes. On a printer, the Carriage Return code moves the ",NA,NA
"printing head to the left side of the page, and the Line Feed code moves the printing head one ",NA,NA
line down. Both codes are generally required to go to a new line. A Carriage Return can be ,NA,NA
"used by itself to print over an existing line, and a Line Feed can be used by itself to skip to the ",NA,NA
next line without moving to the left margin.,NA,NA
"Although ASCII is the dominant standard in the computing world, it isn't used on many of ",NA,NA
"IBM's larger computer systems. In connection with the System/360, IBM developed its own ",NA,NA
8-bit character code known as the ,NA,NA
Extended BCD Interchange Code,NA,NA
", or EBCDIC (pronounced ",NA,NA
EBB-see-dick,NA,NA
"), which was an extension of an earlier 6-bit code known as BCDIC, which was ",NA,NA
derived from codes used on IBM punch cards. This style of punch card—capable of storing 80 ,NA,NA
characters of text—was introduced by IBM in 1928 and used for over 50 years.,NA,NA
When considering the relationship between punch cards and their associated 8-bit EBCDIC ,NA,NA
"character codes, keep in mind that these codes evolved over many decades under several ",NA,NA
"different types of technologies. For that reason, don't expect to discover too much logic or ",NA,NA
consistency.,NA,NA
A character is encoded on a punch card by a combination of one or more rectangular holes ,NA,NA
punched in a single column. The character itself is often printed near the top of the card. The ,NA,NA
"lower 10 rows are identified by number and are known as the 0-row, the 1-row, and so forth ",NA,NA
"through the 9-row. The unnumbered row above the 0-row is called the 11-row, and the top ",NA,NA
row is called the 12-row. There is no 10-row.,NA,NA
More IBM punch card terminology: Rows 0 through 9 are known as the ,NA,NA
digit rows,NA,NA
", or ",NA,NA
digit ,NA,NA
punches,NA,NA
. Rows 11 and 12 are known as the ,NA,NA
zone rows,NA,NA
", or ",NA,NA
zone punches,NA,NA
. And some IBM punch ,NA,NA
card confusion: Sometimes rows 0 and 9 are considered to be zone rows rather than digit ,NA,NA
rows.,NA,NA
An 8-bit EBCDIC character code is composed of a high-order nibble (4-bit value) and a low-,NA,NA
order nibble. The low-order nibble is the BCD code corresponding to the digit punches of the ,NA,NA
character. The high-order nibble is a code corresponding (in a fairly arbitrary way) to the ,NA,NA
zone punches of the character. You'll recall from ,NA,NA
Chapter 19,NA,NA
 that BCD stands for ,NA,NA
binarycoded ,NA,NA
decimal,NA,NA
—a 4-bit code for digits 0 through 9.,NA,NA
"For the digits 0 through 9, there are no zone punches. That lack of punches corresponds ",NA,NA
to a high-order nibble of 1111. The low-order nibble is the BCD code of the digit punch. ,NA,NA
Here's a table of EBCDIC codes for the digits 0 through 9:,"Hex Code 
  
 EBCDIC Character
  
 F0
  
 0
  
 F1
  
 1
  
 F2
  
 2
  
 F3
  
 3
  
 F4
  
 4
  
 F5
  
 5
  
 F6
  
 6
  
 F7
  
 7
  
 F8
  
 8
  
 F9
  
 9",NA
"For the uppercase letters, a zone punch of just the 12-row is indicated by the nibble 1100, ",NA,NA
"a zone punch of just the 11-row is indicated by the nibble 1101, and a zone punch of just ",NA,NA
the 0-row is indicated by the nibble 1110. The EBCDIC codes for the uppercase letters are,"Hex Code 
  
 EBCDIC Character 
  
 Hex Code 
  
 EBCDIC Character 
  
 Hex Code 
  
 EBCDIC Character
  
 C1
  
 A
  
 D1
  
 J
  
  
  
 C2
  
 B
  
 D2
  
 K
  
 E2
  
 S
  
 C3
  
 C
  
 D3
  
 L
  
 E3
  
 T
  
 C4
  
 D
  
 D4
  
 M
  
 E4
  
 U
  
 C5
  
 E
  
 D5
  
 N
  
 E5
  
 V
  
 C6
  
 F
  
 D6
  
 O
  
 E6
  
 W
  
 C7
  
 G
  
 D7
  
 P
  
 E7
  
 X
  
 C8
  
 H
  
 D8
  
 Q
  
 E8
  
 Y
  
 C9
  
 I
  
 D9
  
 R
  
 E9
  
 Z",NA
"Notice the gaps in the numbering of these codes. In some applications, these gaps can be ",NA,NA
maddening,NA,NA
when you're writing programs using EBCDIC text.,NA,NA
The lowercase letters have the same digit punches as the uppercase letters but different zone ,NA,NA
punches.,NA,NA
For lowercase letters ,NA,NA
a,NA,NA
 through ,NA,NA
i,NA,NA
", the 12-row and 0-row are punched, corresponding to the ",NA,NA
code 1000. For ,NA,NA
j,NA,NA
 through ,NA,NA
r,NA,NA
", the 12-row and 11-row are punched. This is the code 1001. For ",NA,NA
the letters ,NA,NA
s ,NA,NA
through ,NA,NA
z,NA,NA
", the 11-row and 0-row are punched—the code 1010. The EBCDIC codes ",NA,NA
for the lowercase letters are,"Hex Code 
  
 EBCDIC Character 
  
 Hex Code 
  
 EBCDIC Character 
  
 Hex Code 
  
 EBCDIC Character
  
 81
  
 a
  
 91
  
 j
  
  
  
 82
  
 b
  
 92
  
 k
  
 A2
  
 s
  
 83
  
 c
  
 93
  
 l
  
 A3
  
 t
  
 84
  
 d
  
 94
  
 m
  
 A4
  
 u
  
 85
  
 e
  
 95
  
 n
  
 A5
  
 v
  
 86
  
 f
  
 96
  
 o
  
 A6
  
 w
  
 87
  
 g
  
 97
  
 p
  
 A7
  
 x
  
 88
  
 h
  
 98
  
 q
  
 A8
  
 y
  
 89
  
 i
  
 99
  
 r
  
 A9
  
 z",NA
"Of course, there are other EBCDIC codes for punctuation and control characters, but it's ",NA,NA
hardly necessary to do a full-blown exploration of this system.,NA,NA
It might seem as if each column of an IBM punch card is sufficient to encode 12 bits of ,NA,NA
"information. Each hole is a bit, right? So it should be possible to encode ASCII character ",NA,NA
"codes on a punch card using only 7 of the 12 positions in each column. But in practice, this ",NA,NA
"doesn't work very well. Too many holes get punched, threatening the physical integrity of ",NA,NA
the card.,NA,NA
"Many of the 8-bit codes in EBCDIC aren't defined, suggesting that the use of 7 bits in ASCII ",NA,NA
"makes more sense. At the time ASCII was being developed, memory was very expensive. ",NA,NA
Some people felt that ASCII should be a 6-bit code using a shift character to differentiate ,NA,NA
"between lowercase and uppercase to conserve memory. Once that idea was rejected, others ",NA,NA
believed that ASCII should be an 8-bit code because even at that time it was considered more ,NA,NA
"likely that computers would have 8-bit architectures than 7-bit architectures. Of course, 8-bit ",NA,NA
"bytes are now the standard. Although ASCII is technically a 7-bit code, it's almost universally ",NA,NA
stored as 8-bit values.,NA,NA
The equivalence of bytes and characters is certainly convenient because we can get a rough ,NA,NA
sense of how much computer memory a particular text document requires simply by ,NA,NA
"counting the characters. To some, the kilos and megas of computer storage are more ",NA,NA
comprehensible when expressed in terms of text.,NA,NA
"For example, a traditional double-spaced typewritten 8½-by-11-inch page with 1-inch ",NA,NA
margins has about 27 lines of text. Each line is about 6½ inches wide with 10 characters ,NA,NA
"per inch, for a total of about 1750 bytes. A singlespace typewritten page has about double ",NA,NA
"that, or 3.5 kilobytes.",NA,NA
A page in ,NA,NA
The New Yorker,NA,NA
 magazine has 3 columns of text with 60 lines per column and about ,NA,NA
40,NA,NA
characters per line. That's 7200 characters (or bytes) per page.,NA,NA
The New York Times,NA,NA
 has six columns of text per page. If the entire page is covered with text ,NA,NA
"without any titles or pictures (which is highly unusual), each column has 155 lines of about ",NA,NA
"35 characters each. The entire page has 32,550 characters, or 32 kilobytes.",NA,NA
A hardcover book has about 500 words per page. An average word is about 5 letters—,NA,NA
"actually 6 characters, counting the space between words. So a book has about 3000 ",NA,NA
"characters per page. Let's say the average book has 333 pages, which may be a made-up ",NA,NA
"figure but nicely implies that the average book is about 1 million bytes, or 1 megabyte.",NA,NA
"Of course, books vary all over the place:","F. Scott Fitzgerald's 
 The Great Gatsby
  is about 300 kilobytes.
  
 J. D. Salinger's 
 Catcher in the Rye
  is about 400 kilobytes.
  
 Mark Twain's 
 The Adventures of Huckleberry Finn
  is about 540 kilobytes.
  
 John Steinbeck's 
 The Grapes of Wrath
  is about a megabyte.
  
 Herman Melville's 
 Moby Dick
  is about 1.3 megabytes.
  
 Henry Fielding's 
 The History of Tom Jones
  is about 2.25 megabytes.
  
 Margaret Mitchell's 
 Gone with the Wind
  is about 2.5 megabytes.
  
 Stephen King's complete and uncut 
 The Stand
  is about 2.7 megabytes.
  
 Leo Tolstoy's 
 War and Peace
  is about 3.9 megabytes.
  
 Marcel Proust's 
 Remembrance of Things Past
  is about 7.7 megabytes.",NA
The United States Library of Congress has about 20 million books for a total of 20 trillion ,NA,NA
"characters, or 20 terabytes, of text data. (It has a bunch of photographs and sound recordings ",NA,NA
as well.),NA,NA
"Although ASCII is certainly the most important standard in the computer industry, it isn't ",NA,NA
perfect. The big problem with the American Standard Code for Information Interchange is that ,NA,NA
"it's just too darn American! Indeed, ASCII is hardly suitable even for other nations whose ",NA,NA
"principal language is English. Although ASCII includes a dollar sign, where is the British pound ",NA,NA
sign? And what about the accented letters used in many Western European languages? To say ,NA,NA
"nothing of the non-Latin alphabets used in Europe, including Greek, Arabic, Hebrew, and ",NA,NA
"Cyrillic. Or the Brahmi scripts of India and Southeast Asia, including Devanagari, Bengali, Thai, ",NA,NA
and Tibetan. And how can a 7-bit code possibly handle the ,NA,NA
tens of thousands,NA,NA
 of ideographs of ,NA,NA
"Chinese, Japanese, and Korean and the ten thousand–odd Hangul syllables of Korean?",NA,NA
"Even when ASCII was being developed, the needs of some other nations were kept in mind, ",NA,NA
although without much consideration for non-Latin alphabets. According to the published ,NA,NA
"ASCII standard, ten ASCII codes (40h, 5Bh, 5Ch, 5Dh, 5Eh, 60h, 7Bh, 7Ch, 7Dh, and 7Eh) are ",NA,NA
"available to be redefined for national uses. In addition, the number sign (#) can be replaced by ",NA,NA
"the British pound sign (£), and the dollar sign ($) can be replaced by a generalized currency ",NA,NA
"sign (¤) if necessary. Obviously, replacing symbols makes sense only when everyone involved ",NA,NA
in using a particular text document containing these redefined codes knows about the change.,NA,NA
"Because many computer systems store characters as 8-bit values, it's possible to devise an ",NA,NA
extended ASCII character set,NA,NA
 that contains 256 characters rather than just 128. In such a ,NA,NA
"character set, codes 00h through 7Fh are defined just as they are in ASCII; codes 80h through ",NA,NA
FFh can be something else entirely. This technique has been used to define additional ,NA,NA
character codes to accommodate accented,NA,NA
"letters and non-Latin alphabets. As an example, here's a 96-character extension of ASCII ",NA,NA
called the Latin Alphabet No. 1 that defines characters for codes A0h through FFh. In this ,NA,NA
"table, the high-order nibble of the hexadecimal character code is shown in the top row; the ",NA,NA
low-order nibble is shown in the left column.,"A-
  
 B- 
  
 C-
  
 D-
  
  E-
  
  F-
  
 -0
  
  
 °
  
 À
  
 Ð
  
 à
  
 ð
  
 -1
  
 ¡
  
 ±
  
 Á
  
 Ñ
  
 á
  
 ñ
  
 -2
  
 ¢
  
 ²
  
 Â
  
 Ò
  
 â
  
 ò
  
 -3
  
 £
  
 ³
  
 Ã
  
 Ó
  
 ã
  
 ó
  
 -4
  
 ¤
  
 ´
  
 Ä
  
 Ô
  
 ä
  
 ô
  
 -5
  
 ¥
  
 µ
  
 Å
  
 Õ
  
 å
  
 õ
  
 -6
  
 ¦
  
 ¶
  
 Æ 
  
 Ö
  
 æ
  
 ö
  
 -7
  
 §
  
 ·
  
 Ç
  
 ×
  
 ç
  
 ÷
  
 -8
  
 ¨
  
 ¸
  
 È
  
 Ø
  
 è
  
 ø
  
 -9
  
 ©
  
 ¹
  
 É
  
 Ù
  
 é
  
 ù
  
 -A
  
  
 ª
  
 º
  
 Ê
  
 Ú
  
 ê
  
 ú
  
 -B
  
  
 «
  
 »
  
 Ë
  
 Û
  
 ë
  
 û
  
 -C
  
  
 ¬
  
 ¼
  
 Ì
  
 Ü
  
 ì
  
 ü
  
 -D
  
  
 -
  
 ½
  
 Í
  
 Ý
  
 í
  
 ý
  
 -E
  
  
 ®
  
 ¾
  
 Î
  
 Þ
  
 î
  
 þ
  
 -F
  
  
 -
  
 ¿
  
 Ï
  
 ß
  
 ï
  
 ÿ",NA
The character for code A0h is defined as a ,NA,NA
no-break space,NA,NA
. Usually when a computer program ,NA,NA
"formats text into lines and paragraphs, it breaks each line at a space character, which is ASCII ",NA,NA
code 20h. Code A0h is supposed to be displayed as a space but can't be used for breaking a ,NA,NA
"line. A no-break space might be used in the text ""WW II,"" for example. Code ADh is defined as a ",NA,NA
soft hyphen,NA,NA
. This is a hyphen used to separate syllables in the middle of words. It appears on ,NA,NA
the printed page only when it's necessary to break a word between two lines.,NA,NA
"Unfortunately, many ",NA,NA
different,NA,NA
" extensions of ASCII have been defined over the decades, ",NA,NA
leading to much confusion and incompatibility. ASCII has been extended in a more radical ,NA,NA
"way to encode the ideographs of Chinese, Japanese, and Korean. In one popular encoding—",NA,NA
called Shift-JIS (Japanese Industrial Standard)—codes 81h through 9Fh actually represent ,NA,NA
"the initial byte of a 2-byte character code. In this way, Shift-JIS allows for the encoding of ",NA,NA
about 6000 additional characters.,NA,NA
"Unfortunately, Shift-JIS isn't the only system that uses this technique. Three other standard ",NA,NA
double-byte character sets,NA,NA
 (DBCS) are popular in Asia.,NA,NA
That there are a number of incompatible double-byte character sets is only one of the ,NA,NA
"problems with them. The other problem is that some characters—specifically, the normal ",NA,NA
"ASCII characters—are represented by 1-byte codes, while the thousands of ideographs are ",NA,NA
represented by 2-byte codes. This makes it difficult to work with such character sets.,NA,NA
Under the assumption that it's preferable to have just one unambiguous character encoding ,NA,NA
"system that's suitable for all the world's languages, in 1988 several major computer ",NA,NA
companies got together and began developing an alternative to ASCII known as ,NA,NA
Unicode,NA,NA
. ,NA,NA
"Whereas ASCII is a 7-bit code, Unicode is a 16-bit code. Each and every character in Unicode ",NA,NA
requires 2 bytes. That means that Unicode has character codes ranging from 0000h through ,NA,NA
"FFFFh and can represent 65,536 different characters. That's enough for all the world's ",NA,NA
"languages that are likely to be used in computer communication, with room for expansion.",NA,NA
Unicode doesn't start from scratch. The first 128 characters of Unicode—codes 0000h ,NA,NA
"through 007Fh—are the same as the ASCII characters. Also, Unicode codes 00A0h through ",NA,NA
00FFh are the same as the Latin Alphabet No. 1 extension of ASCII that I described earlier. ,NA,NA
Other worldwide standards are also incorporated into Unicode.,NA,NA
"While Unicode may be an obvious improvement over existing character codes, that doesn't ",NA,NA
guarantee it instant acceptability. ASCII and the myriad flawed extensions of ASCII have ,NA,NA
become so entrenched in the computing world that it will be difficult to dislodge them.,NA,NA
The only real problem with Unicode is that it makes invalid the old equivalence between one ,NA,NA
"character of text and 1 byte of storage. Encoded in ASCII, ",NA,NA
The Grapes of Wrath,NA,NA
 is about 1 ,NA,NA
"megabyte in size. Encoded in Unicode, it's about 2 megabytes. But that's a small price to pay ",NA,NA
for a universal unambiguous character encoding system.,NA,NA
Chapter 21. Get on the Bus,NA,NA
"The processor is certainly the most important component of a computer, but it's not the only ",NA,NA
component. A computer also requires random access memory (RAM) that contains machine-,NA,NA
code instructions for the processor to execute. The computer must also include some way for ,NA,NA
those instructions to get into RAM (an input device) and some way for the results of the ,NA,NA
"program to be observed (an output device). As you'll also recall, RAM is volatile—it loses its ",NA,NA
contents when the power is turned off. So another useful component of a computer is a long-,NA,NA
term storage device that can retain code and data when the computer is turned off.,NA,NA
All the integrated circuits that make up a complete computer must be mounted on circuit ,NA,NA
"boards. In some smaller machines, all the ICs can fit on a single board. But it's more usual for ",NA,NA
the various components of the computer to be divided among two or more boards. These ,NA,NA
boards communicate with each other by means of a ,NA,NA
bus,NA,NA
. A bus is simply a collection of digital ,NA,NA
signals that are provided to every board in a computer. These signals fall into four categories:,NA,NA
Address signals. These are signals generated by the microprocessor and used mostly to ,NA,NA
address random access memory. But they're also used to address other devices attached ,NA,NA
to the computer.,NA,NA
Data Output signals. These also are signals provided by the microprocessor. They're used ,NA,NA
to write data to RAM or to other devices. Be careful with the terms ,NA,NA
input,NA,NA
 and ,NA,NA
output,NA,NA
. A data ,NA,NA
output signal from the microprocessor becomes a data input signal to RAM and other ,NA,NA
devices.,NA,NA
Data Input signals. These are signals that are provided by other parts of the computer and ,NA,NA
are read by the microprocessor. The data input signals most often originate in RAM output; ,NA,NA
this is how the microprocessor reads the contents of memory. But other components also ,NA,NA
provide data input signals to the microprocessor.,NA,NA
Control signals. These are miscellaneous signals that usually correspond to the control ,NA,NA
signals of the particular microprocessor around which the computer is built. Control ,NA,NA
signals may originate in the microprocessor or from other devices to signal the ,NA,NA
microprocessor. An example of a control signal is the signal used by the microprocessor to ,NA,NA
indicate that it needs to write some data output into a particular memory address.,NA,NA
"In addition, the bus supplies power to the various boards that the computer comprises.",NA,NA
"One of the earliest popular busses for home computers was the S-100 bus, which was ",NA,NA
"introduced in 1975 in the first home computer, the MITS Altair. Although this bus was based ",NA,NA
"on the 8080 microprocessor, it was later adapted to other processors such as the 6800. An S-",NA,NA
100 circuit board is 5.3 inches by 10 inches. One edge of the circuit board fits into a socket ,NA,NA
that has 100 connectors (hence the name S-100).,NA,NA
An S-100 computer contains a larger board called a ,NA,NA
motherboard,NA,NA
 (or ,NA,NA
main board,NA,NA
) that ,NA,NA
contains a number of S-100 sockets (perhaps 12 of them) wired to one another. These ,NA,NA
sockets are sometimes called ,NA,NA
expansion slots,NA,NA
. The S-100 circuit boards (also called ,NA,NA
expansion boards,NA,NA
) fit into these sockets. The 8080 microprocessor and support chips ,NA,NA
(some of which I mentioned in ,NA,NA
Chapter 19,NA,NA
) occupy one S-100 board. Random access ,NA,NA
memory occupies one or more other boards.,NA,NA
"Because the S-100 bus was designed for the 8080 chip, it has 16 address signals, 8 data input ",NA,NA
"signals, and 8 data output signals. (As you'll recall, the 8080 itself combines the data input and ",NA,NA
data output signals. These signals are divided into separate input and output signals by other ,NA,NA
chips on the circuit,NA,NA
board that contains the 8080.) The bus also includes 8 ,NA,NA
interrupt,NA,NA
 signals. These are signals ,NA,NA
generated by other devices when they need immediate attention from the CPU. For example ,NA,NA
"(as we'll see later in this chapter), a keyboard might generate an interrupt signal when a key is ",NA,NA
pressed. A short program run by the 8080 can then determine what that key was and take ,NA,NA
some action. The board containing the 8080 also generally includes a chip called the Intel ,NA,NA
"8214 Priority Interrupt Control Unit to handle these interrupts. When an interrupt occurs, this ",NA,NA
"chip generates an interrupt signal to the 8080. When the 8080 acknowledges the interrupt, ",NA,NA
the chip provides a ,NA,NA
RST,NA,NA
 (,NA,NA
Restart,NA,NA
) instruction that causes the microprocessor to save the ,NA,NA
"current program counter and branch to address 0000h, 0008h, 0010h, 0018h, 0020h, 0028h, ",NA,NA
"0030h, or 0038h depending on the interrupt.",NA,NA
"If you were designing a new computer system that included a new type of bus, you could ",NA,NA
choose whether to publish (or otherwise make available) the specifications of the bus or to ,NA,NA
keep them secret.,NA,NA
"If the specifications of a particular bus are made public, other manufacturers—so-called ",NA,NA
third-party ,NA,NA
manufacturers—can design and sell expansion boards that work with that bus. ,NA,NA
The availability of these additional expansion boards makes the computer more useful and ,NA,NA
hence more desirable. More sales of the computer create more of a market for more ,NA,NA
expansion boards. This phenomenon is the incentive for designers of most small computer ,NA,NA
systems that adhere to the principle of ,NA,NA
open architecture,NA,NA
", which allows other manufacturers ",NA,NA
"to create peripherals for the computer. Eventually, a bus might be considered an industry-",NA,NA
wide ,NA,NA
standard,NA,NA
. Standards have been an important part of the personal computer industry.,NA,NA
The most famous open architecture personal computer was the original IBM PC introduced in ,NA,NA
the fall of 1981. IBM published a ,NA,NA
Technical Reference,NA,NA
 manual for the PC that contained ,NA,NA
"complete circuit diagrams of the entire computer, including all the expansion boards that IBM ",NA,NA
manufactured for it. This manual was an essential tool that enabled many manufacturers to ,NA,NA
"make their own expansion boards for the PC and, in fact, to create entire ",NA,NA
clones,NA,NA
 of the PC—,NA,NA
computers that were nearly identical to IBM's and ran all the same software.,NA,NA
The descendants of that original IBM PC now account for about 90 percent of the market in ,NA,NA
"the desktop computers. Although IBM itself has only a small share of this market, it could very ",NA,NA
well be that IBM's share is larger than if the original PC had a ,NA,NA
closed architecture,NA,NA
 with a ,NA,NA
proprietary,NA,NA
 design.,NA,NA
"The Apple Macintosh was originally designed with a closed architecture, and despite ",NA,NA
"occasional flirtations with open architecture, that original decision possibly explains why the ",NA,NA
Macintosh currently accounts for less than 10 percent of the desktop market. (Keep in mind ,NA,NA
that whether a computer system is designed under the principle of open architecture or ,NA,NA
closed architecture doesn't affect the ability of other companies to write ,NA,NA
software,NA,NA
 that runs on ,NA,NA
the computer. Only the ,NA,NA
manufacturers of certain video games have restricted other companies from writing software ,NA,NA
for their systems.),NA,NA
"The original IBM PC used the Intel 8088 microprocessor, which can address 1 megabyte of ",NA,NA
memory.,NA,NA
"Although internally the 8088 is a 16-bit microprocessor, externally it addresses memory in 8-",NA,NA
bit chunks. The bus that IBM designed for the original PC is now called the ISA (Industry ,NA,NA
Standard Architecture) bus. The expansion boards have 62 connectors. The signals include 20 ,NA,NA
"address signals, 8 combined data input and output signals, 6 interrupt requests, and 3 ",NA,NA
direct ,NA,NA
memory access,NA,NA
 (DMA) requests. DMA allows storage devices (which I'll describe toward the ,NA,NA
"end of this chapter) to perform more quickly than would otherwise be possible. Normally, the ",NA,NA
"microprocessor handles all reading from and writing to memory. But using DMA, another ",NA,NA
device can bypass the microprocessor by taking,NA,NA
over the bus and reading from or writing to memory directly.,NA,NA
"In an S-100 system, all components are mounted on expansion boards. In the IBM PC, the ",NA,NA
"microprocessor, some support chips, and some RAM are located on what IBM called the ",NA,NA
system board,NA,NA
 but which is also often called a motherboard or a main board.,NA,NA
"In 1984, IBM introduced the Personal Computer AT, which used the 16-bit Intel 80286 ",NA,NA
microprocessor that can address 16 megabytes of memory. IBM retained the existing bus but ,NA,NA
added another 36-connector socket that included 7 more address signals (although only 4 ,NA,NA
"more were needed), 8 more data input and output signals, 5 more interrupt requests, and 4 ",NA,NA
more DMA requests.,NA,NA
"Busses need to be upgraded or replaced when microprocessors outgrow them, either in data ",NA,NA
width (from 8 to 16 to 32 bits) or in the number of address signals they output. But ,NA,NA
microprocessors also outgrow busses when they achieve faster speeds. Early busses were ,NA,NA
designed for microprocessors operating at a clock speed of several megahertz rather than ,NA,NA
"several hundred megahertz. When a bus isn't properly designed for high speeds, it can give ",NA,NA
off radio frequency interference (RFI) that causes static or other noise on nearby radios and ,NA,NA
television sets.,NA,NA
"In 1987, IBM introduced the Micro Channel Architecture (MCA) bus. Some aspects of this bus ",NA,NA
"had been patented by IBM, so IBM was able to collect licensing fees from other companies that ",NA,NA
"used the bus. Perhaps for this reason, the MCA bus did ",NA,NA
not,NA,NA
 become an industry standard. ,NA,NA
"Instead, in 1988 a consortium of nine companies (not including IBM) countered with the 32-",NA,NA
"bit EISA (Extended Industry Standard Architecture) bus. More recently, the Intel-designed ",NA,NA
Peripheral Component Interconnect (PCI) bus has become common in PC-compatibles.,NA,NA
"To understand how the various components of the computer work, it's again helpful to ",NA,NA
return to that earlier and simpler era of the mid-1970s. We might imagine that we're ,NA,NA
"designing boards for the Altair, or perhaps for an 8080 or 6800 computer of our own ",NA,NA
design. We probably want to design some memory for the computer and to have a keyboard ,NA,NA
"for input, a TV set for output, and perhaps some way to save the contents of memory when ",NA,NA
we turn off the computer. Let's look at the various ,NA,NA
interfaces,NA,NA
 we can design to add these ,NA,NA
components to our computer.,NA,NA
You'll recall from ,NA,NA
Chapter 16,NA,NA
" that RAM arrays have address inputs, data inputs, data outputs, ",NA,NA
and a signal used to write data into memory. The number of address inputs indicates the ,NA,NA
number of separate values that can be stored in the RAM array:,"Number of values in RAM array = 2 
 Number of address inputs",NA
The number of data input and output signals indicates the size of the stored values.,NA,NA
One popular memory chip for home computers in the mid-1970s was the 2102:,NA,NA
"The 2102 is a member of the MOS (metal-oxide semiconductor) family of semiconductors, ",NA,NA
which is the same technology used for the 8080 and 6800 microprocessors themselves. MOS ,NA,NA
semiconductors can be easily connected to TTL chips; they generally have a higher density of ,NA,NA
transistors than TTL but aren't as fast.,NA,NA
As you can probably figure out by counting the address signals (A,0,NA
 through A,9,NA
) and noting ,NA,NA
"the single data output (DO) and data input (DI) signals, this chip stores 1024 bits. Depending ",NA,NA
"on the type of 2102 chip you're using, the ",NA,NA
read access time,NA,NA
—the time it takes for the data ,NA,NA
output to be valid after a,NA,NA
particular address has been applied to the chip—ranges from 350 to 1000 nanoseconds. The ,NA,NA
R/,NA,NA
(,NA,NA
read/write,NA,NA
) signal is normally 1 when you're reading memory. When you want to write data ,NA,NA
"into the chip, this signal must be 0 for a period of at least 170 to 550 nsec, again depending ",NA,NA
on the type of 2102 chip you're using.,NA,NA
Of particular interest is the ,NA,NA
" signal, which stands for ",NA,NA
chip select,NA,NA
". When this signal is 1, the ",NA,NA
chip is,NA,NA
deselected,NA,NA
", which means that it doesn't respond to ",NA,NA
the R/,NA,NA
 signal. The ,NA,NA
 signal has another,NA,NA
"profound effect on the chip, however, that I'll describe shortly.",NA,NA
"Of course, if you're putting together memory for an 8-bit microprocessor, you want to ",NA,NA
"organize this memory so that it stores 8-bit values rather than 1-bit values. At the very least, ",NA,NA
you'll need to wire 8 of these 2102 chips together to store entire bytes. You can do this by ,NA,NA
connecting all the corresponding,NA,NA
"address signals, the R/",NA,NA
" signals, and the ",NA,NA
 signals of eight 2102 chips. The result can be ,NA,NA
drawn like this:,NA,NA
"This is a 1024 x 8 RAM array, or 1 KB of RAM.",NA,NA
"From a practical perspective, you need to put the memory chips on a circuit board. How ",NA,NA
"many can you fit on one board? Well, if you really cram them close together, you can fit 64 of ",NA,NA
these chips on a single S-100 board. That will give you 8 KB of memory. But let's go for a ,NA,NA
more modest 4 KB using just 32 chips. Each set of chips that are wired together to store a ,NA,NA
whole byte (as illustrated above) is,NA,NA
known as a ,NA,NA
bank,NA,NA
. A 4-KB memory board contains four banks of 8 chips each.,NA,NA
Eight-bit microprocessors such as the 8080 and 6800 have 16-bit addresses that can address ,NA,NA
a total of 64 KB of memory. When you wire a 4-KB memory board containing four banks of ,NA,NA
"chips, the memory board's 16 address signals perform the following functions:",NA,NA
The 10 address signals A,0,NA
 through A,9,NA
 are directly wired to the RAM chips. The address ,NA,NA
signals A,10,NA
and A,11,NA
 select which of the four banks is being addressed. The address signals A,12,NA
 ,NA,NA
through A,15,NA
"determine which addresses apply to this particular board—in other words, the ",NA,NA
addresses that the board responds to. The 4-KB memory board we're designing can occupy ,NA,NA
one of 16 different 4-KB ranges in the entire 64-KB memory space of the microprocessor:,NA,NA
"0000h through 0FFFh, or",NA,NA
"1000h through 1FFFh, or",NA,NA
"2000h through 2FFFh, or",NA,NA
⋮,NA,NA
F000h through FFFFh.,NA,NA
"For example, suppose we decide that this 4-KB memory board will apply to addresses A000h ",NA,NA
through AFFFh. This means that addresses A000h through A3FFh will apply to the first bank ,NA,NA
"of 1-KB chips, addresses A400h through A7FFh to the second bank, addresses A800h through ",NA,NA
"ABFFh to the third bank, and addresses AC00h through AFFFh to the fourth bank.",NA,NA
It's common to wire a 4-KB memory board so that you can flexibly specify at a later time ,NA,NA
"what range of addresses it responds to. To achieve this flexibility, you use something called a ",NA,NA
DIP switch,NA,NA
. This is a series of tiny switches (anywhere from 2 through 12) in a dual inline ,NA,NA
package (DIP) that can be inserted in a normal IC socket:,NA,NA
You can wire this switch with the high 4 address bits from the bus in a circuit called a ,NA,NA
comparator,NA,NA
.,NA,NA
"As you'll recall, the output of an XOR gate is 1 if either of the two inputs is 1 but not both. ",NA,NA
Another way to think of this is that the output of an XOR gate is 0 if the two inputs are the ,NA,NA
same—either both 0 or both 1.,NA,NA
"For example, if we close the switches corresponding to A",13,NA
 and A,15,NA
", that means we want the ",NA,NA
memory board to respond to memory addresses A000h through AFFFh. When the address ,NA,NA
signals A,12,NA
", A",13,NA
", A",14,NA
", and A",15,NA
" from the bus are equal to the values set on the switches, the ",NA,NA
"outputs of all four XOR gates are 0, which means the output from the NOR gate is 1:",NA,NA
You can then combine that Equal signal with a 2-Line-to-4-Line Decoder to generate ,NA,NA
 ,NA,NA
signals for each of the four banks of memory:,NA,NA
"For example, when A",10,NA
 is 0 and A,11,NA
" is 1, that's the third bank.",NA,NA
If you recall the messy details of combining RAM arrays in ,NA,NA
Chapter 16,NA,NA
", you might assume ",NA,NA
that we also need eight 4-to-1 Selectors to select the correct data output signals from the ,NA,NA
"four banks of memory. But we don't, and here's why.",NA,NA
"Normally, the output signals of TTL-compatible integrated circuits are either greater than ",NA,NA
2.2 volts (for a logical 1) or less than 0.4 volts (for a logical 0). But what happens if you try ,NA,NA
"connecting outputs? If one integrated circuit has a 1 output and another has a 0 output, and ",NA,NA
"these two outputs are connected, what will result? You can't really tell, and that's why ",NA,NA
outputs of integrated circuits aren't normally connected together.,NA,NA
The data output signal of the 2102 chip is known as a ,NA,NA
3-state,NA,NA
", or ",NA,NA
tri-state,NA,NA
", output. Besides a ",NA,NA
"logical 0 and a logical 1, this data output signal can also be a third state. This state is—lo and ",NA,NA
behold—nothing at all! It's as if nothing is connected to the pin of the chip. The data output ,NA,NA
signal of the 2102 chip goes,NA,NA
into this third state when the ,NA,NA
 input is 1. This means that we ,NA,NA
can,NA,NA
 connect the ,NA,NA
corresponding data output signals of all four banks and use those eight combined outputs as ,NA,NA
the eight data input signals of the bus.,NA,NA
I'm emphasizing the concept of the tri-state output because it's essential to the operation of a ,NA,NA
bus. Just about everything that's connected to the bus uses the data input signals of the bus. ,NA,NA
"At any time, only one board connected to the bus should be determining what those data ",NA,NA
input signals are. The other boards must be connected to the bus with deselected tri-state ,NA,NA
outputs.,NA,NA
The 2102 chip is known as ,NA,NA
static,NA,NA
" random access memory, or SRAM (pronounced ",NA,NA
ess ram,NA,NA
"), to ",NA,NA
differentiate it from ,NA,NA
dynamic,NA,NA
" random access memory, or DRAM (pronounced ",NA,NA
dee ram,NA,NA
). SRAM ,NA,NA
generally requires 4 transistors per bit of memory (not quite as many transistors as the flip-,NA,NA
flops I used for memory in ,NA,NA
Chapter 16,NA,NA
"). DRAM, however, requires only 1 transistor per bit. ",NA,NA
The drawback of DRAM is that it requires more complex support circuitry.,NA,NA
An SRAM chip such as the 2102 will retain its contents as long as the chip has power. If the ,NA,NA
"power goes off, the chip loses its contents. The DRAM is also similar in that respect, but a ",NA,NA
"DRAM chip requires also that the contents of the memory be periodically accessed, even if ",NA,NA
the contents aren't needed. This is called a ,NA,NA
refresh,NA,NA
" cycle, and it must occur several hundred ",NA,NA
times per second. It's like periodically nudging someone so that the person doesn't fall ,NA,NA
asleep.,NA,NA
"Despite the hassle of using DRAM, the ever-increasing capacity of DRAM chips over the years ",NA,NA
"has made DRAM the standard. In 1975, Intel introduced a DRAM chip that stored 16,384 bits. ",NA,NA
"In accordance with Moore's Law, DRAM chips have quadrupled in capacity roughly every ",NA,NA
three years. Today's computers usually have sockets for memory right on the system board. ,NA,NA
The sockets take small boards called ,NA,NA
single inline memory modules,NA,NA
 (SIMMs) or ,NA,NA
dual inline ,NA,NA
memory modules,NA,NA
 (DIMMs) that contain several DRAM chips. Today you can buy a DIMM ,NA,NA
containing 128 megabytes of memory for under $300.,NA,NA
"Now that you know how to make memory boards, you don't want to fill up the entire memory ",NA,NA
space of your microprocessor with memory. You want to leave some memory space for your ,NA,NA
output device.,NA,NA
The ,NA,NA
cathode-ray tube,NA,NA
 (CRT)—a familiar sight in homes for the last half century in its guise as ,NA,NA
the television set—has become the most common output device for computers. A CRT ,NA,NA
attached to a computer is usually known as the ,NA,NA
video display,NA,NA
", or ",NA,NA
monitor,NA,NA
. The electronic ,NA,NA
components that provide the signal to the video display are usually known as the ,NA,NA
video ,NA,NA
display adapter,NA,NA
". Often the video display adapter occupies its own board in the computer, ",NA,NA
which is known as the ,NA,NA
video board,NA,NA
.,NA,NA
"While the two-dimensional image of a video display or a television might seem complex, the ",NA,NA
image is actually composed of a single continuous beam of light that sweeps across the screen ,NA,NA
very rapidly. The beam begins in the upper left corner and moves across the screen to the ,NA,NA
"right, whereupon it zips back to the left to begin the second line. Each horizontal line is known ",NA,NA
as a ,NA,NA
scan line,NA,NA
. The movement back to the beginning of each of these lines is known as the ,NA,NA
horizontal retrace,NA,NA
". When the beam finishes the bottom line, it zips from the lower right corner ",NA,NA
of the screen to the upper left corner (the ,NA,NA
vertical retrace,NA,NA
) and the process begins again. For ,NA,NA
"American television signals, this happens 60 times a second, which is known as the ",NA,NA
field rate,NA,NA
. ,NA,NA
It's fast enough so that the image doesn't appear to,NA,NA
be flickering.,NA,NA
Television is complicated somewhat by the use of an ,NA,NA
interlaced,NA,NA
 display. Two fields are ,NA,NA
required to make up a single ,NA,NA
frame,NA,NA
", which is a complete still video image. Each field ",NA,NA
"contributes half the scan lines of the entire frame—the first field has the even scan lines, and ",NA,NA
the second field has the odd scan lines. The ,NA,NA
horizontal scan rate,NA,NA
", which is the rate at which ",NA,NA
"each horizontal scan line is drawn, is 15,750 Hertz. If you divide that number by 60 Hertz, you ",NA,NA
"get 262.5 lines. That's the number of scan lines in one field. An entire frame is double that, or ",NA,NA
525 scan lines.,NA,NA
"Regardless of the mechanics of interlaced displays, the continuous beam of light that makes ",NA,NA
up the video image is controlled by a single continuous signal. Although the audio and video ,NA,NA
components of a television program are combined when they're broadcast or transmitted ,NA,NA
"through a cable television system, they're eventually separated. The ",NA,NA
video signal,NA,NA
 that I'll ,NA,NA
describe here is identical to the signal that's input to or output from those jacks labeled ,NA,NA
Video,NA,NA
 ,NA,NA
"found on VCRs, camcorders, and some television sets.",NA,NA
"For black and white television, this video signal is quite straightforward and easy to ",NA,NA
comprehend.,NA,NA
"(Color gets a bit messier.) Sixty times per second, the signal contains a ",NA,NA
vertical sync pulse,NA,NA
 ,NA,NA
that indicates the beginning of a field. This pulse is 0 volts (ground) for about 400 ,NA,NA
microseconds. A ,NA,NA
horizontal sync pulse,NA,NA
 indicates the beginning of each scan line: The video ,NA,NA
"signal is 0 volts for 5 microseconds 15,750 times per second. Between the horizontal sync ",NA,NA
"pulses, the signal varies from 0.5 volt for black to 2 volts for white, with voltages between ",NA,NA
0.5 volt and 2 volts to indicate shades of gray.,NA,NA
The image of a television is thus partially digital and partially analog. The image is divided ,NA,NA
"into 525 lines vertically, but each scan line is a continuous variation of voltages—an analog ",NA,NA
of the visual intensity of the image. But the voltage can't vary indiscriminately. There's an ,NA,NA
upper limit to how quickly the television set can respond to the varying signal. This is known ,NA,NA
as the television's ,NA,NA
bandwidth,NA,NA
.,NA,NA
"Bandwidth is an extremely important concept in communication, and it relates to the amount ",NA,NA
of information that can be transferred over a particular communication medium. In the case of ,NA,NA
"television, bandwidth is the limit to the speed with which the video signal can change from ",NA,NA
"black to white and back to black again. For American broadcast television, this is about 4.2 ",NA,NA
MHz.,NA,NA
"If we want to connect a video display to a computer, it's awkward to think of the display as a ",NA,NA
hybrid analog and digital device. It's easier to treat it as a completely digital device. From the ,NA,NA
"perspective of a computer, it's most convenient to conceive of the video image as being ",NA,NA
divided into a rectangular grid of discrete dots known as ,NA,NA
pixels,NA,NA
. (The term comes from the ,NA,NA
phrase ,NA,NA
picture element,NA,NA
.),NA,NA
The video bandwidth enforces a limit to the number of pixels that can fit in a horizontal scan ,NA,NA
line. I defined the bandwidth as the speed with which the video signal can change from black ,NA,NA
to white and back to black again. A bandwidth of 4.2 MHz for television sets allows two pixels ,NA,NA
"4.2 million times a second, or—dividing 2 x 4,200,000 by the horizontal scan rate of ",NA,NA
"15,750— 533 pixels in each horizontal scan line. But about a third of these pixels aren't ",NA,NA
available because they're hidden from view—either at the far ends of the image or while the ,NA,NA
light beam is in the horizontal retrace. That leaves about 320 useful pixels horizontally.,NA,NA
"Likewise, we don't get 525 pixels vertically. Instead, some are lost at the top and bottom of the ",NA,NA
"screen and during the vertical retrace. Also, it's most convenient to ",NA,NA
not,NA,NA
 rely upon interlace ,NA,NA
when computers,NA,NA
use television sets. A reasonable number of pixels in the vertical dimension is 200.,NA,NA
We can thus say that the ,NA,NA
resolution,NA,NA
 of a primitive video display adapter attached to a ,NA,NA
"conventional television set is 320 pixels across by 200 pixels down, or 320 pixels ",NA,NA
"horizontally by 200 pixels vertically, commonly referred to as 320 by 200 or 320 x 200:",NA,NA
"To determine the total number of pixels in this grid, you can count them or simply multiply ",NA,NA
"320 by 200 to get 64,000 pixels. Depending on how you've configured your video adapter (as ",NA,NA
"I'll explain shortly), each pixel can be either black or white, or each pixel can be a particular ",NA,NA
color.,NA,NA
Suppose we wanted to display some text on this display. How much can we fit?,NA,NA
"Well, that obviously depends on how many pixels are used for each text character. ",NA,NA
Here's one possible approach that uses an 8 x 8 grid (64 pixels) for each character:,NA,NA
These are the characters corresponding to ASCII codes 20h through 7Fh. (No visible ,NA,NA
characters are associated with ASCII codes 00h through 1Fh.),NA,NA
"Each character is identified by a 7-bit ASCII code, but each character is also associated with ",NA,NA
64 bits that determine the visual appearance of the character. You can also think of these 64 ,NA,NA
bits of information as codes.,NA,NA
"Using these character definitions, you can fit 25 lines of 40 characters each on the 320 x 200 ",NA,NA
"video display, which (for example) is enough to fit an entire short poem by Amy Lowell:",NA,NA
"A video display adapter must contain some RAM to store the contents of the display, and the ",NA,NA
microprocessor must be able to write data into this RAM to change the display's ,NA,NA
"appearance. Most conveniently, this RAM is part of the microprocessor's normal memory ",NA,NA
space. How much RAM is required for a display adapter like the one I'm describing?,NA,NA
This isn't a simple question! The possible answers can range from 1 kilobyte to 192 kilobytes!,NA,NA
Let's start with the low estimate. One way to reduce the memory requirements of a video ,NA,NA
display adapter is to restrict the adapter to text only. We've already established that we can ,NA,NA
"display 25 rows of 40 characters each, or a total of 1000 characters. The RAM on the video ",NA,NA
"board need only store the 7-bit ASCII codes of those 1000 characters. That's 1000 7-bit values, ",NA,NA
"which is approximately 1024 bytes, or 1 kilobyte.",NA,NA
Such a video adapter board must also include a ,NA,NA
character generator,NA,NA
 that contains the pixel ,NA,NA
"patterns of all the ASCII characters, such as I illustrated earlier. This character generator is ",NA,NA
generally ,NA,NA
read-only memory,NA,NA
", or ROM (pronounced ",NA,NA
rahm,NA,NA
). A ROM is an integrated circuit ,NA,NA
manufactured so that a particular address always results in a particular data output. Unlike ,NA,NA
"RAM, a ROM doesn't have any data input signals.",NA,NA
You can think of ROM as a circuit that converts one code to another. A ROM that stores 8 x 8 ,NA,NA
pixel patterns of 128 ASCII characters could have 7 address signals (for the ASCII codes) and ,NA,NA
64 data output signals. The ROM thus converts a 7-bit ASCII code to a 64-bit code that defines ,NA,NA
the character's appearance. But 64 data output signals would make the chip quite large! It's ,NA,NA
more convenient to have 10 address signals and 8 output signals. Seven of the address signals ,NA,NA
specify the particular ASCII character. (These 7 address bits come from the data output of the ,NA,NA
"RAM on the video board.) The other 3 address signals indicate the row. For example, address ",NA,NA
bits 000 indicate the top row and 111 indicate the bottom row. The 8 output bits are the eight ,NA,NA
pixels of each row.,NA,NA
"For example, suppose the ASCII code is 41h. That's a capital A. There are eight rows of 8 bits ",NA,NA
each. This table shows the 10-bit address (a space separates the ASCII code from the row ,NA,NA
code) and the data output signals for a capital A:,"Address
  
 Data Output
  
 1000001 
 000
  
  00110000
  
 1000001 
 001
  
  01111000
  
 1000001 
 010
  
  11001100
  
 1000001 
 011
  
  11001100
  
 1000001 
 100
  
  11111100
  
 1000001 
 101
  
  11001100
  
 1000001 
 110
  
  11001100
  
 1000001 
 111
  
  00000000",NA
Do you see the A drawn with 1s against a background of 0s?,NA,NA
A video display adapter that displays text only must also have logic for a ,NA,NA
cursor,NA,NA
. The cursor ,NA,NA
is the little underline that indicates where the next character you type on the keyboard will ,NA,NA
appear on the,NA,NA
display. The character row and column position of the cursor is usually stored in two 8-bit ,NA,NA
registers on the video board that the microprocessor can write values into.,NA,NA
If the video adapter board is ,NA,NA
not,NA,NA
" restricted to text only, it's referred to as a ",NA,NA
graphics,NA,NA
 board. By ,NA,NA
"writing into the RAM on a graphics video board, a microprocessor can draw pictures, ",NA,NA
including text in a multitude of sizes and styles. Graphics video boards require more memory ,NA,NA
than text-only boards. A graphics video board that displays 320 pixels across by 200 pixels ,NA,NA
"down has 64,000 pixels. If each pixel corresponds to one bit of RAM, such a board requires ",NA,NA
"64,000 bits of RAM, or 8000 bytes. This, however, is the rock-bottom minimum. A ",NA,NA
"correspondence of 1 bit to 1 pixel allows the use of only two colors—for instance, black and ",NA,NA
"white. A 0 bit might correspond to a black pixel, and a 1 bit might correspond to a white pixel.",NA,NA
"Black-and-white televisions display more than just black and white, of course. They're also ",NA,NA
"capable of displaying many shades of gray. To display shades of gray from a graphics board, ",NA,NA
it's common for each pixel to correspond to an entire ,NA,NA
byte,NA,NA
" of RAM, where 00h is black and ",NA,NA
"FFh is white, and all the values in between correspond to shades of gray. A 320-by-200 video ",NA,NA
"board that displays 256 gray shades requires 64,000 ",NA,NA
bytes,NA,NA
 of RAM. That's very nearly the ,NA,NA
entire address space of one of the 8-bit microprocessors I've been talking about!,NA,NA
Moving up to full gorgeous color requires 3 bytes per pixel. If you use a magnifying glass to ,NA,NA
"examine a color television or a computer video display, you'll discover that each color is ",NA,NA
"represented by various combinations of the primary colors red, green, and blue. To get the full ",NA,NA
"range of color, a byte is required to indicate the intensity of each of the three primaries. That ",NA,NA
"means 192,000 bytes of RAM.",NA,NA
(I'll have more to say about color graphics in the last chapter of this book.),NA,NA
The number of different colors that a video adapter is capable of is related to the number of ,NA,NA
bits used for each pixel. The relationship might look familiar because like many codes in this ,NA,NA
"book, it once again involves a power of 2:","Number of Colors = 2
 Number of bits per pixel",NA
The 320-by-200 resolution is just about the best you can do on a standard television set. ,NA,NA
That's why monitors made specifically for computers have a much higher bandwidth than ,NA,NA
television sets. The first monitors sold with the IBM Personal Computer in 1981 could display ,NA,NA
25 lines of 80 characters each. This is the number of characters found on the CRT displays ,NA,NA
"used with IBM's large and expensive mainframe computers. To IBM, 80 characters is a very ",NA,NA
special number. And why? ,NA,NA
Because that's the number of characters on an IBM punch card,NA,NA
! ,NA,NA
"Indeed, in the early days the CRT displays attached to mainframes were often used for viewing ",NA,NA
"the contents of punch cards. Occasionally, you'll hear an old-timer refer to the lines of a text-",NA,NA
only video display as ,NA,NA
cards,NA,NA
.,NA,NA
"Over the years, video display adapters have been characterized by increasing resolution and ",NA,NA
color capability. An important milestone was reached in 1987 when IBM's Personal ,NA,NA
System/2 series of personal computers and Apple's Macintosh II both introduced video ,NA,NA
adapters that did 640 pixels horizontally by 480 pixels vertically. This has remained the ,NA,NA
minimum-standard video resolution ever since.,NA,NA
"The 640-by-480 resolution was a significant milestone, but you might not believe that the ",NA,NA
"reason for its importance goes back to Thomas Edison! Around 1889, when Edison and his ",NA,NA
engineer William Kennedy Laurie Dickson were working on the Kinetograph motion picture ,NA,NA
camera and the ,NA,NA
"Kinetoscope projector, they decided to make the motion picture image one-third wider than ",NA,NA
it was,NA,NA
high. The ratio of the width of the image to its height is called the ,NA,NA
aspect ratio,NA,NA
. The ratio that ,NA,NA
"Edison and Dickson established is commonly expressed as 1.33 to 1, or 1.33:1, or, to avoid ",NA,NA
"fractions, 4:3. This aspect ratio was used for most movies for over 60 years, and it was also ",NA,NA
used for television.,NA,NA
Only in the early 1950s did the Hollywood studios introduce some ,NA,NA
widescreen,NA,NA
 ,NA,NA
techniques that competed against television by going beyond the 4:3 aspect ratio.,NA,NA
"The aspect ratio of most computer monitors is (like television) also 4:3, which you can easily ",NA,NA
prove to yourself using a ruler. The resolution 640 by 480 is also in the ratio 4:3. This means ,NA,NA
that (for example) a 100-pixel horizontal line is the same physical length as a 100-pixel ,NA,NA
vertical line. This is considered a desirable feature for computer graphics and is known as ,NA,NA
square pixels,NA,NA
.,NA,NA
Today's video adapters and monitors almost always do 640 by 480 but are also capable of ,NA,NA
various additional video ,NA,NA
modes,NA,NA
", often including resolutions of 800 by 600, 1024 by 768, ",NA,NA
"1280 by 960, and 1600 by 1200.",NA,NA
Although we normally think of the computer display and the keyboard as connected in ,NA,NA
some way—what you type on the keyboard is displayed on the screen—they're usually ,NA,NA
physically distinct.,NA,NA
Each key on the keyboard is a simple switch. The switch is closed when the key is pressed. ,NA,NA
A keyboard that resembles a typewriter might have as few as 48 keys; keyboards for ,NA,NA
today's personal computers often have over 100 keys.,NA,NA
A keyboard attached to a computer must include some hardware that provides a unique code ,NA,NA
for each key that's pressed. It's tempting to assume that this code is the ASCII code for the key. ,NA,NA
But it's not practical nor desirable to design hardware that figures out the ASCII code. For ,NA,NA
"example, the A key on the keyboard could correspond to the ASCII code 41h or 61h depending ",NA,NA
"on whether a user also pressed the Shift key. Also, today's computer keyboards have many ",NA,NA
keys that don't correspond to ASCII characters. The code provided by the keyboard hardware ,NA,NA
is instead referred to as a ,NA,NA
scan code,NA,NA
.,NA,NA
A short computer program can figure out what ASCII code (if any) corresponds to a ,NA,NA
particular key being pressed on the keyboard.,NA,NA
"To prevent my diagram of the keyboard hardware from becoming unwieldy, I'm going to ",NA,NA
"assume that our keyboard has a mere 16 keys. Whenever a key is pressed, the keyboard ",NA,NA
hardware should generate a 4-bit code with binary values ranging from 0000 through 1111.,NA,NA
The keyboard hardware contains components that we've seen before:,NA,NA
The 16 keys of the keyboard are shown as simple switches in the lower left area of this ,NA,NA
diagram. A 4-bit counter repetitively and very quickly cycles through the 16 codes ,NA,NA
corresponding to the keys. It must be fast enough to cycle through all the codes faster than a ,NA,NA
person can press and release a key.,NA,NA
The outputs of the 4-bit counter are the select inputs of both a 2-Line-to-4-Line Decoder and a ,NA,NA
"4-Line-to-1-Line Data Selector. If no keys are pressed, none of the inputs to the selector can be ",NA,NA
"1. Therefore the output of the selector isn't 1. But if a particular key is pressed, at a particular ",NA,NA
"4-bit counter output the output from the selector will be 1. For example, if the switch second ",NA,NA
"from the top and right is pressed, and if the counter output is 0110, the output from the ",NA,NA
selector becomes 1:,NA,NA
"That's the code corresponding to that key. When that key is pressed, no other counter output ",NA,NA
will cause the output of the selector to be 1. Each key has its own code.,NA,NA
"If your keyboard has 64 keys, you need a 6-bit scan code. That would involve a 6-bit counter. ",NA,NA
"You could arrange the keys in an 8x8 array, using a 3-to-8 Decoder and a 1-of-8 Selector. If ",NA,NA
"your keyboard has between 65 and 128 keys, you need a 7-bit code. You could arrange the ",NA,NA
keys in an 8x16 array and use a 4-to-16 Decoder and an 8-to-1 Selector (or a 3-to-8 Decoder ,NA,NA
and a 16-to-1 Selector).,NA,NA
What happens next in this circuit depends on the sophistication of the keyboard interface. ,NA,NA
The keyboard hardware could include 1 bit of RAM for each key. The RAM would be ,NA,NA
"addressed by the counter, and the contents of the RAM could be 0 if the key is up and 1 if the ",NA,NA
key is down. This RAM could also be read by the microprocessor to determine the status of ,NA,NA
each key.,NA,NA
"One useful part of a keyboard interface is an interrupt signal. As you'll recall, the 8080 ",NA,NA
microprocessor has an input signal that allows an external device to interrupt what the ,NA,NA
microprocessor is doing. The microprocessor responds by reading an instruction from ,NA,NA
memory. This is usually a ,NA,NA
RST,NA,NA
 instruction and causes the microprocessor to branch to a ,NA,NA
specific area of memory where a program to handle the interrupt is located.,NA,NA
"The final peripheral I'll describe in this chapter is a long-term storage device. As you'll recall, ",NA,NA
"random access memory—whether constructed from relays, tubes, or transistors—loses its ",NA,NA
"contents when the electrical power is shut off. For this reason, a complete computer also ",NA,NA
needs something for long-term storage. One time-honored approach involves punching holes ,NA,NA
"in paper or cardboard, such as IBM punch cards. In the early days of small computers, rolls of ",NA,NA
paper tape were punched with holes to save programs and data and to later reload them into ,NA,NA
memory.,NA,NA
One problem with punch cards and paper tape is that the medium isn't reusable. Once a hole ,NA,NA
is punched it can't easily be unpunched. Another problem is that it's not particularly ,NA,NA
"efficient. These days, if you can actually ",NA,NA
see,NA,NA
" a bit, it's probably safe to say that the bit is ",NA,NA
taking up entirely too much space!,NA,NA
"For these reasons, the type of long-term storage that has become much more prevalent is ",NA,NA
magnetic storage,NA,NA
". The origins of magnetic storage date back to 1878, when the principles ",NA,NA
were described by American engineer Oberlin Smith (1840–1926). The first ,NA,NA
working,NA,NA
" device, ",NA,NA
"however, came 20 years later in 1898 and was built by Danish inventor Valdemar Poulsen ",NA,NA
(1869–1942). Poulsen's ,NA,NA
telegraphone,NA,NA
 was originally intended as a device to record ,NA,NA
telephone messages when the person receiving the call wasn't at home. He employed an ,NA,NA
electromagnet—that ubiquitous device we've already encountered in the telegraph—to ,NA,NA
record sound along a moving length of steel wire. The electromagnet magnetizes the wire ,NA,NA
proportional to the ups and downs of the waveform of the sound. The magnetized wire can ,NA,NA
then induce a current to the same degree as it's moved along the coils of wire in the ,NA,NA
electromagnet. The electromagnet used for storing and reading is known as a ,NA,NA
head,NA,NA
", ",NA,NA
regardless of the type of magnetic medium it's used with.,NA,NA
"In 1928, Austrian inventor Fritz Pfleumer patented a magnetic recording device based on ",NA,NA
long lengths of paper tape that had been coated with iron particles using a technology ,NA,NA
originally designed for creating metallic bands on cigarettes. The paper was soon replaced ,NA,NA
"with a stronger cellulose acetate base, and one of the most enduring and well-known of all ",NA,NA
recording media was born. Reels of magnetic tape—now conveniently packaged in plastic ,NA,NA
cassettes—still provide an extremely popular medium for recording and playing back music ,NA,NA
and video.,NA,NA
The first commercial tape system for recording digital computer data was introduced by ,NA,NA
"Remington Rand in 1950. At the time, a reel of half-inch tape could store a few megabytes of ",NA,NA
"data. In the early days of home computers, people adapted common cassette tape recorders ",NA,NA
to save information. Small programs stored the contents of a block of memory to tape and ,NA,NA
later read it back from tape into memory. The first IBM PCs had a connector for cassette tape ,NA,NA
"storage. Tape remains a popular medium today, particularly for long-term archiving. Tape, ",NA,NA
"however, isn't an ideal medium because moving quickly to an arbitrary spot on the tape isn't ",NA,NA
"possible. It's usually necessary to fast-forward or rewind, and that takes time.",NA,NA
A medium geometrically more conducive to fast access is the disk. The disk itself is spun ,NA,NA
around its center while one or more heads attached to arms can be moved from the outside ,NA,NA
of the disk to the inside. Any area on the disk can be accessed very quickly.,NA,NA
"For recording sounds, the magnetic disk actually predates the magnetic tape. For storing ",NA,NA
"computer data, however, the first disk drive was invented at IBM in 1956. The Random ",NA,NA
Access Method of Accounting and Control (RAMAC) contained 50 metal disks 2 feet in ,NA,NA
diameter and could store 5 megabytes of data.,NA,NA
"Since then, disks have become much smaller and of higher capacity. Disks are generally ",NA,NA
categorized,NA,NA
as ,NA,NA
floppy disks,NA,NA
 (also called ,NA,NA
diskettes,NA,NA
) or ,NA,NA
hard disks,NA,NA
 (also called ,NA,NA
fixed disks,NA,NA
). Floppy disks are ,NA,NA
single sheets of coated plastic inside a protective casing made of cardboard or (more recently) ,NA,NA
"plastic. (A plastic casing prevents the diskette from bending, so the diskette is no longer quite ",NA,NA
"as floppy as the older ones, but it's still referred to as a floppy disk.) Floppy disks must be ",NA,NA
physically inserted by a person into a floppy disk ,NA,NA
drive,NA,NA
", which is the component attached to ",NA,NA
the computer that writes to and reads from the floppy disk. Early floppy disks were 8 inches in ,NA,NA
diameter. The first IBM PC used 5 ¼-inch floppy disks; today the most common format is 3.5 ,NA,NA
inches in diameter. That floppy disks can be removed from the disk drive allows them to be ,NA,NA
used for transferring data from one computer to another. Diskettes are also still an important ,NA,NA
distribution medium of commercial software.,NA,NA
A hard disk usually contains multiple metal disks permanently built into the drive. Hard disks ,NA,NA
are generally faster than floppy disks and can store more data. But the disks themselves can't ,NA,NA
be removed.,NA,NA
The surface of a disk is divided into concentric rings called ,NA,NA
tracks,NA,NA
. Each track is divided like ,NA,NA
slices of a pie into ,NA,NA
sectors,NA,NA
". Each sector stores a certain number of bytes, usually 512 bytes. The ",NA,NA
floppy disk drive on the first IBM PC used only one side of the 5 ¼-inch disk and divided it into ,NA,NA
40 tracks with 8 sectors per track and 512 bytes per sector. Each floppy disk thus stored ,NA,NA
"163,840 bytes, or 160 kilobytes. The 3.5-inch floppy disks used in PC compatibles today have ",NA,NA
"two sides, 80 tracks per side, 18 sectors per track, and 512 bytes per sector for a total of ",NA,NA
"1,474,560 bytes, or 1440 kilobytes.",NA,NA
The first hard disk drive introduced by IBM for the Personal Computer-XT in 1983 stored ,NA,NA
"ten megabytes. Today, in 1999, a 20-gigabyte hard disk drive (that's 20 ",NA,NA
billion,NA,NA
 bytes of ,NA,NA
storage) can be purchased for under $400.,NA,NA
A floppy disk or hard disk usually comes with its own electrical interface and also requires an ,NA,NA
additional interface between that and the microprocessor. Several standard interfaces are ,NA,NA
"popular for hard drives, including SCSI (Small Computer System Interface, pronounced ",NA,NA
scuzzy,NA,NA
"), ESDI (Enhanced Small Device Interface, pronounced ",NA,NA
ez dee,NA,NA
"), and IDE (Integrated ",NA,NA
Device Electronics). All these interfaces make use of direct memory access (DMA) to take over ,NA,NA
"the bus and transfer data directly between random access memory and the disk, bypassing the ",NA,NA
"microprocessor. These transfers are in increments of the disk sector size, which is usually 512 ",NA,NA
bytes.,NA,NA
Many newcomers to home computers hear too much technical talk about megabytes of this ,NA,NA
"and gigabytes of that, and they get confused about the difference between semiconductor ",NA,NA
"random access memory and disk storage. In recent years, a rule of sorts has emerged to help ",NA,NA
alleviate some confusion about terminology. The rule is that the word ,NA,NA
memory,NA,NA
 is to be used to ,NA,NA
"refer only to semiconductor random access memory, while the word ",NA,NA
storage,NA,NA
 is to be used for ,NA,NA
"everything else—usually floppy disks, hard disks, and tape. I've tried to follow that rule (even ",NA,NA
though we've encountered ,NA,NA
microprocessor machine-code instructions named ,NA,NA
Store,NA,NA
 that store bytes in RAM).,NA,NA
The most obvious difference between memory and storage is that memory is volatile; it loses ,NA,NA
its contents when the power is shut off. Storage is non-volatile; data stays on the floppy disk or ,NA,NA
hard disk until it's deliberately erased or written over. Yet there's another significant ,NA,NA
difference that you can appreciate only by understanding what a microprocessor does. When ,NA,NA
"the microprocessor outputs an address signal, it's always addressing memory, not storage.",NA,NA
Getting something from disk storage into memory so that it ,NA,NA
can,NA,NA
 be accessed by the ,NA,NA
microprocessor requires extra steps. It requires that the microprocessor run a short ,NA,NA
program that accesses the disk drive so that the disk drive transfers data from the disk into ,NA,NA
memory.,NA,NA
The difference between memory and storage can also be understood in a common analogy: ,NA,NA
Memory is like the top of your desk. Anything that's on your desk you can work with directly. ,NA,NA
"Storage is like a file cabinet. If you need to use something from the file cabinet, you have to get ",NA,NA
"up, walk over to the file cabinet, pull out the file you need, and bring it back to your desk. If ",NA,NA
"your desk gets too crowded, you need to take something from your desk back over to the file ",NA,NA
cabinet.,NA,NA
This analogy is particularly apt because data stored on disks is actually stored in entities ,NA,NA
called ,NA,NA
files,NA,NA
. Storing files and retrieving them is the province of an extremely important piece of ,NA,NA
software known as the ,NA,NA
operating system,NA,NA
.,NA,NA
Chapter 22. The Operating System,NA,NA
"We have, at long last, assembled—at least in our imaginations—what seems to be a complete ",NA,NA
"computer. This computer has a microprocessor, some random access memory, a keyboard, a ",NA,NA
"video display, and a disk drive. All the hardware is in place, and we eye with excitement the ",NA,NA
on/off switch that will power it up and bring it to life. Perhaps this project has evoked in ,NA,NA
"your mind the labors of Victor Frankenstein as he assembled his monster, or Geppetto as he ",NA,NA
built the wooden puppet that he will name Pinocchio.,NA,NA
"But still we're missing something, and it's neither the power of a lightning bolt nor the purity ",NA,NA
of a wish upon a star. Go ahead: Turn on this new computer and tell me what you see.,NA,NA
"As the cathode-ray tube warms up, the screen displays an array of perfectly formed—but ",NA,NA
totally random—ASCII characters. This is as we expect. Semiconductor memory loses its ,NA,NA
contents when the power is off and begins in a random and unpredictable state when it first ,NA,NA
"gets power. Likewise, all the RAM that we've constructed for the microprocessor contains ",NA,NA
random bytes. The microprocessor begins executing these random bytes as if they were ,NA,NA
machine code. This won't cause anything ,NA,NA
bad,NA,NA
" to happen—the computer won't blow up, for ",NA,NA
instance—but it won't be very productive either.,NA,NA
"What we're missing here is software. When a microprocessor is first turned on or reset, it ",NA,NA
"begins executing machine code at a particular memory address. In the case of the Intel 8080, ",NA,NA
"that address is 0000h. In a properly designed computer, that memory address should contain ",NA,NA
a machine-code instruction (most likely the first of many) when the computer is turned on.,NA,NA
How does that machine-code instruction get there? The process of getting software into a ,NA,NA
newly designed computer is possibly one of the most confusing aspects of the project. One ,NA,NA
way to do it is with a control panel similar to the one in ,NA,NA
Chapter 16,NA,NA
 used for writing bytes ,NA,NA
into random access memory and later reading them:,NA,NA
"Unlike the earlier control panel, this one has a switch labeled Reset. The Reset switch is ",NA,NA
"connected to the Reset input of the microprocessor. As long as that switch is on, the ",NA,NA
"microprocessor doesn't do anything. When you turn off the switch, the microprocessor begins ",NA,NA
executing machine code.,NA,NA
"To use this control panel, you turn the Reset switch on to reset the microprocessor and to stop ",NA,NA
it from executing machine code. You turn on the Takeover switch to take over the address ,NA,NA
"signals and data signals on the bus. At this time, you can use the switches labeled A",0,NA
 through ,NA,NA
A,15,NA
 to specify a 16-bit memory address. The lightbulbs labeled D,0,NA
 through D,7,NA
 show you the 8-,NA,NA
bit contents of that memory,NA,NA
"address. To write a new byte into that address, you set the byte up on switches D",0,NA
 through D,7,NA
 ,NA,NA
and flip the Write switch on and then off again. After you're finished inserting bytes into ,NA,NA
"memory, turn the Takeover switch off and the Reset switch off, and the microprocessor will ",NA,NA
execute the program.,NA,NA
This is how you enter your first machine-code programs into a computer that you've just ,NA,NA
built from scratch. That it's laborious goes without saying. That you will make little mistakes ,NA,NA
now and then is a given. That your fingers will get blisters and your brain will turn to mush is ,NA,NA
an occupational hazard.,NA,NA
But what makes it all worthwhile happens when you start to use the video display to show ,NA,NA
the results of your programs. The text-only video display we built in the last chapter has 1 ,NA,NA
kilobyte of random access memory that's used to store the ASCII codes of 25 lines of 40 ,NA,NA
characters each. A program writes to this memory the same way that it writes to any other ,NA,NA
memory in the computer.,NA,NA
"But getting program output to the video display isn't as simple as it might first seem. If, for ",NA,NA
"example, a program that you write does a particular calculation that results in the value 4Bh, ",NA,NA
you can't simply write that value to the video display memory. What you'll see in the screen in ,NA,NA
that case is the letter K because that's the letter that corresponds to the ASCII code 4Bh. ,NA,NA
"Instead, you need to write ",NA,NA
two,NA,NA
" ASCII characters to the display: 34h, which is the ASCII code for ",NA,NA
"4, and 42h, which is the ASCII code for B. Each nibble of the 8-bit result is a hexadecimal digit, ",NA,NA
which must be displayed by the ASCII code for that digit.,NA,NA
"Of course, you'll probably write little subroutines that perform this conversion. Here's one in ",NA,NA
8080 assembly language that converts a nibble in the accumulator (assumed to be a value ,NA,NA
between 00h and 0Fh inclusive) to its ASCII equivalent:,"NibbleToAscii: CPI A,0Ah ; Check if it's a letter or number
  
  JC Number
  
  
  ADD A,37h ; A to F converted to 41h to 46h
  
  RET 
  
 Number:        ADD A,30h ; 0 to 9 converted to 30h to 39h
  
  RET",NA
This subroutine calls ,NA,NA
NibbleToAscii,NA,NA
 twice to convert a byte in accumulator A to two ASCII ,NA,NA
digits in registers B and C:,"ByteToAscii: PUSH PSW           ; Save accumulator
  
  
  RRC                ; Rotate A right 4 times...
  
  RRC
  
  RRC
  
  RRC                ; ...to get high-order nibble CALL NibbleToAscii ; Convert 
 to ASCII code
  
  MOV B,A            ; Move result to register B POP PSW            ; Get 
 original A back
  
  AND A,0Fh          ; Get low-order nibble
  
  CALL NibbleToAscii ; Convert to ASCII code
  
  MOV C,A            ; Move result to register C RET",NA
These subroutines now let you display a byte in hexadecimal on the video display. If you ,NA,NA
"want to convert to decimal, it's a bit more work. The process is actually quite similar to the ",NA,NA
way a person converts hexadecimal to decimal—by several divisions by 10.,NA,NA
Remember that you're not actually entering these assembly-language programs into ,NA,NA
"memory. Instead, you're probably writing them on paper and then converting them to ",NA,NA
"machine code that you then enter into memory. This ""hand assembling"" is something that ",NA,NA
we'll continue doing until ,NA,NA
Chapter 24,NA,NA
.,NA,NA
"Although the control panel doesn't require a lot of hardware, what it also lacks is ease of use. ",NA,NA
The control panel has to be the absolute worst form of input and output ever devised. It's ,NA,NA
"downright embarrassing that we're clever enough to build our own computer from scratch, ",NA,NA
yet we're still keying in numbers in 0s and 1s. The first priority has to be to get rid of the ,NA,NA
control panel.,NA,NA
"The key, of course, is the keyboard. We've constructed the computer keyboard so that every ",NA,NA
"time a key is pressed, an interrupt to the microprocessor occurs. The interrupt controller chip ",NA,NA
that we've used in our computer causes the microprocessor to respond to this interrupt by ,NA,NA
executing a ,NA,NA
RST ,NA,NA
(,NA,NA
Restart,NA,NA
) instruction. Let's suppose that this is a ,NA,NA
RST 1,NA,NA
 instruction. This ,NA,NA
instruction causes the microprocessor to save the current program counter on the stack and ,NA,NA
"to jump to address 0008h. Beginning at that address, you'll enter some code (using the control ",NA,NA
panel) that we'll call the ,NA,NA
keyboard handler,NA,NA
.,NA,NA
"To get this all working right, you'll need some code that's executed when the microprocessor ",NA,NA
is reset. This is called ,NA,NA
initialization,NA,NA
 code. The initialization code first sets the stack pointer so ,NA,NA
that the stack is located in a valid area of memory. The code then sets every byte in the video ,NA,NA
"display memory to the hexadecimal value 20h, which is the ASCII space character. This ",NA,NA
procedure gets rid of all the random characters on the screen. The initialization code uses the ,NA,NA
OUT,NA,NA
 (,NA,NA
Output,NA,NA
) instruction to set the position of the cursor—the underline on the video display ,NA,NA
that shows you where the next character you type will be entered—to the first column of the ,NA,NA
first row. The next instruction is ,NA,NA
EI,NA,NA
 to enable interrupts so that the microprocessor can ,NA,NA
respond to the keyboard interrupt. That instruction is followed by a ,NA,NA
HLT,NA,NA
 to halt the ,NA,NA
microprocessor.,NA,NA
"And that's it for the initialization code. From now on, the computer will mostly be in a ",NA,NA
halted state resulting from executing the ,NA,NA
HLT,NA,NA
 instruction. The only event that can nudge ,NA,NA
the computer from the halted state is a Reset from the control panel or an interrupt from ,NA,NA
the keyboard.,NA,NA
The keyboard handler is much longer than the initialization code. Here's where all the really ,NA,NA
useful stuff takes place.,NA,NA
"Whenever a key is pressed on the keyboard, the interrupt signal causes the microprocessor ",NA,NA
to jump from the ,NA,NA
HLT,NA,NA
 statement at the end of the initialization code to the keyboard handler. ,NA,NA
The keyboard handler uses the ,NA,NA
IN,NA,NA
 (,NA,NA
Input,NA,NA
) instruction to determine the key that has been ,NA,NA
pressed. The keyboard handler then does something based on which key has been pressed ,NA,NA
"(that is, the keyboard handler ",NA,NA
processes,NA,NA
 each key) and then executes a ,NA,NA
RET,NA,NA
 (,NA,NA
Return,NA,NA
) ,NA,NA
instruction to go back to the ,NA,NA
HLT,NA,NA
 statement to await another keyboard interrupt.,NA,NA
"If the pressed key is a letter or a number or a punctuation mark, the keyboard handler uses ",NA,NA
"the keyboard scan code, taking into account whether the Shift key is up or down, to ",NA,NA
determine the appropriate ASCII code. It then writes this ASCII code into the video display ,NA,NA
memory at the cursor position. This procedure is called ,NA,NA
echoing,NA,NA
 the key to the display. The ,NA,NA
cursor position is then incremented so that the cursor appears in the space after the ,NA,NA
"character just displayed. In this way, someone can type a bunch of characters on the ",NA,NA
keyboard and they'll be displayed on the screen.,NA,NA
"If the key pressed is the Backspace key (corresponding to ASCII code 08h), the keyboard ",NA,NA
handler erases the character that was last written to the video display memory. (Erasing ,NA,NA
the character is simply a matter of writing ASCII code 20h—the space character—in that ,NA,NA
memory location.) It then moves the cursor backward one space.,NA,NA
Usually a person typing at the keyboard types in a line of characters—using the Backspace key ,NA,NA
when,NA,NA
"necessary to correct mistakes—and then presses the Return key, often labeled Enter on ",NA,NA
computer keyboards. In the same way that pressing the Return key on an electric typewriter ,NA,NA
"indicates that the typist is ready to go to the beginning of the next line, pressing the Enter ",NA,NA
key indicates that the typist is finished typing a line of text.,NA,NA
When the keyboard handler processes the Return or Enter key (corresponding to ASCII code ,NA,NA
"0Dh), the line of text in the video display memory is interpreted as a ",NA,NA
command,NA,NA
 to the ,NA,NA
"computer, that is, something for the keyboard handler to do. The keyboard handler includes ",NA,NA
a ,NA,NA
command processor,NA,NA
 that understands (for example) three commands: ,NA,NA
"W, D",NA,NA
", and ",NA,NA
R,NA,NA
.,NA,NA
If the line of text begins with a ,NA,NA
W,NA,NA
", the command means ",NA,NA
Write,NA,NA
 some bytes into memory. The ,NA,NA
line you type on the screen looks something like this:,W 1020 35 4F 78 23 9B AC 67,NA
"This command instructs the command processor to write the hexadecimal bytes 35, 4F, and ",NA,NA
"so on into the memory addresses beginning at address 1020h. For this job, the keyboard ",NA,NA
handler needs to convert ASCII codes to bytes—a reversal of the conversion I demonstrated ,NA,NA
earlier.,NA,NA
If the line of text begins with a ,NA,NA
D,NA,NA
", the command means ",NA,NA
Display,NA,NA
 some bytes in memory. The ,NA,NA
line you type on the screen looks like this:,D 1030,NA
The command processor responds by displaying the 11 bytes stored beginning at location ,NA,NA
1030h. (I say ,NA,NA
11 bytes,NA,NA
 because that's how many will fit on a 40-characterwide display on the ,NA,NA
same line following the address.) You can use the ,NA,NA
Display,NA,NA
 command to examine the contents ,NA,NA
of memory.,NA,NA
If the line of text begins with an ,NA,NA
R,NA,NA
", the command means ",NA,NA
Run,NA,NA
. Such a command looks like this:,R 1000,NA
"and means ""Run the program that's stored beginning at address 1000h."" The command ",NA,NA
processor stores 1000h in the register pair HL and then executes the instruction ,NA,NA
PCHL,NA,NA
", which ",NA,NA
"loads the program counter from register pair HL, effectively jumping to that address.",NA,NA
Getting this keyboard handler and command processor working is an important milestone. ,NA,NA
"Once you have it, you no longer need suffer the indignity of the control panel. Typing bytes in ",NA,NA
"from the keyboard is easier, faster, and classier.",NA,NA
"Of course, you still have the problem of all the code you've entered disappearing when you ",NA,NA
"turn off the power. For that reason, you'll probably want to store all this new code in read-",NA,NA
"only memory, or ROM. In the last chapter, we obtained a ROM chip that contained all the ",NA,NA
dot patterns necessary for displaying ASCII characters on the video display. We assumed ,NA,NA
our chip was configured with this data during manufacture. You can also program ROM ,NA,NA
chips in the privacy of your home.,NA,NA
Programmable read-only memory,NA,NA
 (PROM) chips are programmable only once. ,NA,NA
Erasable ,NA,NA
programmable read-only memory,NA,NA
 (EPROM) chips can be programmed and reprogrammed ,NA,NA
after being entirely erased by exposure to ultraviolet light.,NA,NA
"As you'll recall, we wired our RAM boards with a DIP switch that allows us to specify the ",NA,NA
"starting address of the board. If you're working with an 8080 system, initially one of your ",NA,NA
"RAM boards will be set for address 0000h. After you create a ROM, that ROM will occupy ",NA,NA
address 0000h and the RAM board can be switched to a higher address.,NA,NA
The creation of the command processor is an important milestone not only because it ,NA,NA
provides a faster means to enter bytes into memory but also because the computer is now ,NA,NA
interactive,NA,NA
". When you type something on the keyboard, the computer responds by displaying ",NA,NA
something on the screen.,NA,NA
"Once you have the command processor in ROM, you can start experimenting with writing data ",NA,NA
from memory to the disk drive (probably in chunks that correspond to the sector size of the ,NA,NA
disk) and reading the data back into memory. Storing programs and data on the disk is much ,NA,NA
safer than storing them in RAM (where they'll disappear if the power fails) and much more ,NA,NA
flexible than storing them in ROM.,NA,NA
Eventually you might want to add some new commands to the command processor. For ,NA,NA
"example, the ",NA,NA
S ,NA,NA
command stands for ,NA,NA
Store,NA,NA
:,S 2080 2 15 3,NA
This command indicates that the block of memory beginning at address 2080h is to be stored ,NA,NA
"on the disk on side 2, track 15, and sector 3. (The size of this memory block is dependent on ",NA,NA
"the sector size of the disk.) Similarly, you can add a ",NA,NA
Load,NA,NA
 command:,L 2080 2 15 3,NA
to load the sector from the disk back into memory.,NA,NA
"Of course, you'll have to keep track of what you're storing where. You'll probably keep a pad ",NA,NA
and pencil handy for this purpose. Be careful: You can't just store some code located at one ,NA,NA
address and then later load it back into memory at another address and expect it to work. All ,NA,NA
the ,NA,NA
Jump,NA,NA
 and ,NA,NA
Call ,NA,NA
"instructions will be wrong because they indicate the old addresses. Also, ",NA,NA
"you might have a program that's longer than the sector size of your disk, so you need to store ",NA,NA
it in several sectors. Because some sectors on the disk might be occupied by other programs ,NA,NA
"or data and some sectors might be free, the sectors in which you store a long program might ",NA,NA
not be consecutive on the disk.,NA,NA
"Eventually, you could decide that the manual clerical work involved in keeping track of ",NA,NA
"where everything is stored on the disk is just too much. At this point, you're ready for a ",NA,NA
file system,NA,NA
.,NA,NA
A file system is a method of disk storage in which data is organized into ,NA,NA
files,NA,NA
. A file is simply ,NA,NA
"a collection of related data that occupies one or more sectors on the disk. Most important, ",NA,NA
each file is identified by a ,NA,NA
name,NA,NA
 that helps you remember what the file contains. You can ,NA,NA
think of the disk as resembling a file cabinet in which each file has a little tab that indicates ,NA,NA
the name of the file.,NA,NA
A file system is almost always part of a larger collection of software known as an ,NA,NA
operating ,NA,NA
system,NA,NA
. The keyboard handler and command processor we've been building in this chapter ,NA,NA
could certainly evolve into an operating system. But instead of trudging through that long ,NA,NA
"evolutionary process, let's take a look instead at a real operating system and get a feel for ",NA,NA
what it does and how it works.,NA,NA
"Historically, the most important operating system for 8-bit microprocessors was CP/M ",NA,NA
"(Control Program for Micros), written in the mid-1970s for the Intel 8080 microprocessor ",NA,NA
"by Gary Kildall (born 1942), who later founded Digital Research Incorporated (DRI).",NA,NA
"CP/M is stored on a disk. In the early days of CP/M, the most common medium for CP/M was ",NA,NA
"a single-sided 8-inch diskette with 77 tracks, 26 sectors per track, and 128 bytes per sector. ",NA,NA
"(That's a total of 256,256 bytes.) The first two tracks of the disk contain CP/M itself. I'll ",NA,NA
describe shortly how CP/M gets from the disk into the computer memory.,NA,NA
The remaining 75 tracks on the CP/M disk are used for storing files. The CP/M file system is ,NA,NA
fairly,NA,NA
"simple, but it satisfies the two major requirements: First, each file on the disk is identified by a ",NA,NA
"name. This name is also stored on the disk; indeed, all the information that CP/M needs to ",NA,NA
"read these files is stored on the disk along with the files themselves. Second, files don't have to ",NA,NA
occupy consecutive sectors on a disk. It often happens that as files of various sizes are created ,NA,NA
"and deleted, free space on the disk becomes fragmented. The ability of a file system to store a ",NA,NA
large file in nonconsecutive sectors is very useful.,NA,NA
The sectors in the 75 tracks used for storing files are grouped into ,NA,NA
allocation blocks,NA,NA
. Each ,NA,NA
"allocation block contains 8 sectors, or 1024 bytes. There are 243 allocation blocks on the disk, ",NA,NA
numbered 0 through 242.,NA,NA
The first two allocation blocks (a total of 2048 bytes) are used for the ,NA,NA
directory,NA,NA
. The directory ,NA,NA
is the area of the disk that contains the names and some crucial information about every file ,NA,NA
stored on the disk. Each file stored on the disk requires a ,NA,NA
directory entry,NA,NA
 32 bytes long. ,NA,NA
"Because the total directory is just 2048 bytes, the diskette is limited to 2048 ÷ 32, or 64, files.",NA,NA
Each 32-byte directory entry contains the following information:,"Bytes
  
  Meaning
  
 0
  
 Usually set to 0
  
 1–8
  
 Filename
  
 9–11
  
 File type
  
 12
  
 File extent
  
 13–14
  
 Reserved (set to 0)
  
 15
  
 Sectors in last 
 block
  
 16–31
  
 Disk map",NA
The first byte in the directory entry is used only when the file system can be shared by two ,NA,NA
"or more people at the same time. Under CP/M, this byte is normally set to 0, as are bytes 13 ",NA,NA
and 14.,NA,NA
"Under CP/M, each file is identified with a two-part name. The first part is known as the ",NA,NA
filename,NA,NA
 and can have up to eight characters stored in bytes 1 through 8 of the directory ,NA,NA
entry; the second part is known as the ,NA,NA
file type,NA,NA
 and can have up to three characters stored in ,NA,NA
"bytes 9 through 11. There are several standard file types. For example, ",NA,NA
TXT,NA,NA
 indicates a text file ,NA,NA
"(that is, a file containing only ASCII codes), and ",NA,NA
COM,NA,NA
 (which is short for ,NA,NA
command,NA,NA
) indicates a ,NA,NA
"file containing 8080 machine-code instructions—a program. When specifying a file, the two ",NA,NA
"parts are separated by a period, like this:","MYLETTER.TXT 
  
 CALC.COM",NA
This file-naming convention has come to be known as 8.3 (pronounced ,NA,NA
eight dot three,NA,NA
"), ",NA,NA
indicating the maximum eight letters before the period and the three letters after.,NA,NA
The disk map of the directory entry indicates the allocation blocks in which the file is stored. ,NA,NA
"Suppose the first four entries in the disk map are 14h, 15h, 07h, and 23h, and the rest are ",NA,NA
"zeros. This means that the file occupies four allocation blocks, or 4 KB of space. The file might ",NA,NA
actually be a bit shorter. Byte 15 in the directory entry indicates how many 128-byte sectors ,NA,NA
are actually used in the,NA,NA
last allocation block.,NA,NA
"The disk map is 16 bytes long; that length accommodates a file up to 16,384 bytes. A file ",NA,NA
"longer than 16 KB must use multiple directory entries, which are called ",NA,NA
extents,NA,NA
". In that case, ",NA,NA
"byte 12 is set to 0 in the first directory entry, 1 in the second directory entry, and so forth.",NA,NA
I mentioned text files. Text files are also called ,NA,NA
ASCII files,NA,NA
", or ",NA,NA
text-only files,NA,NA
", or ",NA,NA
pure-ASCII files,NA,NA
", ",NA,NA
or something along those lines. A text file contains ASCII codes (including carriage return and ,NA,NA
linefeed codes) that correspond to text readable by human beings. A file that isn't a text file is ,NA,NA
called a ,NA,NA
binary ,NA,NA
file. A CP/M ,NA,NA
COM,NA,NA
 file is a binary file because it contains 8080 machine code.,NA,NA
"Suppose a file (a very small file) must contain three 16-bit numbers—for example, 5A48h, ",NA,NA
"78BFh, and F510h. A binary file with these three numbers is just 6 bytes long:",48 5A BF 78 10 F5,NA
"Of course, that's the Intel format for storing multibyte numbers. The least-significant byte ",NA,NA
comes first. A program written for Motorola processors might be more inclined to create the ,NA,NA
file this way:,5A 48 78 BF F5 10,NA
An ASCII text file storing these same four 16-bit values contains the bytes,35 41 34 38 68 0D 0A 37 38 42 46 68 0D 0A 46 35 31 30 68 0D 0A,NA
"These bytes are ASCII codes for numbers and letters, where each number is terminated by a ",NA,NA
carriage return (0Dh) and a linefeed (0A) character. The text file is more conveniently ,NA,NA
"displayed not as a string of bytes that happen to be ASCII codes, but as the characters ",NA,NA
themselves:,"5A48h 
  
 78BFh 
  
 F510h",NA
An ASCII text file that stores these three numbers could also contain these bytes:,32 33 31 31 32 0D 0A 33 30 39 31 31 0D 0A 36 32 37 33 36 0D 0A,NA
These bytes are the ASCII codes for the decimal equivalents of the three numbers:,"23112 
  
 30911 
  
 62736",NA
"Since the intent of using text files is to make the files easier for humans to read, there's ",NA,NA
really no reason not to use decimal rather than hexadecimal numbers.,NA,NA
"As I mentioned, CP/M itself is stored on the first two tracks of a disk. To run, CP/M must be ",NA,NA
loaded from the disk into memory. The ROM in a computer that uses CP/M need not be ,NA,NA
extensive. All the ROM needs to contain is a small piece of code known as a ,NA,NA
bootstrap loader,NA,NA
 ,NA,NA
(because that code effectively pulls the rest of the operating system up by its bootstraps). The ,NA,NA
bootstrap loader loads the very first 128-byte sector from the diskette into memory and runs ,NA,NA
it. This sector contains code to load the rest of CP/M into memory. The entire process is called ,NA,NA
booting,NA,NA
 the operating system.,NA,NA
"Eventually, CP/M arranges itself to occupy the area of RAM with the highest memory ",NA,NA
addresses. The entire organization of memory after CP/M has loaded looks like this:,NA,NA
This diagram isn't to scale. The three components of CP/M—the Basic Input/ Output System ,NA,NA
"(BIOS), the Basic Disk Operating System (BDOS), and the Console Command Processor ",NA,NA
(CCP)—occupy only about 6 KB of memory in total. The Transient Program Area (TPA)—,NA,NA
about 58 KB of memory in a 64-KB computer—initially contains nothing.,NA,NA
The Console Command Processor is equivalent to the command processor that we were ,NA,NA
building earlier. The word ,NA,NA
console,NA,NA
 refers to a combination of a keyboard and a display. The ,NA,NA
CCP displays a ,NA,NA
prompt,NA,NA
" on the display, which looks like this:",A>,NA
The prompt is your signal to type something in. In computers that have more than one disk ,NA,NA
"drive, the A refers to the first disk drive, the one from which CP/M was loaded. You type in ",NA,NA
commands following the prompt and press the Enter key. The CCP then executes these ,NA,NA
"commands, which usually produces information displayed on the screen. When the command ",NA,NA
"has finished, the CCP displays the prompt again.",NA,NA
The CPP recognizes just a few commands. Possibly the most important is this one:,DIR,NA
"which displays the directory of the disk—that is, a list of all the files stored on the disk. You ",NA,NA
can use the special characters ? and * to limit this list to files of a particular name or type. For ,NA,NA
"example,",DIR *.TXT,NA
"displays all text files, while",DIR A???B.*,NA
displays a list of all files that have a five-character name where the first letter is A and the ,NA,NA
last letter is B.,NA,NA
Another command is ,NA,NA
ERA,NA,NA
", which is short for ",NA,NA
Erase,NA,NA
. You use this to erase a file from the ,NA,NA
"disk. For example,",NA,NA
"erases the file with that name, while",ERA *.TXT,NA
erases all text files. Erasing a file means freeing the directory entry and the disk space ,NA,NA
occupied by the file.,NA,NA
Another command is ,NA,NA
REN,NA,NA
", which is short for ",NA,NA
Rename,NA,NA
. You use this command to change the ,NA,NA
name of a file. The ,NA,NA
TYPE,NA,NA
 command displays the contents of a text file. Because a text file ,NA,NA
"contains only ASCII codes, this command allows you to read a file right on the screen, like this:",TYPE MYLETTER.TXT,NA
The ,NA,NA
SAVE,NA,NA
 command saves one or more 256-byte memory blocks located in the Transient ,NA,NA
Program Area to a disk file with a specified name.,NA,NA
"If you type in a command that CP/M doesn't recognize, it assumes you're specifying the name ",NA,NA
of a program that's stored as a file on the disk. Programs always have the file type ,NA,NA
COM,NA,NA
", which ",NA,NA
"stands for Command. The CCP searches for a file of that name on the disk. If one exists, CP/M ",NA,NA
"loads the file from disk into the Transient Program Area, which begins at memory address ",NA,NA
"0100h. This is how you run programs that are located on the disk. For example, if you type",CALC,NA
"following the CP/M prompt, and if a file named ",NA,NA
CALC.COM,NA,NA
" exists on the disk, the CCP loads ",NA,NA
that file into memory starting at address 0100h and then executes the program by jumping ,NA,NA
to the machine-code instruction located at address 0100h.,NA,NA
Earlier I explained how you can insert machine-code instructions any-where into memory and ,NA,NA
"execute them, but in CP/M programs that are stored in disk files must be designed to be ",NA,NA
"loaded into memory beginning at a specific memory location, which is 0100h.",NA,NA
"CP/M comes with several useful programs, including ",NA,NA
PIP,NA,NA
", the Peripheral Interchange Program, ",NA,NA
which allows you to copy files. The ,NA,NA
ED,NA,NA
 program is a text editor that allows you to create and ,NA,NA
"modify text files. Programs such as PIP and ED, which are small and designed to do simple ",NA,NA
"chores, are often known as ",NA,NA
utility,NA,NA
" programs. If you were running a CP/M system, you would ",NA,NA
probably purchase larger ,NA,NA
application,NA,NA
" programs, such as word processors or computer ",NA,NA
spreadsheets. Or you might write such programs yourself. All these programs are also stored ,NA,NA
in files of the ,NA,NA
COM,NA,NA
 type.,NA,NA
So far we've seen how CP/M (like most operating systems) provides commands and utilities ,NA,NA
that let you perform rudimentary housekeeping regarding files. We've also seen how CP/M ,NA,NA
loads program files into memory and executes them. An operating system also has a third ,NA,NA
major function.,NA,NA
A program running under CP/M often needs to write some output to the video display. Or the ,NA,NA
program might need to read something that you've typed on the keyboard. Or the program ,NA,NA
"might need to read a file from the disk or to write a file to the disk. But in most cases, the ",NA,NA
CP/M program does ,NA,NA
not,NA,NA
" write its output directly into video display memory. Likewise, the ",NA,NA
CP/M program does ,NA,NA
not,NA,NA
 access the hardware of the keyboard to see what you've typed. And ,NA,NA
the CP/M program definitely does ,NA,NA
not ,NA,NA
access the disk drive hard-ware to read and write disk ,NA,NA
sectors.,NA,NA
"Instead, a program running under CP/M makes use of a collection of subroutines built into ",NA,NA
CP/M for performing these common chores. These subroutines have been specifically ,NA,NA
designed so that programs can get easy access to all the hardware of the computer—,NA,NA
"including the video display, keyboard, and disk—without worrying programmers about how ",NA,NA
these peripherals are actually,NA,NA
"connected. Most important, a program running under CP/M doesn't ",NA,NA
need,NA,NA
 to know about ,NA,NA
disk sectors and tracks. That's CP/M's job. It can instead store whole files on the disk and ,NA,NA
later read them.,NA,NA
Providing a program with easy access to the hardware of the computer is the third major ,NA,NA
function of an operating system. The access that the operating system provides is called the ,NA,NA
application programming interface,NA,NA
", or API.",NA,NA
A program running under CP/M uses the API by setting register C to a particular value ,NA,NA
(called the ,NA,NA
function,NA,NA
 value) and executing the instruction,CALL 5,NA
"For example, a program obtains the ASCII code of a key typed on the keyboard by executing","MVI C,01h 
  
 CALL 5",NA
"On return, accumulator A contains the ASCII code of the key that was pressed. Similarly,","MVI C,02h 
  
 CALL 5",NA
writes the ASCII character in accumulator A to the video display at the cursor position ,NA,NA
and then increments the cursor.,NA,NA
"If a program needs to create a file, it sets register pair DE to an area of memory that ",NA,NA
basically contains the name of the file. Then it executes the code:,"MVI C,16h 
  
 CALL 5",NA
"In this case, the ",NA,NA
CALL 5,NA,NA
 instruction causes CP/M to create an empty file on the disk. The ,NA,NA
program can then use other functions to write to the file and eventually ,NA,NA
close,NA,NA
" the file, which ",NA,NA
means it has finished using the file for now. The same program or another program can later ,NA,NA
open,NA,NA
 the file and read its contents.,NA,NA
What does ,NA,NA
CALL 5,NA,NA
 actually do? The memory location at 0005h is set up by CP/M to contain a ,NA,NA
JMP ,NA,NA
(,NA,NA
Jump,NA,NA
") instruction, which jumps to a location in the Basic Disk Operating System (BDOS) ",NA,NA
of CP/M. This area contains a bunch of subroutines that execute each of the CP/M functions. ,NA,NA
The BDOS—as its name implies—is primarily responsible for maintaining the file system on ,NA,NA
"the disk. Frequently, the BDOS has to make use of subroutines in the Basic Input/Output ",NA,NA
"System (BIOS) of CP/M, which is the area that actually accesses the hardware of the keyboard, ",NA,NA
"the video display, and the disk drives. In fact, the BIOS is the only section of CP/M that needs ",NA,NA
to know about the hardware of the computer. The CCP does everything it needs to do using ,NA,NA
"BDOS functions, and so do the utilities that come with CP/M.",NA,NA
The API is a ,NA,NA
device-independent,NA,NA
 interface to the hardware of the computer. What this means is ,NA,NA
that a program written for CP/M doesn't need to know the actual mechanics of how the ,NA,NA
"keyboard works on a particular machine, or how the video display works, or how to read and ",NA,NA
write disk sectors. It simply uses the CP/M functions to perform tasks that involve the ,NA,NA
"keyboard, display, and disk. The bonus is that a CP/M program can run on many different ",NA,NA
computers that might use very different hardware to access these peripherals. (All CP/M ,NA,NA
"programs must have an Intel 8080 microprocessor, however, or a processor that executes ",NA,NA
"8080 instructions, such as the Intel 8085 or the Zilog Z-80.) Just as long as the computer is ",NA,NA
"running CP/M, the program uses the CP/M functions to indirectly access this hardware. ",NA,NA
"Without standard APIs, programs would have to be specifically tailored to run on different",NA,NA
types of computers.,NA,NA
CP/M was once a very popular operating system for the 8080 and remains historically ,NA,NA
important.,NA,NA
CP/M was the major influence behind a 16-bit operating system named QDOS (Quick and ,NA,NA
Dirty Operating System) written by Tim Paterson of Seattle Computer Products for Intel's 16-,NA,NA
bit 8086 and 8088 chips. QDOS was eventually renamed 86-DOS and licensed by Microsoft ,NA,NA
"Corporation. Under the name MS-DOS (Microsoft Disk Operating System, pronounced ",NA,NA
em ess ,NA,NA
dahs,NA,NA
", like the German article ",NA,NA
das,NA,NA
"), the operating system was licensed to IBM for the first IBM ",NA,NA
"Personal Computer, introduced in 1981. Although a 16-bit version of CP/M (called CP/M-86) ",NA,NA
"was also available for the IBM PC, MS-DOS quickly became the standard. MS-DOS (called PC-",NA,NA
DOS on IBM's computers) was also licensed to other manufacturers who created computers ,NA,NA
compatible with the IBM PC.,NA,NA
MS-DOS didn't retain CP/M's file system. The file system in MS-DOS instead used a scheme ,NA,NA
"called the File Allocation Table, or FAT, which had been originally invented at Microsoft in ",NA,NA
"1977. The disk space is divided into clusters, which—depending on the size of the disk—can ",NA,NA
"range in size from 512 bytes to 16,384 bytes. Each file is a collection of clusters. The directory ",NA,NA
entry for a file indicates only that file's ,NA,NA
starting,NA,NA
 cluster. The FAT itself indicates for each ,NA,NA
cluster on the disk what the next cluster is.,NA,NA
The directory entries on an MS-DOS disk are 32 bytes long and use the same 8.3 filenaming ,NA,NA
"convention as CP/M. The terminology is a little different, however: The last three letters are ",NA,NA
called the filename ,NA,NA
extension,NA,NA
 rather than the file type. The MS-DOS directory entry need not ,NA,NA
"contain a list of allocation blocks. Instead, the directory includes such useful information as ",NA,NA
"the date and time the file was last modified, and the size of the file.",NA,NA
The early versions of MS-DOS were structured much like CP/M. But the BIOS wasn't required ,NA,NA
in MS-DOS because the IBM PC itself included a complete BIOS in ROM. The command ,NA,NA
processor in MS-DOS is a file named COMMAND.COM. MS-DOS programs come in two flavors. ,NA,NA
Programs with the filename extension COM are limited to 64 KB in size. Larger programs have ,NA,NA
the filename extension EXE (pronounced ,NA,NA
eks-ee,NA,NA
", for executable).",NA,NA
Although MS-DOS initially supported the ,NA,NA
CALL 5,NA,NA
" interface for API functions, a newer interface ",NA,NA
was recommended for new programs. The newer interface used a feature of the 8086 called ,NA,NA
the ,NA,NA
software interrupt,NA,NA
", which is similar to a subroutine call except that the program doesn't ",NA,NA
need to know the actual address that it's calling. A program calls an MS-DOS API function by ,NA,NA
executing the instruction ,NA,NA
INT 21h,NA,NA
 (pronounced ,NA,NA
int twenty—one,NA,NA
", even though it's ",NA,NA
hexadecimal).,NA,NA
"In theory, application programs are supposed to access the hardware of the computer only ",NA,NA
through the interfaces provided by the operating system. But many application programmers ,NA,NA
who dealt with small computer operating systems of the 1970s and early 1980s often ,NA,NA
"bypassed the operating system, particularly in dealing with the video display. Programs that ",NA,NA
"directly wrote bytes into video display memory ran faster than programs that didn't. Indeed, ",NA,NA
for some applications—such as those that needed to display graphics on the video display—,NA,NA
the operating system was totally inadequate. What many programmers liked most about MS-,NA,NA
"DOS was that it ""stayed out of the way"" and let programmers write programs as fast as the ",NA,NA
hardware allowed.,NA,NA
"For this reason, popular software that ran on the IBM PC often relied upon idiosyncrasies of ",NA,NA
the IBM PC hardware. Manufacturers of machines intended to be competitive with the IBM PC ,NA,NA
were often forced to duplicate these idiosyncrasies; not doing so would cause popular ,NA,NA
"programs to run poorly, if at all. Such software often included the hardware requirement ""IBM ",NA,NA
Personal Computer or 100,NA,NA
"percent compatible"" or something similar.",NA,NA
"MS-DOS version 2.0, released in March 1983, was enhanced to accommodate hard disk drives, ",NA,NA
which at the time were small (by today's standards) but which would soon get much larger. ,NA,NA
"The larger a disk drive, of course, the more files it can store. And the more files a disk can ",NA,NA
"store, the more confusing it becomes to find a particular file or to impose any type of ",NA,NA
organization on the files.,NA,NA
The solution in MS-DOS 2.0 is called a ,NA,NA
hierarchical file system,NA,NA
. This was added to the existing ,NA,NA
"MS-DOS file system with a minimum number of changes. As you'll recall, a disk contains an ",NA,NA
"area called a directory, which is a list of files that includes information about where the files ",NA,NA
"are stored on the disk. In a hierarchical file system, some of these files might ",NA,NA
themselves,NA,NA
 be ,NA,NA
"directories—that is, they're files that contain a list of other files. Some of these files might also ",NA,NA
be directories. The normal directory on the disk is called the ,NA,NA
root directory,NA,NA
. Directories ,NA,NA
contained in other directories are called ,NA,NA
subdirectories,NA,NA
. The directories (sometimes called ,NA,NA
folders,NA,NA
) become a way to group related files.,NA,NA
The hierarchical file system—and some other features of MS-DOS 2.0—were borrowed from ,NA,NA
"an operating system named UNIX, which was developed in the early 1970s at Bell Telephone ",NA,NA
Laboratories largely by Ken Thompson (born 1943) and Dennis Ritchie (born 1941). The ,NA,NA
funny name of the operating system is a play on words: UNIX was originally written as a less ,NA,NA
hardy version of an earlier operating system named Multics (which stands for Multiplexed ,NA,NA
Information and Computing Services) that Bell Labs had been codeveloping with MIT and GE.,NA,NA
"Among hard-core computer programmers, UNIX is the most beloved operating system of all ",NA,NA
"time. While most operating systems are written for specific computers, UNIX was designed to ",NA,NA
be ,NA,NA
portable,NA,NA
", which means that it can be adapted to run on a variety of computers.",NA,NA
"Bell Labs was, of course, a subsidiary of American Telephone & Telegraph at the time UNIX ",NA,NA
"was developed, and therefore subject to court decrees intended to curb AT&T's monopoly ",NA,NA
"position in the telephone industry. Originally, AT&T was prohibited from marketing UNIX; ",NA,NA
"the company was obliged to license it to others. So beginning in 1973, UNIX was extensively ",NA,NA
"licensed to universities, corporations, and the government. In 1983, AT&T was allowed back ",NA,NA
into the computer business and released its own version of UNIX.,NA,NA
"The result is that there's no single version of UNIX. There are, instead, a variety of different ",NA,NA
versions known under different names running on different computers sold by different ,NA,NA
vendors. Lots of people have put their fingers into UNIX and left their fingerprints behind. ,NA,NA
"Still, however, a prevalent ""UNIX philosophy"" seems to guide people as they add pieces to ",NA,NA
UNIX. Part of that philosophy is using text files as a common denominator. Many UNIX utilities ,NA,NA
"read text files, do something with them, and then write another text file. UNIX utilities can be ",NA,NA
strung together in chains that do different types of processing on these text files.,NA,NA
UNIX was originally written for computers that were too large and too expensive for just one ,NA,NA
person to use. Such computers allow multiple users to interact with them simultaneously ,NA,NA
through a technique known as ,NA,NA
time-sharing,NA,NA
. The computer is connected to multiple displays ,NA,NA
and keyboards called ,NA,NA
terminals,NA,NA
". By quickly switching attention among all the terminals, an ",NA,NA
operating system can make it seem as if the computer is servicing everyone at the same time.,NA,NA
An operating system that runs multiple programs concurrently is known as a ,NA,NA
multitasking,NA,NA
 ,NA,NA
"operating system, and obviously such an operating system is more complex than single-",NA,NA
tasking operating systems such as CP/M and MS-DOS. Multitasking complicates the file system ,NA,NA
because multiple users,NA,NA
might try to use the same files at the same time. It also affects how the computer allocates ,NA,NA
"memory to the different programs, so some kind of ",NA,NA
memory management,NA,NA
 is required. As the ,NA,NA
"multiple programs running concurrently need more memory, it's likely that the computer ",NA,NA
won't have enough memory to go around. The operating system might need to implement a ,NA,NA
technique called ,NA,NA
virtual memory,NA,NA
", in which blocks of memory are stored in temporary files ",NA,NA
during periods when the memory blocks aren't needed and then read back into memory when ,NA,NA
they are needed.,NA,NA
The most interesting development for UNIX in recent years has been the Free Software ,NA,NA
"Foundation (FSF) and the GNU project, both founded by Richard Stallman. GNU (pronounced ",NA,NA
"not like the animal but instead with a distinct G at the beginning) stands for ""GNU's Not UNIX,"" ",NA,NA
"which, of course, it's not. Instead, GNU is intended to be compatible with UNIX but distributed ",NA,NA
in a manner that prevents the software from becoming proprietary. The GNU project has ,NA,NA
"resulted in many UNIX-compatible utilities and tools, and also Linux, which is the core (or ",NA,NA
kernel,NA,NA
") of a UNIX-compatible operating system. Written largely by Linus Torvalds of Finland, ",NA,NA
Linux has become quite popular in recent years.,NA,NA
"The most significant trend in operating systems since the mid-1980s, however, has been the ",NA,NA
"development of large and sophisticated systems, such as the Apple Macintosh and Microsoft ",NA,NA
"Windows, that incorporate graphics and a visually rich video display intended to make ",NA,NA
applications easier to use. I'll describe this trend in the last chapter of this book.,NA,NA
"Chapter 23. Fixed Point, Floating Point",NA,NA
"Numbers are numbers, and in most of our daily lives we drift casually between whole ",NA,NA
"numbers, fractions, and percentages. We buy half a carton of eggs and pay 8 ¼ percent sales ",NA,NA
tax with money earned getting time-and-a-half for working 2 ¾ hours overtime. Most people ,NA,NA
are fairly comfortable—if not necessarily proficient—with numbers such as these. We can ,NA,NA
"even hear a statistic like ""the average American house-hold has 2.6 people"" without gasping in ",NA,NA
horror at the widespread mutilation that must have occurred to achieve this.,NA,NA
Yet this interchange between whole numbers and fractions isn't so casual when it comes to ,NA,NA
"computer memory. Yes, everything is stored in computers in the form of bits, which means ",NA,NA
that everything is stored as binary numbers. But some kinds of numbers are definitely easier ,NA,NA
to express in terms of bits than others.,NA,NA
We began using bits to represent what mathematicians call the positive ,NA,NA
whole numbers,NA,NA
 and ,NA,NA
what computer programmers call the positive ,NA,NA
integers,NA,NA
. We've also seen how two's ,NA,NA
complements allow us to represent ,NA,NA
negative,NA,NA
 integers in a way that eases the addition of ,NA,NA
positive and negative numbers. The table on the following page shows the range of positive ,NA,NA
"integers and two's-complement integers for 8, 16, and 32 bits of storage.","Number of Bits
  
  Range of Positive Integers
  
  Range of Two's-Complement Integers
  
 8
  
 0 through 255
  
 –128 through 127
  
 16
  
 0 through 65,535
  
 –32,768 through 32,767
  
 32
  
 0 through 4,294,967,295
  
 –2,147,483,648 through 2,147,483,647",NA
"But that's where we stopped. Beyond whole numbers, mathematicians also define ",NA,NA
rational,NA,NA
 ,NA,NA
numbers as those numbers that can be represented as a ,NA,NA
ratio,NA,NA
 of two whole numbers. This ,NA,NA
ratio is also referred to as a ,NA,NA
fraction,NA,NA
". For example, ¾ is a rational number because it's the ratio ",NA,NA
of 3 and 4. We can also write this number in ,NA,NA
decimal fraction,NA,NA
", or just ",NA,NA
decimal,NA,NA
", form: 0.75. When ",NA,NA
"we write it as a decimal, it",NA,NA
"really indicates a fraction, in this case ",NA,NA
You'll recall from ,NA,NA
Chapter 7,NA,NA
" that in a decimal number system, digits to the left of the decimal ",NA,NA
"point are multiples of integral powers of ten. Similarly, digits to the right of the decimal point ",NA,NA
are multiples of ,NA,NA
negative,NA,NA
 powers of ten. In ,NA,NA
Chapter 7,NA,NA
", I used the example 42,705.684, showing ",NA,NA
first that it's equal to,"4 x 10,000 +
  
 2 x 1000 +
  
 7 x 100 +
  
 0 x 10 +
  
 5 x 1 +
  
 6 ÷ 10 +
  
 8 ÷ 100 +
  
 4 ÷ 1000",NA
Notice the division signs. Then I showed how you can write this sequence without any ,NA,NA
division:,"4 x 10,000 +",NA
And finally here's the number using powers of ten:,"4 x 10
 4
  + 
  
 2 x 10
 3
  + 
  
 7 x 10
 2
  + 
  
 0 x 10
 1
  + 
  
 5 x 10
 0
  + 
  
 6 x 10
 -1
  
 + 
  
 8 x 10
 -2
  
 + 
  
 4 x 10
 -3",NA
"Some rational numbers aren't so easily represented as decimals, the most obvious being ",NA,NA
"⅓. If you divide 3 into 1, you'll find that ⅓ is equal to",0.3333333333333333333333333333333333333333333333333333…,NA
and on and on and on. It's common to write this more concisely with a little bar over the 3 to ,NA,NA
indicate that the digit repeats forever:,NA,NA
"Even though writing ⅓ as a decimal fraction is a bit awkward, it's still a rational number ",NA,NA
"because it's the ratio of two integers. Similarly, ",NA,NA
 is,0.1428571428571428571428571428571428571428571428571428571…,NA
or,NA,NA
Irrational numbers,NA,NA
 are monsters such as the square root of 2. This number can't be expressed ,NA,NA
"as the ratio of two integers, which means that the decimal fraction continues indefinitely ",NA,NA
without any repetition or pattern:,NA,NA
The square root of 2 is a solution of the following algebraic equation:,"x
 2
  – 2 = 0",NA
If a number is ,NA,NA
not,NA,NA
" a solution of any algebraic equation with whole number coefficients, it's ",NA,NA
called a ,NA,NA
transcendental,NA,NA
". (All transcendental numbers are irrational, but not all irrational ",NA,NA
numbers are,NA,NA
"transcendental.) Transcendental numbers include π, which is the ratio of the circumference of ",NA,NA
a circle to its diameter and which is approximately,3.1415926535897932846264338327950288419716939937511…,NA
Another transcendental number is ,NA,NA
e,NA,NA
", which is the number that this expression approaches:",NA,NA
as ,NA,NA
n,NA,NA
" gets very large, or approximately",2.71828182845904523536028747135266249775724709369996…,NA
All the numbers we've been talking about so far—rational numbers and irrational ,NA,NA
numbers—are called ,NA,NA
real,NA,NA
 numbers. This designation distinguishes them from the ,NA,NA
imaginary,NA,NA
 ,NA,NA
"numbers, which are square roots of negative numbers. ",NA,NA
Complex,NA,NA
 numbers are combinations of ,NA,NA
"imaginary numbers and real numbers. Despite their name, imaginary numbers ",NA,NA
do,NA,NA
 show up in ,NA,NA
the real world and are used (for example) in solving some advanced problems in electronics.,NA,NA
We're accustomed to thinking of numbers as ,NA,NA
continuous,NA,NA
". If you give me two rational numbers, ",NA,NA
"I can give you a number between those two numbers. In practice, all I have to do is take an ",NA,NA
"average. But digital computers can't deal with continuums. Bits are either 0 or 1, with nothing ",NA,NA
"in between. So by their very nature, digital computers must deal with ",NA,NA
discrete,NA,NA
 values. The ,NA,NA
number of discrete values you can represent is directly related to the number of bits you have ,NA,NA
"available. For example, if you choose to store positive integers using 32 bits, the values that ",NA,NA
"you can store are the whole numbers from 0 through 4,294,967,295. If you need to store the ",NA,NA
"value 4.5, you must rethink your approach and do something different.",NA,NA
Can fractional values be represented in binary? Yes they can. The easiest approach is ,NA,NA
probably binary-coded decimal (BCD). As you might remember from ,NA,NA
Chapter 19,NA,NA
", BCD is a ",NA,NA
"binary coding of decimal numbers. Each decimal digit (0, 1, 2, 3, 4, 5, 6, 7, 8, and 9) requires ",NA,NA
"4 bits, as shown in the following table:","Decimal Digit 
  
  Binary Value
  
 0
  
 0000
  
 1
  
 0001
  
 2
  
 0010
  
 3
  
 0011
  
 4
  
 0100
  
 5
  
 0101
  
 6
  
 0110
  
 7
  
 0111
  
 8
  
 1000",NA
BCD is particularly useful in computer programs that work with money amounts in dollars ,NA,NA
and cents.,NA,NA
Banks and insurance companies are just two obvious industries that deal with money a lot; in ,NA,NA
"computer programs used by these sorts of companies, many of the fractional numbers ",NA,NA
require just two decimal places.,NA,NA
"It's common to store two BCD digits in 1 byte, a system that's sometimes called ",NA,NA
packed BCD,NA,NA
. ,NA,NA
"Two's complements aren't used with BCD. For this reason, packed BCD also usually requires ",NA,NA
an extra bit to indicate whether the number is positive or negative. This is called the ,NA,NA
sign bit,NA,NA
. ,NA,NA
Because it's ,NA,NA
"convenient to have a particular BCD number stored in a whole number of bytes, that one little ",NA,NA
sign bit usually involves sacrificing 4 bits or 8 bits of storage.,NA,NA
Let's look at an example. Suppose the amounts of money that your computer program needs ,NA,NA
to work with never get as high as $10 million in either the positive or negative direction. In ,NA,NA
"other words, you only need to represent money values ranging from –9,999,999.99 through ",NA,NA
"9,999,999.99. You can do that by using 5 bytes for every dollar amount you need to store in ",NA,NA
"memory. For example, the amount –4,325,120.25 is represented by the 5 bytes",00010100 00110010 01010001 00100000 00100101,NA
"or, in hexadecimal:",14h 32h 51h 20h 25h,NA
Notice the nibble at the far left is 1 to indicate a negative value. That's the sign bit. It would ,NA,NA
"be 0 if the number were positive. All the digits in the number require 4 bits each, and you ",NA,NA
can read them directly from the hexadecimal values.,NA,NA
"If you needed instead to represent values from –99,999,999.99 through 99,999,999.99, ",NA,NA
you'd need 6 bytes—5 bytes for the 10 digits and a whole byte just for the sign bit.,NA,NA
This type of storage and notation is also called ,NA,NA
fixed-point,NA,NA
 format because the decimal point ,NA,NA
"is always fixed at a particular number of places—in our example, at two decimal places. ",NA,NA
Notice that there's nothing actually stored along with the number that indicates the position ,NA,NA
of the decimal point. Programs that work with numbers in fixed-point format must know ,NA,NA
where the decimal point is. You can create fixed-point numbers with any number of decimal ,NA,NA
"places, and you can mix and match these numbers in the same computer program. But any ",NA,NA
part of the program that does arithmetic on the numbers has to know where the decimal ,NA,NA
points are.,NA,NA
Fixed-point format works well only if you know that numbers aren't going to get too large ,NA,NA
for the memory location that you've mapped out and that you won't need more decimal ,NA,NA
places. Where fixed-point format utterly fails is in situations in which numbers can get very ,NA,NA
large or very small. Suppose you need to reserve an area of memory where you can store ,NA,NA
certain distances in units of feet. The problem is that these distances can range all over the ,NA,NA
"place. The distance from the earth to the sun is 490,000,000,000 feet, and the radius of the ",NA,NA
hydrogen atom is 0.00000000026 feet. You'd need 12 bytes of fixed-point storage to ,NA,NA
accommodate values that can get as large and as small as these.,NA,NA
We can probably work out a better way of storing numbers such as these if we recall that ,NA,NA
scientists and engineers enjoy specifying numbers using a system called ,NA,NA
scientific notation,NA,NA
. ,NA,NA
Scientific notation is particularly useful for representing very large and very small numbers ,NA,NA
because it incorporates a power of ten that allows us to avoid writing out long strings of ,NA,NA
"zeros. In scientific notation, the",NA,NA
number ,"490,000,000,000",NA
is written ,"4.9 x 10
 11",NA
and the number ,0.00000000026,NA
is written ,"2.6 x 10-
 10",NA
"In these two examples, the numbers 4.9 and 2.6 are called the ",NA,NA
fraction part,NA,NA
", or the ",NA,NA
characteristic,NA,NA
", or sometimes (although this word is more properly used in conjunction with ",NA,NA
logarithms) the ,NA,NA
mantissa,NA,NA
.,NA,NA
"But to be more in tune with the terminology used with computers, I'm going to call this ",NA,NA
part of scientific notation the ,NA,NA
significand,NA,NA
.,NA,NA
The ,NA,NA
exponent,NA,NA
" part is the power to which 10 is raised. In the first example, the exponent is 11; ",NA,NA
"and in the second example, the exponent is –10. The exponent tells you how many places the ",NA,NA
decimal point has been moved in the significand.,NA,NA
"By convention, the significand is always greater than or equal to 1 and less than 10. ",NA,NA
"Although the following numbers are the same, ","4.9 x 10
 11
  = 49 x 10
 10
  = 490 x 10
 9
  = 0.49 x 10
 12
  = 0.049 x 10
 13",NA
the first is preferred. That's sometimes called the ,NA,NA
normalized,NA,NA
 form of scientific notation.,NA,NA
Notice that the sign of the exponent indicates only the magnitude of the number and not ,NA,NA
whether the number itself is negative or positive. Here are two examples of negative numbers ,NA,NA
in scientific notation:,"–5.8125 x 10
 7",NA
is equal to,"–58,125,000",NA
and,"–5.8125 x 10
 -7",NA
is equal to,–0.00000058125,NA
"In computers, the alternative to fixed-point notation is called ",NA,NA
floating-point,NA,NA
" notation, and the ",NA,NA
floating-point format is ideal for storing small and large numbers because it's based on ,NA,NA
scientific notation. But the floating-point format as used in computers employs ,NA,NA
binary,NA,NA
 ,NA,NA
numbers written in scientific notation. The first thing we have to figure out is what fractional ,NA,NA
numbers look like in binary.,NA,NA
"This is actually easier than it might first seem. In decimal notation, digits to the right of the ",NA,NA
decimal,NA,NA
"point represent negative powers of ten. In binary notation, digits to the right of the ",NA,NA
binary ,NA,NA
point ,NA,NA
(which is simply a period and looks just like a decimal point) represent negative ,NA,NA
"powers of two. For example, this binary number",101.1101,NA
can be converted to decimal using this formula:,"1 x 4 + 
  
 0 x 2 + 
  
 1 x 1 + 
  
 1 ÷ 2 
 + 
  
 1 ÷ 4 
 + 
  
 0 ÷ 8 
 + 
  
 1 ÷ 16",NA
The division signs can be replaced with negative powers of two:,"1 x 2
 2
  + 
  
 0 x 2
 1
  + 
  
 1 x 2
 0
  + 
  
 1 x 2
 -1
  
 + 
  
 1 x 2
 -2
  
 + 
  
 0 x 2
 -3
  
 + 
  
 1 x 2
 -4",NA
Or the negative powers of two can be calculated by starting at 1 and repeatedly dividing by 2:,"1 x 4+ 
  
 0 x 2+ 
  
 1 x 1+ 
  
 1 x 0.5+ 
  
 1 x 0.25+ 
  
 0 x 0.125+ 
  
 1 x 0.0625",NA
"By this calculation, the decimal equivalent of 101.1101 is 5.8125.",NA,NA
"In decimal scientific notation, the normalized significand should be greater than or equal to 1 ",NA,NA
"but less than 10. Similarly, the normalized significand of numbers in binary scientific ",NA,NA
"notation is always greater than or equal to 1 but less than binary 10, which is 2 in decimal. So ",NA,NA
"in binary scientific notation, the number",101.1101,NA
is expressed as,"1.011101 x 2
 2",NA
One interesting implication of this rule is that a normalized binary floating-point number ,NA,NA
always has a 1 and nothing else at the left of the binary point.,NA,NA
Most contemporary computers and computer programs that deal with floating-point ,NA,NA
numbers use a standard established by the IEEE (the Institute of Electrical and Electronics ,NA,NA
"Engineers) in 1985, a standard also recognized by ANSI (the American National Standards ",NA,NA
Institute). ANSI/IEEE Std 754-1985 is called the ,NA,NA
IEEE Standard for Binary Floating-Point ,NA,NA
Arithmetic,NA,NA
. It's not very lengthy as standards go—just 18 pages—but gives the basics of ,NA,NA
encoding binary floating-point numbers in a convenient manner.,NA,NA
"The IEEE floating-point standard defines two basic formats: single precision, which requires 4 ",NA,NA
"bytes, and double precision, which requires 8 bytes.",NA,NA
Let's look at the single-precision format first. It has three parts: a 1-bit sign (0 for positive ,NA,NA
"and 1 for negative), an 8-bit exponent, and a 23-bit significand fraction arranged like this, ",NA,NA
with the least-significant bits on the right:,"s = 1-Bit Sign
  
  e = 8-Bit 
 Exponent
  
  f = 23-Bit Significand 
 Fraction",NA
"That's a total of 32 bits, or 4 bytes. Because the significand of a normalized binary floating-",NA,NA
"point number always has a 1 to the left of the binary point, that bit is ",NA,NA
not,NA,NA
 included in the ,NA,NA
storage of floating-point numbers in the IEEE format. The 23-bit ,NA,NA
fractional,NA,NA
 part of the ,NA,NA
significand is the only part stored. So even though only 23 bits are used to store the ,NA,NA
"significand, the ",NA,NA
precision,NA,NA
 is said to be 24 bits. We'll get a feel for what 24-bit precision means ,NA,NA
in a moment.,NA,NA
The 8-bit exponent part can range from 0 through 255. This is called a ,NA,NA
biased,NA,NA
" exponent, ",NA,NA
which means that you must subtract a number—called the ,NA,NA
bias,NA,NA
—from the exponent in order ,NA,NA
to determine the signed exponent that actually applies. For single-precision floating-point ,NA,NA
"numbers, this bias is 127.",NA,NA
The exponents 0 and 255 are used for special purposes that I'll describe shortly. If the ,NA,NA
"exponent ranges from 1 through 254, the number represented by particular values of ",NA,NA
s,NA,NA
 ,NA,NA
"(the sign bit), ",NA,NA
e,NA,NA
" (the exponent), and ",NA,NA
f,NA,NA
 (the significand fraction) is,"(–1)
 s
  x 1.f x 2
 e-127",NA
That negative 1 to the ,NA,NA
s,NA,NA
" power is a mathematician's annoyingly clever way of saying, ""If ",NA,NA
s,NA,NA
 is ,NA,NA
"0, the number is positive (because anything to the 0 power equals 1); and if ",NA,NA
s,NA,NA
" is 1, the ",NA,NA
"number is negative (because –1 to the 1 power is –1).""",NA,NA
The next part of the expression is ,NA,NA
1.f,NA,NA
", which means a 1 followed by a binary point, followed by ",NA,NA
the 23 bits of the significand fraction. This is multiplied by 2 to a power. The exponent is the ,NA,NA
8-bit biased exponent stored in memory minus 127.,NA,NA
Notice that I haven't mentioned any way to express a very common number that we ,NA,NA
"seem to have forgotten about, namely 0. That's one of the special cases, which are these:",NA,NA
If ,NA,NA
e,NA,NA
" equals 0, and ",NA,NA
f,NA,NA
" equals 0, the number is 0. Generally, all 32 bits are set to 0 to signify 0. ",NA,NA
"But the sign bit can be 1, in which case the number is interpreted as a ",NA,NA
negative 0,NA,NA
. A ,NA,NA
negative 0 can indicate a very small number that can't be represented with the available ,NA,NA
digits and exponents in single-precision format but which is still less than 0.,NA,NA
If ,NA,NA
e,NA,NA
 equals 0 and ,NA,NA
f,NA,NA
" doesn't equal 0, the number is valid, but it's not normalized. The number ",NA,NA
equals,NA,NA
Notice that the significand has a 0 to the left of the binary point.,NA,NA
If ,NA,NA
e,NA,NA
 equals 255 and ,NA,NA
f,NA,NA
" equals 0, the number is positive or negative infinity, depending on the ",NA,NA
sign ,NA,NA
s,NA,NA
.,NA,NA
If ,NA,NA
e,NA,NA
 equals 255 and ,NA,NA
f,NA,NA
" doesn't equal 0, the value is considered to be ",NA,NA
not a number,NA,NA
", which is ",NA,NA
abbreviated ,NA,NA
NaN,NA,NA
. A NaN could indicate an unknown number or the result of an invalid ,NA,NA
operation.,NA,NA
The smallest normalized positive or negative binary number that can be represented ,NA,NA
in single-precision floating-point format is,"1.00000000000000000000000TWO x 2
 -126",NA
That's 23 binary zeros following the binary point. The largest normalized positive or negative ,NA,NA
number is that can be represented in single-precision floating-point format is this:,"1.11111111111111111111111TWO x 2
 127",NA
"In decimal, these two numbers are approximately 1.175494351 x 10",-38,NA
 and 3.402823466 x ,NA,NA
10,38,NA
. That's the effective range of single-precision floating-point notation.,NA,NA
You might recall that 10 binary digits are approximately the same as 3 decimal digits. By that ,NA,NA
"I mean that 10 bits set to 1, which is 3FFh in hexadecimal and 1023 in decimal, is ",NA,NA
"approximately equal to 3 decimal digits set to 9, or 999. Or","2
 10
  ≈ 10
 3",NA
This relationship implies that the 24-bit binary number stored in single-precision floating-,NA,NA
"point format is roughly the equivalent of 7 decimal digits. For this reason, it's said that the ",NA,NA
single-precision floating-point format offers a ,NA,NA
precision,NA,NA
" of 24 bits, or about 7 decimal digits. ",NA,NA
What does this mean?,NA,NA
"When we were looking at fixed-point numbers, it was obvious how accurate the numbers ",NA,NA
"were. For amounts of money, for example, a fixed-point number with two decimal places is ",NA,NA
"obviously accurate to the nearest penny. But with floating-point numbers, we can't say ",NA,NA
"something like that. Depending on the value of the exponent, sometimes a floating-point ",NA,NA
"number can be accurate to a tiny fraction of a penny, and sometimes it's not even accurate to ",NA,NA
the nearest dollar.,NA,NA
It's more appropriate to say that a single-precision floating-point number is accurate to 1 ,NA,NA
part in 2,24,NA
", or 1 part in 16,777,216, or about 6 parts in a million. But what does this ",NA,NA
really,NA,NA
 ,NA,NA
mean?,NA,NA
"For one thing, it means that if you try to represent both 16,777,216 and 16,777,217 as single-",NA,NA
"precision floating-point numbers, they'll end up being identical! Moreover, any number ",NA,NA
"between those two (such as 16,777,216.5) is also considered to be identical. All three of these ",NA,NA
decimal numbers are stored as the 32-bit single-precision floating-point value,4B800000h,NA
"which, divided into the sign, exponent, and significand bits, looks like this:",0 10010111 00000000000000000000000,NA
which is the number,NA,NA
"The next-highest significand is the binary floating-point number that represents 16,777,218 ",NA,NA
or ,"1.00000000000000000000001TWO x 2
 24",NA
It might or might not be a problem that two different decimal numbers end up being stored as ,NA,NA
identical floating-point values.,NA,NA
"But if you were writing a program for a bank, and you were using single-precision ",NA,NA
"floating-point arithmetic to store dollars and cents, you probably would be deeply ",NA,NA
"disturbed to discover that $262,144.00 is the same as $262,144.01. Both these numbers ",NA,NA
are ,"1.00000000000000000000000TWO x 2
 18
 .",NA
That's one reason why fixed-point is preferred when dealing with dollars and cents. When ,NA,NA
"you work with floating-point numbers, you could also discover other little quirks that can ",NA,NA
drive you mad. Your program will do a calculation that should yield the result 3.50 and ,NA,NA
instead you get 3.499999999999. This type of thing tends to happen in floating-point ,NA,NA
"calculations, and there isn't a whole lot you can do about it.",NA,NA
If floating-point notation is what you want to use but single-precision doesn't quite hack ,NA,NA
"it, you'll probably want to use ",NA,NA
double-precision,NA,NA
 floating-point format. These numbers ,NA,NA
"require 8 bytes of storage, arranged like this:","s = 1-Bit Sign
  
  e = 11-Bit 
 Exponent
  
  f = 52-Bit Significand 
 Fraction",NA
"The exponent bias is 1023, or 3FFh, so the number stored in such a format is ","(–1)
 s
  x 1.f x 2
 e-1023",NA
"Similar rules as those we encountered with single-precision format apply for 0, infinity, ",NA,NA
and NaN.,NA,NA
The smallest positive or negative double-precision floating-point number is ,"1.0000000000000000000000000000000000000000000000000000TWO x 2
 -1022",NA
That's 52 zeros following the binary point. The largest is ,"1.1111111111111111111111111111111111111111111111111111TWO x 2
 1023",NA
The range is decimal in approximately 2.2250738585072014 x 10,-308,NA
 to ,NA,NA
1.7976931348623158 x 10,308,NA
. Ten to the 308th power is a very big number. It's 1 ,NA,NA
followed by 308 decimal zeros.,NA,NA
The 53 bits of the significand (including the 1 bit that's not included) is a resolution ,NA,NA
approximately equivalent to 16 decimal digits. This is much better than single-precision ,NA,NA
"floating-point format, but it still means that eventually some number will equal some other ",NA,NA
"number. For example, ",NA,NA
"140,737,488,355,328.00 is the same as 140,737,488,355,328.01. These two numbers are both ",NA,NA
stored as the 64-bit double-precision floating-point value ,42E0000000000000h,NA
which decodes as,NA,NA
"Of course, developing a format for storing floating-point numbers in memory is only a small ",NA,NA
part of actually using these numbers in your assembly-language programs. If you were indeed ,NA,NA
"developing a desert-island computer, you would now be faced with the job of writing a ",NA,NA
"collection of functions that add, subtract, multiply, and divide floating-point numbers. ",NA,NA
"Fortunately, these jobs can be broken down into smaller jobs that involve adding, subtracting, ",NA,NA
"multiplying, and dividing ",NA,NA
integers,NA,NA
", which you already know how to do.",NA,NA
"For example, floating-point addition basically requires that you add two significands; the ",NA,NA
tricky part is using the two exponents to figure out how the two significands mesh. Suppose ,NA,NA
you needed to perform the following addition:,"(1.1101 x 2
 5
 ) + (1.0010 x 2
 2
 )",NA
"You need to add 11101 and 10010, but not exactly like that. The difference in exponents ",NA,NA
indicates that the second number must be offset from the first. The integer addition really ,NA,NA
requires that you use 11101000 and 10010. The final sum is,"1.1111010 x 2
 5",NA
Sometimes the exponents will be so far apart that one of the two numbers won't even affect ,NA,NA
the sum. This would be the case if you were adding the distance to the sun and the radius of ,NA,NA
the hydrogen atom.,NA,NA
Multiplying two floating-point numbers means multiplying the two significands as if ,NA,NA
they were integers and adding the two integer exponents. Normalizing the significand ,NA,NA
could result in your decrementing the new exponent once or twice.,NA,NA
Another layer of complexity in floating-point arithmetic involves the calculation of fun stuff ,NA,NA
such as roots and exponents and logarithms and trigonometric functions. But all of these ,NA,NA
"jobs can be done with the four basic floating-point operations: addition, subtraction, ",NA,NA
"multiplication, and division.",NA,NA
"For example, the sine function in trigonometry can be calculated with a series expansion, like ",NA,NA
this:,NA,NA
The ,NA,NA
x,NA,NA
 argument must be in ,NA,NA
radians,NA,NA
. There are 2π radians in 360 degrees. The exclamation ,NA,NA
point is a ,NA,NA
factorial,NA,NA
 sign. It means to multiply together all the integers from 1 through the ,NA,NA
"indicated number. For example, 5! equals 1 x 2 x 3 x 4 x 5. That's just a multiplication. The ",NA,NA
"exponent in each term is also a multiplication. The rest is just division, addition, and ",NA,NA
"subtraction. The only really scary part is the ellipsis at the end, which means to continue the ",NA,NA
calculations ,NA,NA
forever,NA,NA
". In reality, however, if you restrict yourself to the range 0 through π/2 ",NA,NA
"(from which all other sine values can be derived), you don't have to go anywhere close to ",NA,NA
"forever. After about a dozen terms, you're accurate to the 53-bit resolution of double-",NA,NA
precision numbers.,NA,NA
"Of course, computers are supposed to make things easy for people, so the chore of writing a ",NA,NA
bunch of routines to do floating-point arithmetic seems at odds with the goal. That's the ,NA,NA
"beauty of software, though. Once somebody writes the floating-point routines for a particular ",NA,NA
"machine, other people can use them. Floating-point arithmetic is so important to scientific ",NA,NA
and engineering applications that it's traditionally been given a very high priority. In the early ,NA,NA
"days of computers, writing floating-point",NA,NA
routines was always one of the first software jobs when a new type of computer was built.,NA,NA
"In fact, it even makes sense to implement computer machine-code instructions that perform ",NA,NA
"floating-point arithmetic directly! Obviously, that's easier to say than to do. But that's how ",NA,NA
important floating-point calculations are. If you can implement floating-point arithmetic in ,NA,NA
hardware—similar to the multiply and divide instructions in 16-bit microprocessors—all ,NA,NA
floating-point calculations done on the machine will be faster.,NA,NA
The first commercial computer that included floating-point hardware as an option was the ,NA,NA
"IBM 704 in 1954. The 704 stored all numbers as 36-bit values. For floating-point numbers, ",NA,NA
"that broke down to a 27-bit significand, an 8-bit exponent, and a sign bit. The floating-point ",NA,NA
"hardware could do addition, subtraction, multiplication, and division. Other floating-point ",NA,NA
functions had to be implemented in software.,NA,NA
"Hardware floating-point arithmetic came to the desktop in 1980, when Intel released the ",NA,NA
"8087 Numeric Data Coprocessor chip, a type of integrated circuit usually referred to these ",NA,NA
days as a ,NA,NA
math coprocessor,NA,NA
 or a ,NA,NA
floating-point unit,NA,NA
 (FPU). The 8087 is called a ,NA,NA
co,NA,NA
processor ,NA,NA
because it couldn't be used by itself. It could be used only in conjunction with the 8086 and ,NA,NA
"8088, Intel's first 16-bit microprocessors.",NA,NA
The 8087 is a 40-pin chip that uses many of the same signals as the 8086 and 8088 chips. The ,NA,NA
microprocessor and the math coprocessor are connected by means of these signals. When the ,NA,NA
CPU reads a special instruction—called ,NA,NA
ESC,NA,NA
 for ,NA,NA
Escape,NA,NA
—the coprocessor takes over and ,NA,NA
"executes the next machine code, which indicates one of 68 instructions that include ",NA,NA
"trigonometry, exponents, and logarithms. Data types are based on the IEEE standard. At the ",NA,NA
"time, the 8087 was considered to be the most sophisticated integrated circuit ever made.",NA,NA
You can think of the coprocessor as a little self-contained computer. In response to a ,NA,NA
"particular floating-point machine code instruction (for example, ",NA,NA
FSQRT,NA,NA
 to calculate a square ,NA,NA
"root), the coprocessor internally executes its own series of instructions coded in ROM. These ",NA,NA
internal instructions are called ,NA,NA
microcode,NA,NA
". The instructions generally loop, so the result of the ",NA,NA
"calculation isn't immediately available. Still, however, the math coprocessor is usually at least ",NA,NA
10 times faster than the equivalent routines done in software.,NA,NA
The motherboard of the original IBM PC had a 40-pin socket for an 8087 chip right next to the ,NA,NA
"8088 chip. Unfortunately, this socket was empty. Users who needed the extra floating-point ",NA,NA
speed had to buy an 8087 separately and install it themselves. Even after installation of the ,NA,NA
"math coprocessor, not all applications could be expected to run faster. Some applications—",NA,NA
"such as word processors—have very little need for floating-point arithmetic. Others, such as ",NA,NA
"spreadsheet programs, can use floating-point calculation much more, and these programs ",NA,NA
"should run faster, but not all of them did.",NA,NA
"You see, programmers had to write specific code for the coprocessor that used the ",NA,NA
coprocessor's machine-code instructions. Because a math coprocessor wasn't a standard piece ,NA,NA
"of hardware, many programmers didn't bother to do so. After all, they had to write their own ",NA,NA
floating-point subroutines anyway (because most people didn't have a math coprocessor ,NA,NA
"installed), so it became extra work—not less work—to support the 8087 chip. Eventually, ",NA,NA
programmers learned to write their applications to use the math coprocessor if it was present ,NA,NA
on the machine their programs were running on and to emulate it if it wasn't there.,NA,NA
"Over the years, Intel also released a 287 math coprocessor for the 286 chip, and a 387 for the ",NA,NA
386.,NA,NA
"But with the release of the Intel 486DX in 1989, the FPU was built right into the CPU itself. No ",NA,NA
"longer was it an option! Unfortunately, in 1991 Intel released a lower-cost 486SX that did ",NA,NA
not,NA,NA
 ,NA,NA
have the built-in FPU and instead offered a 487SX math coprocessor as an option. With the ,NA,NA
"1993 release of the Pentium, however, the built-in FPU became standard again, perhaps for ",NA,NA
"all time. Motorola integrated an FPU with its 68040 microprocessor, which was released in ",NA,NA
1990. Previously Motorola sold 68881 and 68882 math coprocessors to support the earlier ,NA,NA
microprocessors in the 68000 family. The PowerPC chips also have built-in floating-point ,NA,NA
hardware.,NA,NA
Although hardware for floating-point arithmetic is a nice gift for the beleaguered assembly-,NA,NA
"language programmer, it's a rather minor historical advance when compared with some ",NA,NA
other work that began in the early 1950s. Our next stop: computer languages.,NA,NA
Chapter 24. Languages High and Low,NA,NA
Programming in machine code is like eating with a toothpick. The bites are so small and the ,NA,NA
"process so laborious that dinner takes forever. Likewise, the bytes of machine code perform ",NA,NA
the tiniest and simplest of imaginable computing tasks—loading a number from memory into ,NA,NA
"the processor, adding it to another, storing the result back to memory—so that it's difficult to ",NA,NA
imagine how they contribute to an entire meal.,NA,NA
We have at least progressed from that primitive era at the beginning of ,NA,NA
Chapter 22,NA,NA
", in which ",NA,NA
"we were using switches on a control panel to enter binary data into memory. In that chapter, ",NA,NA
we discovered how we could write simple programs that let us use the keyboard and the ,NA,NA
video display to enter and examine hexadecimal bytes of machine code. This was certainly ,NA,NA
"better, but it's not the last word in improvements.",NA,NA
"As you know, the bytes of machine code are associated with certain short mnemonics, such as ",NA,NA
MOV,NA,NA
", ",NA,NA
ADD,NA,NA
", ",NA,NA
CALL,NA,NA
", and ",NA,NA
HLT,NA,NA
", that let us refer to the machine code in something vaguely ",NA,NA
resembling English.,NA,NA
These mnemonics are often written with operands that further indicate what the machine-,NA,NA
"code instruction does. For example, the 8080 machine-code byte 46h causes the ",NA,NA
microprocessor to move into register B the byte stored at the memory address referenced ,NA,NA
by the 16-bit value in the register pair HL. This is more concisely written as,"MOV B,[HL]",NA
"Of course, it's much easier to write programs in assembly language than in machine code, ",NA,NA
but the microprocessor can't understand assembly language. I've explained how you'd ,NA,NA
write assembly-language programs on paper. Only when you thought you were ready to ,NA,NA
"run an assembly-language program on the microprocessor would you hand-assemble it, ",NA,NA
which means that you'd convert the assembly-language statements to machine-code bytes ,NA,NA
and enter them into memory.,NA,NA
What's even better is for the computer to do this conversion for you. If you were running ,NA,NA
"the CP/M operating system on your 8080 computer, you'd already have all the tools you ",NA,NA
need. Here's how it works.,NA,NA
First you create a text file to contain your program written in assembly language. You can use ,NA,NA
"the CP/M program ED.COM for this job. This program is a text editor, which means that it ",NA,NA
allows you to create and modify text files. Let's suppose you create a text file with the name ,NA,NA
PROGRAM1.ASM. The ASM file type indicates that this file contains an assembly-language ,NA,NA
program. The file might look something like this:,"ORG 0100h
  
  
  LXI DE, Text
  
  
  MVI C,9
  
  
  CALL 5
  
  
  RET 
  
 Text: DB 'Hello!$'
  
  
  END",NA
This file has a couple of statements we haven't seen before. The first one is an ,NA,NA
ORG,NA,NA
 (for ,NA,NA
origin,NA,NA
) statement. This statement does ,NA,NA
not,NA,NA
" correspond to an 8080 instruction. Instead, it ",NA,NA
"indicates that the address of the next statement is to begin at address 0100h, which you'll ",NA,NA
recall is the address where CP/M loads programs into memory.,NA,NA
The next statement is an ,NA,NA
LXI,NA,NA
 (,NA,NA
Load Extended Immediate,NA,NA
") instruction, which loads a 16-bit ",NA,NA
value into,NA,NA
"the register pair DE. In this case, that 16-bit value is given as the label ",NA,NA
Text,NA,NA
. That label is ,NA,NA
located near the bottom of the program in front of a ,NA,NA
DB,NA,NA
 (,NA,NA
Data Byte,NA,NA
") statement, something else ",NA,NA
we haven't seen before. The ,NA,NA
DB,NA,NA
 statement can be followed by several bytes separated by ,NA,NA
commas or (as I do here) by some text in single quotation marks.,NA,NA
The ,NA,NA
MVI,NA,NA
 (,NA,NA
Move Immediate,NA,NA
) statement moves the value 9 into register C. The ,NA,NA
CALL 5,NA,NA
 statement ,NA,NA
makes a CP/M function call. Function 9 means to display a string of characters beginning at ,NA,NA
the address given by the DE register pair and stop when a dollar sign is encountered. (You'll ,NA,NA
notice that the text in the last line of the program ends with a dollar sign. The use of a dollar ,NA,NA
"sign to signify the end of a character string is quite odd, but that's the way CP/M happens to ",NA,NA
work.) The final ,NA,NA
RET ,NA,NA
statement ends the program and returns control to CP/M. (That's ,NA,NA
actually one of several ways to end a CP/M program.) The ,NA,NA
END,NA,NA
 statement indicates the end of ,NA,NA
the assembly-language file.,NA,NA
"So we have a text file containing seven lines of text. The next step is to assemble it, which ",NA,NA
means to convert it to machine code. Previously we've done this by hand. But since we're ,NA,NA
"running CP/M, we can use a program included with CP/M named ASM.COM. This is the ",NA,NA
CP/M ,NA,NA
assembler,NA,NA
. We run ASM.COM from the CP/M command line this way:,ASM PROGRAM1.ASM,NA
The ASM program looks at the file PROGRAM1.ASM and creates a new file named ,NA,NA
PROGRAM1.COM that contains the machine code corresponding to the assembly-language ,NA,NA
"statements that we wrote. (Actually there's another step in the process, but it's not ",NA,NA
important in this account of what happens.) Now you can run PROGRAM1.COM from the ,NA,NA
"CP/M command line. It displays the text ""Hello!"" and then ends.",NA,NA
The PROGRAM1.COM file contains the following 16 bytes:,11 09 01 OE 09 CD 05 00 C9 48 65 6C 6C 6F 21 24,NA
The first 3 bytes are the ,NA,NA
LXI,NA,NA
" instruction, the next 2 the ",NA,NA
MVI,NA,NA
" instruction, the next 3 the ",NA,NA
CALL ,NA,NA
"instruction, and the next the ",NA,NA
RET,NA,NA
 instruction. The last 7 bytes are the ASCII ,NA,NA
"characters for the five letters of ""Hello,"" the exclamation point, and the dollar sign.",NA,NA
What an assembler such as ASM.COM does is read an assembly-language program (often ,NA,NA
called a ,NA,NA
source-code,NA,NA
 file) and write out a file containing machine code—an ,NA,NA
executable,NA,NA
 file. In ,NA,NA
"the grand scheme of things, assemblers are fairly simple programs because there's a one-to-",NA,NA
one correspondence between the assembly-language mnemonics and machine code. The ,NA,NA
assembler works by separating each line of text into mnemonics and arguments and then ,NA,NA
comparing these small words and letters with a list that the assembler contains of ,NA,NA
all,NA,NA
 the ,NA,NA
possible mnemonics and arguments. These comparisons reveal which machine-code ,NA,NA
instructions correspond to each statement.,NA,NA
Notice how the assembler figures out that the ,NA,NA
LXI,NA,NA
 instruction must set the register pair DE to ,NA,NA
the address 0109h. If the ,NA,NA
LXI,NA,NA
 instruction itself is located at 0100h (as it is when CP/M loads ,NA,NA
"the program into memory to run), address 0109h is where the text string begins. Generally a ",NA,NA
programmer using an assembler doesn't need to worry about the specific addresses ,NA,NA
associated with different parts of the program.,NA,NA
"The first person to write the first assembler had to hand-assemble the program, of course. A ",NA,NA
person who writes a new (perhaps improved) assembler for the same computer can write it in ,NA,NA
assembly language and then use the first assembler to assemble it. Once the new assembler is ,NA,NA
"assembled, it can assemble itself.",NA,NA
"Every time a new microprocessor comes out, a new assembler is needed. The new assembler, ",NA,NA
"however, can first be written on an existing computer using that computer's assembler. This ",NA,NA
is called a ,NA,NA
cross-assembler,NA,NA
. The assembler runs on Computer A but creates code that runs on ,NA,NA
Computer B.,NA,NA
Although an assembler eliminates the less-creative aspects of assembly-language ,NA,NA
"programming (the hand-assembling part), assembly language still has two major problems. ",NA,NA
The first problem (which you've perhaps already surmised) is that it can be very tedious. ,NA,NA
"You're working down on the level of the microprocessor chip, and you have to worry about ",NA,NA
every little thing.,NA,NA
The second problem is that assembly language isn't ,NA,NA
portable,NA,NA
. If you write an assembly-,NA,NA
"language program for the Intel 8080, it's not suitable for the Motorola 6800. You must ",NA,NA
rewrite the program in 6800 assembly language. This probably won't be as difficult as writing ,NA,NA
the original program because you've already solved the major organizational and algorithmic ,NA,NA
problems. But it's still a lot of work.,NA,NA
I explained in the last chapter how modern microprocessors have built-in machine-code ,NA,NA
"instructions that do floating-point arithmetic. This is certainly convenient, but it doesn't go ",NA,NA
quite far enough. It would be preferable to abandon entirely those processor-dependent ,NA,NA
"machine-code instructions that perform individual rudimentary arithmetic operations, and ",NA,NA
instead express multiple mathematical operations using a time-honored algebraic notation. ,NA,NA
Here's an example:,A x Sin (2 x PI + B) / C,NA
"where A, B, and C are numbers and PI is equal to 3.14159.",NA,NA
"Well, why not? If such a statement were in a text file, it should be possible to write an ",NA,NA
assembly-language program that reads the text file and converts the algebraic expression ,NA,NA
to machine code.,NA,NA
"If you needed to calculate such an algebraic expression only once, you could do it by hand or ",NA,NA
with a calculator. It's likely you're considering a computer solution because you need to ,NA,NA
"calculate that expression with many different values of A, B, and C. For this reason, the ",NA,NA
algebraic expression will probably not appear in isolation. You should also consider some ,NA,NA
kind of context for the expression that allows it to be evaluated for different values.,NA,NA
What you're on the verge of creating here is known as a ,NA,NA
high-level,NA,NA
 programming language. ,NA,NA
Assembly language is considered a ,NA,NA
low-level,NA,NA
 language because it's very close to the hardware ,NA,NA
of the computer.,NA,NA
Although the term ,NA,NA
high-level,NA,NA
 is used to describe any programming language other than ,NA,NA
"assembly language, some languages are considered to be higher level than others. If you were ",NA,NA
"the president of a company and you could sit at your computer and type in (or better yet, just ",NA,NA
"prop your feet up and dictate), ""Calculate all the profits and losses for this year, write up an ",NA,NA
"annual report, print off a couple thousand copies, and send them to all our stockholders,"" you ",NA,NA
"would be working with a very high-level language indeed! In the real world, programming ",NA,NA
languages don't come anywhere close to that ideal.,NA,NA
Human languages are usually the result of hundreds and thousands of years of complex ,NA,NA
"influences, random changes, and adaptations. Even artificial languages such as Esperanto ",NA,NA
"betray their origins in real language. High-level computer languages are, however, more ",NA,NA
deliberate conceptions. The challenge of inventing a programming language is quite ,NA,NA
appealing to some people because the language defines how a person conveys instructions ,NA,NA
to the computer. It was estimated in 1993 that there had been over 1000 high-level ,NA,NA
languages invented and implemented since the beginning of the 1950s.,NA,NA
"Of course, it's not enough to simply ",NA,NA
define,NA,NA
 a high-level language (which involves developing a ,NA,NA
syntax ,NA,NA
to express all the things you want to do with the language); you must also write a ,NA,NA
compiler,NA,NA
", which is the program that converts the statements of your high-level language to ",NA,NA
"machine code. Like an assembler, a compiler must read through a source-code file character ",NA,NA
"by character and break it down into short words and symbols and numbers. A compiler, ",NA,NA
"however, is much more complex than an assembler. An assembler is simplified somewhat ",NA,NA
because of the one-to-one correspondence between assembly-language statements and ,NA,NA
machine code. A compiler usually must translate a single statement of a high-level language ,NA,NA
into many machine-code instructions. Compilers aren't easy to write. Whole books are ,NA,NA
devoted to their design and construction.,NA,NA
High-level languages have advantages and disadvantages. A primary advantage is that high-,NA,NA
level languages are usually easier to learn and to program in than assembly languages. ,NA,NA
Programs written in high-level languages are often clearer and more concise. High-level ,NA,NA
"languages are often portable—that is, they aren't dependent on a particular processor as are ",NA,NA
"assembly languages. Thus, they let a programmer work without knowing about the ",NA,NA
"underlying structure of the machine on which the program will be running. Of course, if you ",NA,NA
"need to run the program on more than one processor, you need compilers that generate ",NA,NA
machine code for those processors. The actual executable files are still specific to individual ,NA,NA
processors.,NA,NA
"On the other hand, it's almost always the case that a good assembly-language programmer can ",NA,NA
write better code than a compiler can. What this means is that an executable produced from a ,NA,NA
program written in a high-level language will be larger and slower than a functionally ,NA,NA
"identical program written in assembly language. (In recent years, however, this has become ",NA,NA
less obvious as ,NA,NA
microprocessors have become more complex and compilers have also become more ,NA,NA
sophisticated in optimizing code.),NA,NA
"Also, although a high-level language might make a processor easy to use, it doesn't make it ",NA,NA
more powerful. Anything that a processor is capable of you can exploit in assembly ,NA,NA
"language. Because a high-level language must be translated into machine code, a high-level ",NA,NA
"language can only reduce the capabilities of a processor. Indeed, if a high-level language is ",NA,NA
"truly portable, it can't use features specific to certain processors.",NA,NA
"An example: Many processors have bit-shifting instructions. As you'll recall, these instructions ",NA,NA
shift the bits of the accumulator to the right or left. But almost no high-level programming ,NA,NA
"languages include such operations. If you have a programming job that could use bit shifting, ",NA,NA
"you'll have to mimic it by multiplying or dividing by 2. (Not that this is bad: Indeed, many ",NA,NA
modern compilers use a processor's bit-shifting instructions to implement multiplication or ,NA,NA
division by powers of two.) Many languages also don't include Boolean operations on bits.,NA,NA
"In the early days of home computers, most application programs were written in assembly ",NA,NA
"language. These days, however, assembly language is rarely used except for special purposes. ",NA,NA
As hardware has been added to processors that implements pipelining—the progressive ,NA,NA
execution of several ,NA,NA
instruction codes simultaneously—assembly language has become trickier and more difficult. ,NA,NA
"At the same time, compilers have become more sophisticated. The larger storage and memory ",NA,NA
capacity of today's computers has also played a role in this trend: Programmers no longer feel ,NA,NA
the need to create code that runs in a small amount of memory and fits on a small diskette.,NA,NA
Although designers of many early computers attempted to formulate problems for them in ,NA,NA
"algebraic notation, the first real working compiler is generally considered to be the A-0 for ",NA,NA
the UNIVAC,NA,NA
created by Grace Murray Hopper (1906–1992) at Remington-Rand in 1952. Dr. Hopper got ,NA,NA
an early start with computers when she worked for Howard Aiken on the Mark I in 1944. In ,NA,NA
"her eighties, she was still working in the computer industry doing public relations for Digital ",NA,NA
Equipment Corporation (DEC).,NA,NA
The oldest high-level language still in use today (although extensively revised over the years) ,NA,NA
is FORTRAN. Many computer languages have made-up names that are written in uppercase ,NA,NA
because they're acronyms of sorts. FORTRAN is a combination of the first three letters of ,NA,NA
FORmula and the first four letters of TRANslation. It was developed at IBM for the 704 series ,NA,NA
"of computers in the mid-1950s. For many years, FORTRAN was considered the language of ",NA,NA
choice for scientists and engineers. It has very extensive floating-point support and even ,NA,NA
"supports complex numbers (which, as I explained in the last chapter, are combinations of real ",NA,NA
and imaginary numbers).,NA,NA
"All programming languages have their defenders and detractors, and people can get ",NA,NA
"passionate about their favorites. In an attempt to assume a neutral position, I've chosen a ",NA,NA
language to serve as an archetype for this account of programming concepts that almost no ,NA,NA
"one uses anymore. Its name is ALGOL (which stands for ALGOrithmic Language, but ALGOL ",NA,NA
the language also shares its name with the second brightest star in the constellation ,NA,NA
Perseus). ALGOL is also appropriate for this exploration into the nature of high-level ,NA,NA
"programming languages because it's in many ways a seminal language, the direct ancestor of ",NA,NA
"many popular general-purpose languages of the past 40 years. Even today, people refer to ",NA,NA
"""ALGOL-like"" programming languages.",NA,NA
"The first version of the language, known as ALGOL 58, was designed by an international ",NA,NA
"committee in 1957 and 1958. It was improved two years later in 1960, and the revised ",NA,NA
"version was named ALGOL 60. Eventually, there was an ALGOL 68, but for this chapter I'll be ",NA,NA
"using the version of ALGOL as described by the document ""Revised Report on the ",NA,NA
"Algorithmic Language ALGOL 60"" finalized in 1962 and first published in 1963.",NA,NA
Let's write some ALGOL code. We'll assume we have an ALGOL compiler named ALGOL.COM ,NA,NA
that runs under CP/M or perhaps MS-DOS. Our first ALGOL program is a text file named ,NA,NA
FIRST.ALG. Notice the ALG file type.,NA,NA
An ALGOL program must be enclosed within the words ,NA,NA
begin,NA,NA
 and ,NA,NA
end,NA,NA
. Here's a ,NA,NA
program that displays a line of text:,"begin
  
  
  print ('This is my fist ALGOL program!'); ende",NA
You can run the ALGOL compiler by specifying the FIRST.ALG program like this:,ALGOL FIRST.ALG,NA
The ALGOL compiler will probably respond by displaying something similar to the following:,Line 3: Unrecognized keyword 'ende'.,NA
A compiler is pickier about spelling than an old-fashioned English teacher. I misspelled the ,NA,NA
word ,NA,NA
end ,NA,NA
"when I was typing the program, so the compiler tells me that the program has a ",NA,NA
syntax error,NA,NA
. At the time it encountered ,NA,NA
ende,NA,NA
", it expected to find a ",NA,NA
keyword,NA,NA
", which is a word ",NA,NA
that it recognizes.,NA,NA
"After fixing the problem, you can run the ALGOL compiler again. Sometimes a compiler will ",NA,NA
"create an executable directly (named FIRST.COM, or perhaps FIRST.EXE under MS-DOS); ",NA,NA
"sometimes you need to perform another step. Regardless, you'll soon be able to run the FIRST ",NA,NA
program from the,NA,NA
command line:,FIRST,NA
The FIRST program responds by displaying,This is my fist ALGOL program!,NA
Oops! Another spelling error. This is one that the compiler could ,NA,NA
not,NA,NA
 be expected to find. ,NA,NA
For that reason it's called a ,NA,NA
run-time error,NA,NA
—an error that's apparent only when you run ,NA,NA
the program.,NA,NA
"As is probably obvious, the ",NA,NA
print,NA,NA
 statement in our first ALGOL program displays something on ,NA,NA
"the screen, in this case a line of text. (The program is thus the ALGOL equivalent of the CP/M ",NA,NA
assembly-language program shown earlier in this chapter.) The ,NA,NA
print,NA,NA
 statement isn't actually ,NA,NA
"part of the official specification of the ALGOL language, but I'm assuming that the particular ",NA,NA
"ALGOL compiler we're using includes such a facility, sometimes called a ",NA,NA
built-in function,NA,NA
. Most ,NA,NA
ALGOL statements (but not ,NA,NA
begin,NA,NA
 and ,NA,NA
end,NA,NA
) must be followed by a semicolon. The indenting of ,NA,NA
the ,NA,NA
print,NA,NA
" statement isn't required, but indenting is often used to make the structure of the ",NA,NA
program clearer.,NA,NA
Let's assume now that you want to write a program that multiplies two numbers. Every ,NA,NA
programming language includes the concepts of ,NA,NA
variables,NA,NA
". In a program, a variable's name is ",NA,NA
"a letter, a short sequence of letters, or even a short word. In reality, the variable corresponds ",NA,NA
"to a memory location, but in the program it's referenced by means of a name, not a numeric ",NA,NA
memory address. This program has three variables named ,NA,NA
a,NA,NA
", ",NA,NA
b,NA,NA
", and ",NA,NA
c,NA,NA
:,"begin
  
  
  real a, b, c;
  
  a := 535.43;
  
  b := 289.771;
  
  c := a x b;
  
  
  print ('The product of ', a, ' and ', b, ' is ', c); end",NA
The ,NA,NA
real,NA,NA
 statement is called a ,NA,NA
declaration,NA,NA
 statement. It indicates that you want to declare the ,NA,NA
"presence of variables in your program. In this case, the variables are named ",NA,NA
a,NA,NA
", ",NA,NA
b,NA,NA
", and ",NA,NA
c,NA,NA
 and are ,NA,NA
real or floating-point numbers. (ALGOL also supports the keyword ,NA,NA
integer,NA,NA
 to declare integer ,NA,NA
variables.) Usually programming languages require that variable names begin with a letter. ,NA,NA
"Variable names can also contain numbers, just as long as the first character is a letter, but they ",NA,NA
must not contain spaces or most other characters. Often compilers place limits on the length ,NA,NA
of a variable name. I'll just use single letters in the example in this chapter.,NA,NA
If the particular ALGOL compiler we happen to be using supports the IEEE floating-point ,NA,NA
"standard, the three variables in the program each require 4 bytes of storage (for single-",NA,NA
precision numbers) or 8 bytes of storage (for double-precision numbers).,NA,NA
The next three statements are ,NA,NA
assignment,NA,NA
" statements. In ALGOL, you can always recognize an ",NA,NA
assignment statement because it's designated by a colon followed by the equal sign. (In most ,NA,NA
"computer languages, only the equal sign is required for an assignment statement.) On the left ",NA,NA
is a variable. On the right is an expression. The variable is set to the number that results from ,NA,NA
an evaluation of the expression. The first two assignment statements indicate that both ,NA,NA
a,NA,NA
 and ,NA,NA
b,NA,NA
 are assigned particular values. The third assignment statement in the program assigns the ,NA,NA
variable ,NA,NA
c,NA,NA
 to the product of variables ,NA,NA
a,NA,NA
 and ,NA,NA
b,NA,NA
.,NA,NA
"These days, the familiar x multiplication symbol is usually not allowed in programming ",NA,NA
languages because it's not part of the ASCII and EBCDIC character sets. Most programming ,NA,NA
languages use an asterisk to indicate multiplication. While ALGOL uses a slash (/) for ,NA,NA
"division, the language also includes a division sign (÷) for integer division, which indicates ",NA,NA
"how many times the divisor is contained in the dividend. ALGOL also defines an arrow (↑), ",NA,NA
"another non-ASCII character, for exponentiation.",NA,NA
Finally the ,NA,NA
print,NA,NA
 statement displays everything. It combines text and variables separated by ,NA,NA
commas. Displaying ASCII characters is probably not a major chore for the ,NA,NA
print,NA,NA
" statement, ",NA,NA
but here the function must also convert the floating-point numbers to ASCII:,The product of 535.43 and 289.771 is 155152.08653,NA
The program then terminates and returns control to the operating system.,NA,NA
"If you want to multiply a couple of other numbers, you'll need to edit the program, change ",NA,NA
"the numbers, recompile it, and run it again. You can avoid this frequent recompiling by ",NA,NA
taking advantage of another built-in function named ,NA,NA
read,NA,NA
.,"begin
  
  
  real a, b, c;
  
  print ('Enter the first number: ');
  
  read (a);
  
  print ('Enter the second number: ');
  
  read (b);
  
  c := a x b;
  
  
  print ('The product of ', a, ' and ', b, ' is ', c); end",NA
The ,NA,NA
read,NA,NA
 statements read ASCII characters that you type at the keyboard and convert them to ,NA,NA
floating-point values.,NA,NA
A very important construction in high-level languages is the ,NA,NA
loop,NA,NA
. The loop allows you to ,NA,NA
write a program that does the same thing for many different values of a variable. Suppose you ,NA,NA
"want to write a program that calculates the cubes of 3, 5, 7, and 9. You can do it like this:","begin
  
  
  real a, b;
  
  
  for a := 3, 5, 7, 9 do
  
  
  begin
  
  
  
  b := a x a x a;
  
  
  
  print ('The cube of ', a, ' is ', b);
  
  end 
  
 end",NA
The ,NA,NA
for,NA,NA
 statement sets the variable ,NA,NA
a,NA,NA
 first to the value 3 and then executes the statement that ,NA,NA
follows the ,NA,NA
do,NA,NA
 keyword. If there's more than one statement that must be executed (as is the ,NA,NA
"case here), the multiple statements must be included between ",NA,NA
begin,NA,NA
 and ,NA,NA
end,NA,NA
 statements. ,NA,NA
These two keywords define a ,NA,NA
block,NA,NA
 of statements. The ,NA,NA
for,NA,NA
 statement then executes those ,NA,NA
same statements for the variable ,NA,NA
a,NA,NA
" set to 5, 7, and 9.",NA,NA
Here's another version of the ,NA,NA
for,NA,NA
 statement. This one calculates the cubes of odd numbers ,NA,NA
from 3,NA,NA
through 99:,"begin
  
  
  real a, b;
  
  
  for a := 3 step 2 until 99 do
  
  
  begin
  
  
  
  b := a x a x a;
  
  
  
  print ('The cube of ', a, ' is ', b);
  
  end 
  
 end",NA
The ,NA,NA
for,NA,NA
 statement initially sets the variable ,NA,NA
a,NA,NA
 to 3 and executes the block following the ,NA,NA
for,NA,NA
 ,NA,NA
statement. Then ,NA,NA
a,NA,NA
 is increased by the number following the ,NA,NA
step,NA,NA
" keyword, which is 2. The new ",NA,NA
value of ,NA,NA
a,NA,NA
", which is 5, is used to execute the block. The variable ",NA,NA
a,NA,NA
 will continue to be increased ,NA,NA
"by 2. When it exceeds 99, the ",NA,NA
for,NA,NA
 loop is completed.,NA,NA
"Programming languages usually have a very strict syntax. In Algol 60, for example, the ",NA,NA
keyword ,NA,NA
for ,NA,NA
"can be followed by only one type of thing—a variable name. In English, ",NA,NA
"however, the word ",NA,NA
for,NA,NA
" can be followed by all sorts of different words, such as ",NA,NA
example,NA,NA
 in the ,NA,NA
"previous sentence. While compilers aren't simple programs to write, they're obviously ",NA,NA
much easier than programs that must interpret human languages.,NA,NA
Another important feature of most programming languages is the ,NA,NA
conditional,NA,NA
. This is a ,NA,NA
statement that causes another statement to execute only if a particular condition is true. ,NA,NA
Here's an example that uses the ALGOL built-in function ,NA,NA
sqrt,NA,NA
", which calculates a square root. ",NA,NA
The ,NA,NA
sqrt,NA,NA
" function doesn't work for negative numbers, so this program avoids that ",NA,NA
occurrence:,"begin
  
  
  real a, b;
  
  print ('Enter a number: ');
  
  read (a);
  
  
  if a < 0 then
  
  
  
  print ('Sorry, the number was negative.');
  
  
  else
  
  
  
  begin
  
  
  
  
  b = sqrt(a);
  
  
  
  
  print ('The square root of ', a, ' is ', b);
  
  
  end 
  
 end",NA
The left angle bracket (<) is a ,NA,NA
less than,NA,NA
 sign. If the user of this program types in a number that ,NA,NA
"is less than 0, the first ",NA,NA
print,NA,NA
" statement is executed. If not—that is, if the number is greater ",NA,NA
than or equal to 0—the block containing the other ,NA,NA
print,NA,NA
 statement is executed.,NA,NA
"So far, the variables shown in the programs in this chapter store only one value each. ",NA,NA
Often it's convenient for the same variable to store many values. This is known as an ,NA,NA
array,NA,NA
. An array is declared in an ALGOL program like this:,real array a[1:100];,NA
"In this case, we've indicated that we want to use this variable to store 100 different floating-",NA,NA
"point values, called ",NA,NA
elements,NA,NA
 of the array. The first one is referenced by ,NA,NA
a[1],NA,NA
", the second by ",NA,NA
a[2],NA,NA
", and the last by ",NA,NA
a[100,NA,NA
]. The number in brackets is called the ,NA,NA
index,NA,NA
 of the array.,NA,NA
This program calculates all the square roots of 1 through 100 and stores them in an array. ,NA,NA
Then it prints them out:,"begin
  
  real array a[1:100];
  
  integer i;
  
  for i := 1 step 1 until 100 do
  
  
  a[i] := sqrt(i);
  
  
  for i := 1 step 1 until 100 do
  
  
  
  print ('The square root of ', i, ' is ', a[i]); end",NA
This program also shows an ,NA,NA
integer,NA,NA
 variable named ,NA,NA
i,NA,NA
 (which is a traditional name for an ,NA,NA
integer ,NA,NA
variable because it's the first letter of the word). In the first ,NA,NA
for,NA,NA
" loop, each element ",NA,NA
of the array is assigned the square root of its index. In the second ,NA,NA
for,NA,NA
" loop, these are ",NA,NA
printed out.,NA,NA
In addition to ,NA,NA
real,NA,NA
 and ,NA,NA
integer,NA,NA
", variables can also be declared as ",NA,NA
Boolean,NA,NA
. (Remember George ,NA,NA
Boole from ,NA,NA
Chapter 10,NA,NA
?) A ,NA,NA
Boolean,NA,NA
" variable has only two possible values, which are ",NA,NA
true,NA,NA
 and ,NA,NA
false,NA,NA
. I make use of a ,NA,NA
Boolean,NA,NA
 array (and almost every other feature we've learned about so ,NA,NA
far) in the final program of this chapter—a program that implements a famous algorithm for ,NA,NA
finding prime numbers called the Sieve of Eratosthenes. Eratosthenes (circa 276–196 BCE) ,NA,NA
was the librarian of the legendary library at Alexandria and is best remembered today for ,NA,NA
accurately calculating the ,NA,NA
circumference of the earth.,NA,NA
Prime numbers are those whole numbers that are divisible without a remainder only by ,NA,NA
"themselves and 1. The first prime number is 2 (the only even prime number), and the primes ",NA,NA
"continue with 3, 5, 7, 11, 13, 17, and so forth.",NA,NA
Eratosthenes' technique begins with a list of the positive whole numbers beginning with 2. ,NA,NA
"Because 2 is a prime number, cross out all the numbers that are multiples of 2. (That's all the ",NA,NA
"even numbers except 2.) Those numbers aren't primes. Because 3 is a prime number, cross ",NA,NA
out all the numbers that are multiples of 3. We already know 4 isn't a prime number because ,NA,NA
"it has been crossed out. The next prime is 5, so cross out all the multiples of 5. Continue in this ",NA,NA
way. What you have left are the prime numbers.,NA,NA
"An ALGOL program to determine all the prime numbers through 10,000 can implement this ",NA,NA
algorithm by declaring a ,NA,NA
Boolean,NA,NA
" array with indices from 2 through 10,000:","begin
  
  Boolean array a[2:10000];
  
  integer i, j;
  
  for i := 2 step 1 until 10000 do
  
  
  a[i] := true;
  
  for i := 2 step 1 until 100 do
  
  
  if a[i] then
  
  
  
  for j := 2 step 1 until 10000 ÷ i do
   
  
  a[i 
 x j] := false;
  
  
  for i := 2 step 1 until 10000 do
  
  
  
  if a[i] then",NA
The first ,NA,NA
for,NA,NA
 loop sets all the array elements to the Boolean value ,NA,NA
true,NA,NA
". Thus, the program ",NA,NA
starts by assuming that all the numbers are prime. The second ,NA,NA
for,NA,NA
 loop goes from 1 ,NA,NA
"through 100 (the square root of 10,000). If the number is prime, which means that ",NA,NA
a[i],NA,NA
 is ,NA,NA
"true, another ",NA,NA
for,NA,NA
 loop sets all the multiples of that number to ,NA,NA
false,NA,NA
. Those numbers aren't ,NA,NA
prime. The final ,NA,NA
for,NA,NA
" loop prints out all the prime numbers, which are the values of ",NA,NA
i,NA,NA
 where ,NA,NA
a[i],NA,NA
 is true.,NA,NA
Sometimes people squabble over whether programming is an art or a science. On the one ,NA,NA
"hand, you have college curricula in ",NA,NA
Computer Science,NA,NA
", and on the other hand, you have ",NA,NA
books such as Donald Knuth's famous ,NA,NA
The Art of Computer Programming,NA,NA
" series. ""Rather,"" ",NA,NA
"wrote physicist Richard Feynman, ""computer science is like engineering—it is all about ",NA,NA
"getting something to do something.""",NA,NA
"If you ask 100 different people to write a program that prints out prime numbers, you'll get ",NA,NA
100 different solutions. Even those programmers who use the Sieve of Eratosthenes won't ,NA,NA
"implement it in precisely the same way that I did. If programming truly were a science, there ",NA,NA
"wouldn't be so many possible solutions, and incorrect solutions would be more obvious. ",NA,NA
"Occasionally, a programming problem incites flashes of creativity and insight, and that's the ",NA,NA
"""art"" part. But programming is mostly a designing and building process not unlike erecting a ",NA,NA
bridge.,NA,NA
Many of the early programmers were scientists and engineers who could be expected to ,NA,NA
formulate their problems in the mathematical algorithms required by FORTRAN and ALGOL. ,NA,NA
"Throughout the history of programming languages, however, people have tried creating ",NA,NA
languages that could be used by a wider range of people.,NA,NA
One of the first successful languages designed for businesspeople and business problems was ,NA,NA
"COBOL (the COmmon Business Oriented Language), still widely used today. A committee that ",NA,NA
"combined American industries and the defense department created COBOL beginning in 1959, ",NA,NA
"influenced by Grace Hopper's early compilers. In part, COBOL was designed so that managers, ",NA,NA
"while probably not doing the actual coding, could at least ",NA,NA
read,NA,NA
 the program code and check ,NA,NA
"that it was doing what it was supposed to be doing. (In real life, however, this rarely occurs.)",NA,NA
COBOL has extensive support for reading ,NA,NA
records,NA,NA
 and generating ,NA,NA
reports,NA,NA
. Records are ,NA,NA
"collections of information organized in a consistent manner. For example, an insurance ",NA,NA
company might maintain large files containing information on all the policies it has sold. Each ,NA,NA
"policy would be a separate record. The record would include the person's name, a birth date, ",NA,NA
and other information. Many early COBOL programs were written to deal with 80-column ,NA,NA
"records stored on IBM punch cards. To use as little space as possible on these cards, calendar ",NA,NA
"years were often coded as two digits rather than four, leading to the most common (but least ",NA,NA
"publicized) instances of the infamous ""millennium bug"" as the year 2000 approached.",NA,NA
"In the mid-1960s, IBM, in connection with its System/360 project, developed a language ",NA,NA
named PL/I. (The I is actually a Roman numeral and pronounced ,NA,NA
one,NA,NA
", so PL/I really stands for ",NA,NA
Programming Language Number One.) PL/I was intended to incorporate the block structure ,NA,NA
"of ALGOL, the scientific and mathematics functions of FORTRAN, and the record and report ",NA,NA
capabilities of COBOL. But the language never quite achieved the popularity of FORTRAN and ,NA,NA
COBOL.,NA,NA
"Although versions of FORTRAN, ALGOL, COBOL, and PL/I were available for home ",NA,NA
"computers, none of them had quite the impact on small machines that BASIC had.",NA,NA
BASIC (Beginner's All-purpose Symbolic Instruction Code) was developed in 1964 by John ,NA,NA
"Kemeny and Thomas Kurtz, of the Dartmouth Mathematics Department, in connection with ",NA,NA
Dartmouth's time-,NA,NA
sharing system. Most students at Dartmouth weren't math or engineering majors and hence ,NA,NA
couldn't be expected to mess around with punch cards and difficult program syntax. A ,NA,NA
Dartmouth student sitting at a terminal could create a BASIC program by simply typing BASIC ,NA,NA
statements preceded by numbers.,NA,NA
The numbers indicated the order of the statements in the program. Statements not preceded ,NA,NA
by numbers were commands to the system such as ,NA,NA
SAVE,NA,NA
" (save the BASIC program to disk), ",NA,NA
LIST ,NA,NA
"(display the lines in order), and ",NA,NA
RUN,NA,NA
 (compile and run the program). The first BASIC ,NA,NA
program in the first published BASIC instruction manual was,"10 LET X = (7 + 8) / 3 
  
 20 PRINT X 
  
 30 END",NA
"Unlike ALGOL, BASIC didn't require the programmer to specify whether a variable was to be ",NA,NA
stored as an integer or a floating-point value. Most numbers were stored as floating-point ,NA,NA
values without the programmer needing to worry about it.,NA,NA
Many subsequent implementations of BASIC have been in the form of ,NA,NA
interpreters,NA,NA
 rather than ,NA,NA
compilers,NA,NA
". As I explained earlier, a compiler reads a source-code file and creates an executable ",NA,NA
"file. An interpreter, however, reads source code and executes it directly as it's reading it ",NA,NA
"without creating an executable file. Interpreters are easier to write than compilers, but the ",NA,NA
execution time of the interpreted program tends to be slower than that of a compiled ,NA,NA
"program. On home computers, BASIC got an early start when buddies Bill Gates (born 1955) ",NA,NA
and Paul Allen (born 1953) wrote a BASIC interpreter for the Altair 8800 in 1975 and jump-,NA,NA
"started their company, Microsoft Corporation.",NA,NA
"The Pascal programming language, which inherited much of its structure from ALGOL but ",NA,NA
"included record handling from COBOL, was designed in the late 1960s by Swiss computer ",NA,NA
science professor Niklaus Wirth (born 1934). Pascal was quite popular for IBM PC ,NA,NA
"programmers, but in a very specific form—the product Turbo Pascal, introduced by Borland ",NA,NA
International in 1983 for the bargain price of $49.95. Turbo Pascal (written by Danish student ,NA,NA
"Anders Hejlsberg, born in 1960) was a version of Pascal that came complete with an ",NA,NA
integrated development environment,NA,NA
. The text editor and the compiler were combined in a ,NA,NA
single program that facilitated very fast programming. Integrated development environments ,NA,NA
"had been popular on large mainframe computers, but Turbo Pascal heralded their arrival on ",NA,NA
small machines.,NA,NA
"Pascal was also a major influence on Ada, a language developed for use by the United ",NA,NA
"States Department of Defense. The language was named after Augusta Ada Byron, whom I ",NA,NA
mentioned in ,NA,NA
Chapter 18,NA,NA
 as the chronicler of Charles Babbage's Analytical Engine.,NA,NA
"And then there's C, a much-beloved programming language created between 1969 and 1973 ",NA,NA
largely by Dennis M. Ritchie at Bell Telephone Laboratories. People often ask why the ,NA,NA
language is called C.,NA,NA
"The simple answer is that it was derived from an early language called B, which was a ",NA,NA
"simplified version of BCPL (Basic CPL), which was derived from CPL (Combined ",NA,NA
Programming Language).,NA,NA
I mentioned in ,NA,NA
Chapter 22,NA,NA
 that the UNIX operating system was designed to be portable. ,NA,NA
Most operating systems at the time were written in assembly language for a specific ,NA,NA
"processor. In 1973, UNIX was written (or rather, rewritten) in C, and since then the ",NA,NA
operating system and the language have been closely identified.,NA,NA
"C is generally a very terse language. For example, instead of the words ",NA,NA
begin,NA,NA
 and ,NA,NA
end,NA,NA
 used ,NA,NA
"in ALGOL and Pascal to delimit blocks, C uses the curly braces { and }. Here's another ",NA,NA
example. It's very common for a programmer to add a constant amount to a variable:,NA,NA
"In C, you can shorten this to",i += 5;,NA
"If you only need to add 1 to the variable (that is, to increment it), you can shorten the ",NA,NA
statement even further:,i++;,NA
"On 16-bit or 32-bit microprocessors, such a statement can be carried out by a single ",NA,NA
machine-code instruction.,NA,NA
I mentioned earlier that most high-level languages don't include bit-shifting operations or ,NA,NA
"Boolean operations on bits, which are features supported by many processors. C is the ",NA,NA
exception to this rule.,NA,NA
"In addition, an important feature of C is its support of ",NA,NA
pointers,NA,NA
", which are essentially numeric ",NA,NA
memory addresses. Because C has operations that parallel many common processor ,NA,NA
"instructions, C is sometimes categorized as a ",NA,NA
high-level assembly language,NA,NA
. More than any ,NA,NA
"ALGOL-like language, C closely mimics common processor instruction sets.",NA,NA
Yet ,NA,NA
all,NA,NA
 ALGOL-like languages—which really means ,NA,NA
most,NA,NA
 commonly used programming ,NA,NA
languages—were designed based on von Neumann architecture computers. Breaking out of ,NA,NA
"the von Neumann mind-set when designing a computer language isn't easy, and getting other ",NA,NA
people to use such a language is even harder. One such non–von Neumann language is LISP ,NA,NA
"(which stands for List Processing), which was designed by John McCarthy in the late 1950s ",NA,NA
and is useful for work in the field of artificial intelligence. Another language that's just as ,NA,NA
"unusual but nothing like LISP is APL (A Programming Language), developed in the late 1950s ",NA,NA
by Kenneth Iverson. APL uses a collection of odd symbols that perform operations on whole ,NA,NA
arrays of numbers at once.,NA,NA
"While ALGOL-like languages have retained their dominance, in recent years they've ",NA,NA
picked up certain enhancements that have resulted in what are called ,NA,NA
object-oriented,NA,NA
 ,NA,NA
languages. These languages are useful for working with the graphical operating systems ,NA,NA
that I'll describe in the next (and last) chapter.,NA,NA
Chapter 25. The Graphical Revolution,NA,NA
"Readers of the September 10, 1945, issue of ",NA,NA
Life,NA,NA
 magazine encountered mostly the usual ,NA,NA
"eclectic mix of articles and photographs: stories about the end of the Second World War, an ",NA,NA
"account of dancer Vaslav Nijinsky's life in Vienna, a photo essay on the United Auto Workers. ",NA,NA
Also included in that issue was something unexpected: a provocative article by Vannevar ,NA,NA
Bush (1890–1974) about the future of scientific research. Van Bush (as he was called) had ,NA,NA
already made his mark in the history of computing by designing one of the most significant ,NA,NA
analog computers—the differential analyzer—between 1927 and 1931 while an engineering ,NA,NA
professor at MIT. At the time of the ,NA,NA
Life,NA,NA
" article in 1945, Bush was serving as Director of the ",NA,NA
"Office of Scientific Research and Development, which had been responsible for coordinating ",NA,NA
"U.S. scientific activities during the war, including the Manhattan Project.",NA,NA
Condensed somewhat from its first appearance two months earlier in ,NA,NA
The Atlantic Monthly,NA,NA
", ",NA,NA
Bush's ,NA,NA
Life,NA,NA
" article ""As We May Think"" described some hypothetical inventions of the future ",NA,NA
ostensibly for the scientist and researcher who must deal with an ever-increasing number of ,NA,NA
technical journals and articles. Bush saw microfilm as the solution and imagined a device he ,NA,NA
called the ,NA,NA
Memex,NA,NA
" to store books, articles, records, and pictures inside a desk. The Memex ",NA,NA
"also allowed the user to establish thematic connections among these works, according to the ",NA,NA
associations normally made by the human mind. He even imagined a new professional group ,NA,NA
of people who would forge these trails of association through massive bodies of information.,NA,NA
Although articles about the delights of the future have been common throughout the ,NA,NA
"twentieth century, ""As We May Think"" is different. This isn't a story about household ",NA,NA
laborsaving devices or futuristic transportation or robots. This is a story about ,NA,NA
information,NA,NA
 ,NA,NA
and how new technology can help us successfully deal with it.,NA,NA
"Through the six and a half decades since the first relay calculators were built, computers have ",NA,NA
"become smaller, faster, and cheaper all at the same time. This trend has changed the very ",NA,NA
"nature of computing. As computers get cheaper, each person can have his or her own. As ",NA,NA
"computers get smaller and faster, software can become more sophisticated and the machines ",NA,NA
can assume more and more work.,NA,NA
One way in which this extra power and speed can be put to good use is in improving the most ,NA,NA
"crucial part of the computer system, which is the ",NA,NA
user interface,NA,NA
—the point at which human ,NA,NA
"and computer meet. People and computers are very different animals, and unfortunately it's ",NA,NA
easier to persuade people to make adjustments to accommodate the peculiarities of ,NA,NA
computers than the other way around.,NA,NA
"In the early days, digital computers weren't interactive at all. Some of them were ",NA,NA
"programmed using switches and cables, while others used punched paper tape or film. By the ",NA,NA
"1950s and 1960s (and even continuing into the 1970s), computers had evolved to the point ",NA,NA
where ,NA,NA
batch processing,NA,NA
" was the norm: Programs and data were punched on cards, which ",NA,NA
"were then read into computer memory. The program analyzed the data, drew some ",NA,NA
"conclusions, and printed the results on paper.",NA,NA
The earliest interactive computers used teletypewriters. Setups such as the Dartmouth ,NA,NA
time-sharing system (dating from the early 1960s) that I described in the preceding chapter ,NA,NA
"supported multiple teletypewriters that could be used at the same time. In such a system, a ",NA,NA
"user types a line at the teletypewriter, and the computer replies with one or more lines in ",NA,NA
response. The exchange of information between teletypewriter and computer consists ,NA,NA
entirely of streams of ASCII (or another,NA,NA
"character set), which are almost entirely character codes with some simple control codes, ",NA,NA
such as the carriage return and linefeed. The transaction proceeds only in one direction down ,NA,NA
the roll of paper.,NA,NA
The cathode-ray tube (which became more common during the 1970s) shouldn't have such ,NA,NA
"restrictions, however. Software can instead treat the entire screen in a more flexible ",NA,NA
"manner—as a two-dimensional platform for information. Yet, possibly in an attempt to keep ",NA,NA
"the display output logic of an operating system generalized, much early software written for ",NA,NA
"small computers continued to treat the CRT as a ""glass teletypewriter""—displaying output ",NA,NA
line by line going down the screen and scrolling the contents of the screen up when the text ,NA,NA
reached the bottom. All the utilities in CP/M and most utilities in MS-DOS used the video ,NA,NA
display in a teletypewriter mode. Perhaps the archetypal teletypewriter operating system is ,NA,NA
"UNIX, which still proudly upholds that tradition.",NA,NA
"Interestingly enough, the ASCII character set isn't entirely inadequate in dealing with the ",NA,NA
"cathode-ray tube. When ASCII was originally designed, the code ",NA,NA
1Bh,NA,NA
 was labeled Escape and ,NA,NA
"was specifically intended for handling extensions of the character set. In 1979, the American ",NA,NA
"National Standards Institute (ANSI) published a standard entitled ""Additional Controls for ",NA,NA
"Use with American National Standard Code for Information Interchange."" The purpose of this ",NA,NA
"standard was ""to accommodate the foreseeable needs for input/output control of two-",NA,NA
"dimensional character-imaging devices, including interactive terminals of both the cathode ",NA,NA
"ray tube and printer types…""",NA,NA
"Of course, the Escape code ",NA,NA
1Bh,NA,NA
 is just 1 byte and can mean only one thing. The Escape code ,NA,NA
works by prefacing variable-length sequences that perform a variety of functions. For ,NA,NA
"example, the sequence",1Bh 5Bh 32h 4Ah,NA
which is the Escape code followed by the characters ,NA,NA
[2J,NA,NA
", is defined to erase the entire screen ",NA,NA
and move the cursor to the upper left corner. This isn't something that can be done on a ,NA,NA
teletypewriter. The sequence,1Bh 5Bh 35h 3Bh 32h 39h 48h,NA
which is the Escape code followed by the characters ,NA,NA
[5;29H,NA,NA
", moves the cursor to row 5 and ",NA,NA
column 29.,NA,NA
A combined keyboard and CRT that responds to ASCII codes (and possibly to a collection of ,NA,NA
Escape sequences) coming from a remote computer is sometimes called a ,NA,NA
dumb terminal,NA,NA
. Such ,NA,NA
"terminals are faster than teletypewriters and somewhat more flexible, but they're not quite ",NA,NA
fast enough for real innovations in the user interface. Such innovations came with small ,NA,NA
computers in the 1970s that—like the hypothetical computer we built in ,NA,NA
Chapter 21,NA,NA
—,NA,NA
included the video display memory as part of the microprocessor's address space.,NA,NA
The first indication that home computers were going to be much different from their larger ,NA,NA
and more expensive cousins was probably the application VisiCalc. Designed and ,NA,NA
programmed by Dan Bricklin (born 1951) and Bob Frankston (born 1949) and introduced in ,NA,NA
"1979 for the Apple II, VisiCalc used the screen to give the user a two-dimensional view of a ",NA,NA
"spreadsheet. Prior to VisiCalc, a spreadsheet (or worksheet) was a piece of paper with rows ",NA,NA
and columns generally used for doing series of calculations. VisiCalc replaced the paper with ,NA,NA
"the video display, allowing the user to move around the spreadsheet, enter numbers and ",NA,NA
"formulas, and recalculate everything after a change.",NA,NA
What was amazing about VisiCalc is that it was an application that ,NA,NA
could not be duplicated on ,NA,NA
larger computers,NA,NA
. A program such as VisiCalc needs to update the screen very quickly. For this ,NA,NA
"reason, it wrote directly to the random access memory used for the Apple II's video display. ",NA,NA
This memory is,NA,NA
part of the address space of the microprocessor. The interface between a large time-shared ,NA,NA
computer and a dumb terminal is simply not fast enough to make a spreadsheet program ,NA,NA
usable.,NA,NA
"The faster a computer can respond to the keyboard and alter the video display, the tighter the ",NA,NA
potential interaction between user and computer. Most of the software written in the first ,NA,NA
decade of the IBM Personal Computer (through the 1980s) wrote directly to video display ,NA,NA
memory. Because IBM set a hardware standard that other computer manufacturers adhered ,NA,NA
"to, software manufacturers could bypass the operating system and use the hardware directly ",NA,NA
without fear that their programs wouldn't run right (or at all) on some machines. If all the PC ,NA,NA
"clones had different hardware interfaces to their video displays, it would have been too ",NA,NA
difficult for software manufacturers to accommodate all the different designs.,NA,NA
"For the most part, early applications for the IBM PC used only text output and not graphics. ",NA,NA
The use of text output also helped the applications run as fast as possible. When a video ,NA,NA
display is designed like the one described in ,NA,NA
Chapter 21,NA,NA
", a program can display a particular ",NA,NA
character on the screen by simply writing the character's ASCII code into memory. A ,NA,NA
program using a graphical video display usually needs to write 8 or more bytes into ,NA,NA
memory to draw the image of the text character.,NA,NA
"The move from character displays to graphics was, however, an extremely important step in ",NA,NA
the evolution of computers. Yet the development of computer hardware and software that ,NA,NA
work with graphical images rather than just text and numbers evolved very slowly. As early as ,NA,NA
"1945, John von Neumann envisioned an oscilloscope-like display that could graph pictorial ",NA,NA
information. But it wasn't until the early 1950s that computer graphics were ready to become ,NA,NA
a reality when MIT (with help from IBM) set up the Lincoln Laboratory to develop computers ,NA,NA
for the Air Force's air defense system.,NA,NA
This project was known as SAGE (Semi-Automatic Ground Environment) and included ,NA,NA
graphics display screens to help the operators analyze large amounts of data.,NA,NA
The early video displays used in systems such as SAGE weren't like those we use today on ,NA,NA
personal computers. Today's common PC displays are known as ,NA,NA
raster,NA,NA
 displays. Much like a ,NA,NA
"TV, the total image is composed of a series of horizontal raster lines drawn by an electron gun ",NA,NA
shooting a beam that moves very rapidly back and forth across the screen. The screen can be ,NA,NA
visualized as a large rectangular array of dots called ,NA,NA
pixels,NA,NA
 (,NA,NA
picture elements,NA,NA
). Within the ,NA,NA
"computer, a block of memory is devoted to the video display and contains 1 or more bits for ",NA,NA
each pixel on the screen. The values of these bits determine whether pixels are illuminated ,NA,NA
and what color they are.,NA,NA
"For example, most computer displays nowadays have a resolution of at least 640 pixels ",NA,NA
horizontally and 480 pixels vertically. The total number of pixels is the product of these two ,NA,NA
"numbers: 307,200. If only 1 bit of memory is devoted to each pixel, each pixel is limited to just ",NA,NA
"two colors, usually black and white. A 0 pixel could be black and a 1 pixel could be white, for ",NA,NA
"example. Such a video display requires 307,200 ",NA,NA
bits,NA,NA
" of memory, or 38,400 bytes.",NA,NA
Increasing the number of possible colors necessitates more bits per pixel and increases the ,NA,NA
"memory requirements of the display adapter. For example, a byte could be used for each ",NA,NA
"pixel to encode gray shades. In such an arrangement, the byte 00h is black, FFh is white, and ",NA,NA
the values in between are shades of gray.,NA,NA
"Color on a CRT is achieved by means of three electron guns, one for each of the three additive ",NA,NA
"primary colors, red, green, and blue. (You can examine a television or color computer screen ",NA,NA
with a magnifying glass to convince yourself that this is true. Printing uses a different set of ,NA,NA
"primaries.) The combination of red and green is yellow, the combination of red and blue is ",NA,NA
"magenta, the combination",NA,NA
"of green and blue is cyan, and the combination of all three primary colors is white.",NA,NA
The simplest type of color graphics display adapter requires 3 bits per pixel. The pixels ,NA,NA
could be encoded like this with 1 bit per primary color:,"Bits
  
  Color
  
 000
  
 Black
  
 001
  
 Blue
  
 010
  
 Green
  
 011
  
 Cyan
  
 100
  
 Red
  
 101
  
 Magenta
  
 110
  
 Yellow
  
 111
  
 White",NA
But such a scheme would be suitable only for simple cartoonlike images. Most real-world ,NA,NA
colors are combinations of various ,NA,NA
levels,NA,NA
" of red, green, and blue. If you were willing to devote ",NA,NA
"2 bytes per pixel, you could allocate 5 bits for each primary color (with 1 bit left over). That ",NA,NA
"gives you 32 levels of red, green, and blue and a total of 32,768 different colors. This scheme ",NA,NA
is often referred to as ,NA,NA
high color,NA,NA
 or ,NA,NA
thousands of colors,NA,NA
.,NA,NA
"The next step is to use 3 bytes per pixel, or 1 byte for each primary. This encoding scheme ",NA,NA
"results in 256 levels of red, green, and blue for a total of 16,777,216 different colors, often ",NA,NA
referred to as ,NA,NA
full color,NA,NA
 or ,NA,NA
millions of colors,NA,NA
. If the resolution of the video display is 640 pixels ,NA,NA
"horizontally by 480 pixels vertically, the total amount of memory required is 921,600 bytes, ",NA,NA
or nearly a megabyte.,NA,NA
The number of bits per pixel is sometimes referred to as the ,NA,NA
color depth,NA,NA
 or ,NA,NA
color ,NA,NA
resolution,NA,NA
. The number of different colors is related to the number of bits per pixel in this ,NA,NA
way:,"Number of colors = 2
 Number of bits per pixel",NA
"A video adapter board has only a certain amount of memory, so it's limited in the ",NA,NA
"combinations of resolutions and color depths that are possible. For example, a video adapter ",NA,NA
board that has a megabyte of memory can do a 640-by-480 resolution with 3 bytes per pixel. ,NA,NA
"But if you want to use a resolution of 800 by 600, there's not enough memory for 3 bytes per ",NA,NA
"pixel. Instead, you'll need to use 2 bytes per pixel.",NA,NA
"Although raster displays seem very natural to us now, in the early days they were not quite ",NA,NA
"practical because they required what was then a great deal of memory. Instead, the SAGE ",NA,NA
video displays were ,NA,NA
vector,NA,NA
" displays, more like an oscilloscope than a TV. The electron gun ",NA,NA
could be electrically positioned to point to any part of the display and draw lines and curves ,NA,NA
directly. The persistence of the image on the screen allowed assembling these lines and ,NA,NA
curves into rudimentary pictures.,NA,NA
The SAGE computers also supported ,NA,NA
light pens,NA,NA
 that let the operators alter images on the ,NA,NA
display. Light pens are peculiar devices that look like a stylus with a wire attached to one end. ,NA,NA
"If the proper software is running, the computer can detect where the light pen is pointing on ",NA,NA
the screen and alter an,NA,NA
image in response to the pen's movements.,NA,NA
How does this work? Even technological sophisticates are sometimes puzzled when they first ,NA,NA
encounter a light pen. The key is that a light pen doesn't ,NA,NA
emit,NA,NA
 light—it ,NA,NA
detects,NA,NA
 light. The ,NA,NA
circuitry that controls the movements of the electron gun in the CRT (regardless of whether a ,NA,NA
raster or vector display is used) can also determine when the light from the electron gun hits ,NA,NA
the light pen and hence where the light pen is pointing on the screen.,NA,NA
One of the first people to envision a new era of interactive computing was Ivan Sutherland ,NA,NA
"(born 1938), who in 1963 demonstrated a revolutionary graphics program he had developed ",NA,NA
for the SAGE computers named Sketchpad. Sketchpad could store image descriptions in ,NA,NA
"memory and display the images on the video display. In addition, you could use the light pen ",NA,NA
"to draw images on the display and change them, and the computer would keep track of it all.",NA,NA
"Another early visionary of interactive computing was Douglas Engelbart (born 1925), who ",NA,NA
"read Vannevar Bush's article ""As We May Think"" when it was published in 1945 and five years ",NA,NA
"later began a lifetime of work developing new ideas in computer interfaces. In the mid-1960s, ",NA,NA
"while at the Sanford Research Institute, Engelbart completely rethought input devices and ",NA,NA
came up with a five-pronged keyboard for entering commands (which never caught on) and a ,NA,NA
smaller device with wheels and a button that he called a ,NA,NA
mouse,NA,NA
. The mouse is now almost ,NA,NA
universally accepted for moving a pointer around the screen to select on-screen objects.,NA,NA
Many of the early enthusiasts of interactive graphical computing (although not Engelbart) ,NA,NA
"came together at Xerox, fortunately at a time when raster displays became economically ",NA,NA
feasible. Xerox had founded the Palo Alto Research Center (PARC) in 1970 in part to help ,NA,NA
develop products that would allow the company to enter the computer industry. Perhaps the ,NA,NA
"most famous visionary at PARC was Alan Kay (born 1940), who encountered Van Bush's ",NA,NA
"microfilm library (in a short story by Robert Heinlein) when he was 14, and who had already ",NA,NA
conceived of a portable computer he called the Dynabook.,NA,NA
"The first big project at PARC was the Alto, designed and built between 1972 and 1973. By the ",NA,NA
"standards of those years, it was an impressive piece of work. The floor-standing system unit ",NA,NA
"had 16-bit processing, two 3-MB disk drives, 128 KB of memory (expandable to 512 KB), and ",NA,NA
a mouse with three buttons. Because the Alto preceded the availability of 16-bit single-chip ,NA,NA
"microprocessors, the Alto processor had to be built from about 200 integrated circuits.",NA,NA
The video display was one of the several unusual aspects of the Alto. The screen was ,NA,NA
approximately the size and shape of a sheet of paper—8 inches wide and 10 inches high. It ,NA,NA
"ran in a raster graphics mode with 606 pixels horizontally by 808 pixels vertically, for a total ",NA,NA
"of 489,648 pixels. One bit of memory was devoted to each pixel, which meant that each pixel ",NA,NA
could be either black or white. The total amount of memory devoted to the video display was ,NA,NA
"64 KB, which was part of the address space of the processor.",NA,NA
"By writing into this video display memory, software could draw pictures on the screen or ",NA,NA
"display text in different fonts and sizes. By rolling the mouse on the desk, the user of the Alto ",NA,NA
could position a pointer on the screen and interact with on-screen objects. Rather than ,NA,NA
treating the video display in the same way as the teletypewriter—linearly echoing user input ,NA,NA
and writing out program output—the screen became a two-dimensional high-density array of ,NA,NA
information and a more direct source of user input.,NA,NA
"Over the remainder of the 1970s, programs written for the Alto developed some very ",NA,NA
interesting characteristics. Multiple programs were put into windows and displayed on the ,NA,NA
same screen simultaneously. The video graphics of the Alto allowed software to go beyond ,NA,NA
text and truly mirror the user's imagination. Graphical objects (such as buttons and menus ,NA,NA
and little pictures called ,NA,NA
icons,NA,NA
) became part of the user interface. The mouse was used for ,NA,NA
selecting windows or triggering the graphical objects to perform program functions.,NA,NA
"This was software that went beyond the user interface into user intimacy, software that ",NA,NA
facilitated the extension of the computer into realms beyond those of simple number ,NA,NA
crunching. This was software that was designed—to quote the title of a legendary paper ,NA,NA
"written by Douglas Engelbart in 1963—""for the Augmentation of Man's Intellect.""",NA,NA
What PARC developed in the Alto was the beginnings of the ,NA,NA
graphical user interface,NA,NA
", or GUI ",NA,NA
(pronounced ,NA,NA
gooey,NA,NA
"). But Xerox didn't sell the Alto (one would have cost over $30,000 if they ",NA,NA
"had), and over a decade passed before the ideas in the Alto would be embodied in a ",NA,NA
successful consumer product.,NA,NA
"In 1979, Steve Jobs and a contingent from Apple Computer visited PARC and were quite ",NA,NA
impressed with what they saw. But it took them over three years to introduce a computer that ,NA,NA
"had a graphical interface. This was the ill-fated Apple Lisa in January 1983. A year later, ",NA,NA
"however, Apple introduced the much more successful Macintosh.",NA,NA
"The original Macintosh had a Motorola 68000 microprocessor, 64 KB of ROM, 128 KB of ",NA,NA
"RAM, a 3½-inch diskette drive (storing 400 KB per diskette), a keyboard, a mouse, and a ",NA,NA
video display capable of displaying 512 pixels horizontally by 342 pixels vertically. (The CRT ,NA,NA
"itself measured only 9 inches diagonally.) That's a total of 175,104 pixels. Each pixel was ",NA,NA
"associated with 1 bit of memory and could be colored either black or white, so about 22 KB ",NA,NA
were required for the video display RAM.,NA,NA
The hardware of the original Macintosh was elegant but hardly revolutionary. What made the ,NA,NA
"Mac so different from other computers available in 1984 was the Macintosh operating system, ",NA,NA
generally referred to as the ,NA,NA
system software,NA,NA
 at the time and later known as the ,NA,NA
Mac OS,NA,NA
.,NA,NA
A text-based single-user operating system such as CP/M or MS-DOS isn't very large and ,NA,NA
doesn't have an extensive application programming interface (API). As I explained in ,NA,NA
Chapter ,NA,NA
22,NA,NA
", mostly what's required in these text-based operating systems is a way for applications to ",NA,NA
"use the file system. A graphical operating system such as the Mac OS, however, is much larger ",NA,NA
and has hundreds of API functions. Each of them is identified by a name that describes what ,NA,NA
the function does.,NA,NA
While a text-based operating system such as MS-DOS provides a couple of simple API ,NA,NA
"functions to let application programs display text on the screen in a teletypewriter manner, a ",NA,NA
graphical operating system such as the Mac OS must provide a way for programs to display ,NA,NA
graphics,NA,NA
" on the screen. In theory, this can be accomplished by implementing a single API ",NA,NA
function that lets an application set the color of a pixel at a particular horizontal and vertical ,NA,NA
coordinate. But it turns out that this is ,NA,NA
inefficient and results in very slow graphics.,NA,NA
It makes more sense for the operating system to provide a complete graphics programming ,NA,NA
"system, which means that the operating system includes API functions to draw lines, ",NA,NA
"rectangles, and ellipses (including circles) as well as text. Lines can be either solid or ",NA,NA
composed of dashes or dots. Rectangles and ellipses can be filled with various patterns. Text ,NA,NA
can be displayed in various fonts,NA,NA
and sizes and with effects such as boldfacing and underlining. The graphics system is ,NA,NA
responsible for determining how to render these graphical objects as a collection of dots on ,NA,NA
the display.,NA,NA
Programs running under a graphical operating system use the same APIs to draw graphics on ,NA,NA
both the computer's video display and the printer. A word processing application can thus ,NA,NA
"display a document on the screen so that it looks very similar to the document later printed, a ",NA,NA
feature known as ,NA,NA
WYSIWYG (pronounced ,NA,NA
wizzy wig,NA,NA
"). This is an acronym for ""What you see is what you get,"" the ",NA,NA
contribution to computer lingo of the comedian Flip Wilson in his Geraldine persona.,NA,NA
Part of the appeal of a graphical user interface is that different applications work roughly the ,NA,NA
same and leverage a user's experience. This means that the operating system must also ,NA,NA
support API functions that let applications implement the various components of the user ,NA,NA
"interface, such as buttons and menus. Although the GUI is generally viewed as an easy ",NA,NA
"environment for users, it's also just as importantly an environment for programmers. ",NA,NA
Programmers can implement a modern user interface without reinventing the wheel.,NA,NA
"Even before the introduction of the Macintosh, several companies had begun to create a ",NA,NA
"graphical operating system for the IBM PC and compatibles. In one sense, the Apple ",NA,NA
developers had an easier job because they were designing the hardware and software ,NA,NA
"together. The Macintosh system software had to support only one type of diskette drive, one ",NA,NA
"type of video display, and two printers.",NA,NA
"Implementing a graphical operating system for the PC, however, required supporting many ",NA,NA
different pieces of hardware.,NA,NA
"Moreover, although the IBM PC had been introduced just a few years earlier (in 1981), many ",NA,NA
people had grown accustomed to using their favorite MS-DOS applications and weren't ready ,NA,NA
to give them up. It was considered very important for a graphical operating system for the ,NA,NA
PC to run MS-DOS applications as well as applications designed expressly for the new ,NA,NA
operating system. (The Macintosh didn't run Apple II software primarily because it used a ,NA,NA
different microprocessor.),NA,NA
"In 1985, Digital Research (the company behind CP/M) introduced GEM (the Graphical ",NA,NA
"Environment Manager), VisiCorp (the company marketing VisiCalc) introduced VisiOn, and ",NA,NA
"Microsoft released Windows version 1.0, which was quickly perceived as being the probable ",NA,NA
"winner in the ""windows wars."" It wasn't until the May 1990 release of Windows 3.0, however, ",NA,NA
"that Windows began to attract a lot of users. Its popularity has increased since then, and today ",NA,NA
Windows is the operating system used on about 90 percent of small computers. Despite the ,NA,NA
"similar appearances of the Macintosh and Windows, the APIs for the two systems are very ",NA,NA
different.,NA,NA
"In theory, aside from the graphics display, a graphical operating system doesn't require much ",NA,NA
"more in the way of hardware than a text-based operating system. In theory, not even a hard ",NA,NA
"disk drive is required: The original Macintosh didn't have one, and Windows 1.0 didn't ",NA,NA
"require one. Windows 1.0 didn't even require a mouse, although everyone agreed that it was ",NA,NA
much easier to use with a mouse.,NA,NA
"Still, however, it's not surprising that graphical user interfaces have become more popular as ",NA,NA
microprocessors have grown faster and as memory and storage have become more plentiful. ,NA,NA
"As more and more features are added to graphical operating systems, they have grown large. ",NA,NA
Today's graphical operating systems generally require a couple hundred megabytes of hard ,NA,NA
disk space and upwards of 32 megabytes of memory.,NA,NA
Applications for graphical operating systems are almost never written in assembly language. ,NA,NA
"In the early days, the popular language for Macintosh applications was Pascal. For Windows ",NA,NA
"applications,",NA,NA
"it was C. But once again, PARC had demonstrated a different approach. Beginning about ",NA,NA
"1972, the researchers at PARC were developing a language named Smalltalk that ",NA,NA
embodied the concept of ,NA,NA
object-oriented programming,NA,NA
", or OOP (pronounced ",NA,NA
oop,NA,NA
).,NA,NA
"Traditionally, high-level programming languages differentiate between code (which is ",NA,NA
statements generally beginning with a keyword such as ,NA,NA
set,NA,NA
 or ,NA,NA
for,NA,NA
 or ,NA,NA
if,NA,NA
") and data, which is ",NA,NA
numbers represented by variables. This distinction no doubt originates from the architecture ,NA,NA
"of von Neumann computers, in which something is either machine code or is data acted upon ",NA,NA
by machine code.,NA,NA
"In object-oriented programming, however, an ",NA,NA
object,NA,NA
 is a combination of code and data. The ,NA,NA
actual way in which the data in an object is stored is understood only by code associated with ,NA,NA
the object. Objects communicate with one another by sending and receiving ,NA,NA
messages,NA,NA
", which ",NA,NA
give instructions to an object or ask for information from it.,NA,NA
Object-oriented languages are often helpful for programming applications for graphical ,NA,NA
operating systems because the programmer can treat objects on the screen (such as ,NA,NA
windows and buttons) in much the same way that a user perceives them. A button is an ,NA,NA
example of an object in an ,NA,NA
objectoriented language. A button has a certain dimension and position on the screen and ,NA,NA
"displays some text or a little picture, all of which is data associated with the object. Code ",NA,NA
"associated with the object determines when the user ""presses"" the button with the keyboard ",NA,NA
or the mouse and sends a message indicating the button has been triggered.,NA,NA
"The most popular object-oriented languages for small computers, however, are extensions of ",NA,NA
"traditional ALGOL-like languages, such as C and Pascal. The most popular object-oriented ",NA,NA
"extension of C is called C++. (As you might recall, two plus signs in C is an increment ",NA,NA
operator.) Largely the brainchild of Bjarne Stroustrup (born 1950) of Bell Telephone ,NA,NA
"Laboratories, C++ was implemented first as a translator that converted a program written in ",NA,NA
C++ to one written in C (although very ugly and virtually unreadable C). The C program could ,NA,NA
then be compiled normally.,NA,NA
"Object-oriented languages can't do anything more than traditional languages can do, of ",NA,NA
"course. But programming is a problem-solving activity, and object-oriented languages allow ",NA,NA
the programmer to consider different solutions that are often structurally superior. It's also ,NA,NA
possible—although not exactly easy—to write a single program using an object-oriented ,NA,NA
language that can be compiled to run either on the Macintosh or under Windows. Such a ,NA,NA
program doesn't refer to the APIs directly but rather uses objects that in turn call the API ,NA,NA
functions. Two different object definitions are used to compile the program for the Macintosh ,NA,NA
or Windows API.,NA,NA
Most programmers working on small computers no longer run a compiler from a command ,NA,NA
"line. Instead, programmers use an ",NA,NA
integrated development environment,NA,NA
" (IDE), which ",NA,NA
combines all the tools they need in one convenient program that runs like other graphical ,NA,NA
applications. Programmers also take advantage of a technique called ,NA,NA
visual programming,NA,NA
", in ",NA,NA
which windows are designed interactively by using the mouse to assemble buttons and ,NA,NA
other components.,NA,NA
In ,NA,NA
Chapter 22,NA,NA
", I described text files, which are files that contain only ASCII characters and ",NA,NA
which are readable by human beings like you and me. Back in the days of text-based operating ,NA,NA
"systems, text files were ideal to exchange information among applications. One big advantage ",NA,NA
"of text files is that they're searchable—that is, a program can look at many text files and ",NA,NA
determine which of them contains a particular text string. But once you have a facility in the ,NA,NA
"operating system to display text using various fonts and sizes and effects such as italics, ",NA,NA
"boldfacing, and underlining, the text file suddenly seems woefully inadequate. Indeed, most ",NA,NA
word processing programs save documents in a proprietary binary,NA,NA
format. Text files are also not suitable for pictorial information.,NA,NA
But it's possible to encode information (such as font specifications and paragraph layout) ,NA,NA
along with text and still have a readable text file. The key is to choose an escape character to ,NA,NA
denote this information. In the Rich Text Format (RTF) designed by Microsoft as a means to ,NA,NA
"exchange formatted text among applications, the curly brackets { and } and the backslash ",NA,NA
character \ are used to enclose information that indicates how the text is to be formatted.,NA,NA
PostScript is a text file format that takes this concept to extremes. Designed by John ,NA,NA
"Warnock (born 1940), cofounder of Adobe Systems, PostScript is an entire general-purpose ",NA,NA
graphics programming language used today mostly to draw text and graphics on high-end ,NA,NA
computer printers.,NA,NA
The incorporation of graphical images into the personal computing environment is the direct ,NA,NA
"result of better and cheaper hardware. As microprocessors have become faster, as memory ",NA,NA
"has become cheaper, as video displays and printers have increased in resolution and ",NA,NA
"blossomed in full color, that power has been exploited through computer graphics.",NA,NA
"Computer graphics comes in two flavors, which are referred to by the same words I used ",NA,NA
earlier to differentiate graphical video displays: vector and raster.,NA,NA
Vector graphics,NA,NA
" involves creating images algorithmically using straight lines, curves, and filled ",NA,NA
areas. This is the province of the ,NA,NA
computer-assisted drawing,NA,NA
 (or CAD) program. Vector ,NA,NA
graphics finds its most important application in engineering and architectural design. A ,NA,NA
vector graphics image can be stored in a file in a format referred to as a ,NA,NA
metafile,NA,NA
. A metafile is ,NA,NA
simply a collection of vector graphics drawing commands usually encoded in binary form.,NA,NA
"The use of lines, curves, and filled areas of vector graphics is entirely appropriate when ",NA,NA
you're designing a bridge but hopelessly inadequate when you want to show what the ,NA,NA
actual constructed bridge looks like. That bridge is a real-world image. It's simply too ,NA,NA
complex to be represented by vector graphics.,NA,NA
Raster graphics,NA,NA
 (also known as ,NA,NA
bitmap graphics,NA,NA
) comes to the rescue. A bitmap encodes an ,NA,NA
image as a rectangular array of bits that correspond to the pixels of an output device. Just ,NA,NA
"like a video display, a bitmap has a spatial dimension (or resolution), which is the width and ",NA,NA
"height of the image in pixels. Bitmaps also have a color dimension (or color resolution, or ",NA,NA
"color depth), which is the number of bits associated with each pixel. Each pixel in a bitmap ",NA,NA
has the same number of bits.,NA,NA
"Although a bitmap image is two dimensional, the bitmap itself is just a single stream of ",NA,NA
"bytes—usually the top row of pixels, followed by the second row, followed by the third ",NA,NA
"row, and so on.",NA,NA
"Some bitmap images are created ""manually"" by someone using a paint program ",NA,NA
designed for a graphical operating system. Other bitmap images are created ,NA,NA
algorithmically by computer code.,NA,NA
"These days, however, bitmaps are very often used for images from the real world (such as ",NA,NA
"photographs), and there are several different pieces of hardware that allow you to move ",NA,NA
images from the real world into the computer. These devices generally use something called a ,NA,NA
charge-coupled device,NA,NA
" (CCD), which is a semiconductor that releases an electrical charge when ",NA,NA
exposed to light. One CCD cell is required for each pixel to be sampled.,NA,NA
The ,NA,NA
scanner,NA,NA
" is the oldest of these devices. Much like a photocopy machine, it uses a row of ",NA,NA
"CCDs that sweep along the surface of a printed image, such as a photograph. The CCDs ",NA,NA
generate electrical charges based on the intensity of light. Software that works with the ,NA,NA
scanner translates the image into,NA,NA
a bitmap that's stored in a file.,NA,NA
Video camcorders use a two-dimensional array of CCD cells to capture images. Generally ,NA,NA
these images are recorded on videotape. But the video output might be fed directly into a ,NA,NA
video frame grabber,NA,NA
", which is a board that converts an analog video signal to an array of ",NA,NA
"pixel values. These frame grabbers can be used with any common video source, such as that ",NA,NA
"from a VCR or a laser disc player, or even directly from a cable television box.",NA,NA
"Most recently, digital cameras have become financially viable for the home user. These ",NA,NA
"often look very much like normal cameras. But instead of film, an array of CCDs is used to ",NA,NA
capture an image that's stored directly in memory within the camera and later transferred ,NA,NA
into the computer.,NA,NA
A graphical operating system often supports the storage of bitmaps in files in a particular ,NA,NA
"format. The Macintosh uses the Paint format, the name of which is a reference to the MacPaint ",NA,NA
program that inaugurated the format. (The Macintosh PICT format that combines bitmaps and ,NA,NA
"vector graphics is actually the preferred format.) In Windows, the native format is referred to ",NA,NA
"as BMP, which is the filename extension used for bitmaps.",NA,NA
"Bitmaps can be quite large, and it's beneficial to figure out some way to make them ",NA,NA
smaller. This effort falls under an area of computer science known as ,NA,NA
data compression,NA,NA
.,NA,NA
Suppose we were dealing with an image with 3 bits per pixel such as I described earlier. You ,NA,NA
have a picture of sky and a house and a lawn. This picture probably has large patches of blue ,NA,NA
and green. Maybe the very top row of the bitmap has 72 blue pixels in a row. The bitmap file ,NA,NA
could be made smaller if there were some way to actually encode the number 72 in the file to ,NA,NA
mean that the blue pixel repeats 72 times. This type of compression is known as ,NA,NA
run-length ,NA,NA
encoding,NA,NA
", or RLE.",NA,NA
The common office fax machine uses RLE compression to reduce the size of an image before ,NA,NA
sending it over the telephone line. Because a fax interprets an image as black and white with ,NA,NA
"no gray shades or colors, there are generally long stretches of white pixels.",NA,NA
"A bitmap file format that's been popular for over a decade is the Graphics Interchange Format, ",NA,NA
or GIF (pronounced ,NA,NA
jif,NA,NA
" like the peanut butter), developed by CompuServe in 1987. GIF files ",NA,NA
use a ,NA,NA
"compression technique called LZW, which stands for its creators, Lempel, Ziv, and Welch. ",NA,NA
LZW is more powerful than RLE because it detects ,NA,NA
patterns,NA,NA
 of differently valued pixels rather ,NA,NA
than just consecutive strings of same-value pixels.,NA,NA
Both RLE and LZW are referred to as ,NA,NA
lossless,NA,NA
 compression techniques because the original ,NA,NA
"file can be entirely recreated from the compressed data. In other words, the compression is ",NA,NA
reversible,NA,NA
. It's fairly easy to prove that reversible compression doesn't work for every type of ,NA,NA
"file. In some cases, the ""compressed"" file is actually larger than the original file!",NA,NA
"In recent years, ",NA,NA
lossy,NA,NA
 compression techniques have become popular. A lossy compression isn't ,NA,NA
reversible because some of the original data is effectively discarded. You wouldn't want to use ,NA,NA
lossy compression on your spreadsheets or word processing documents. Presumably every ,NA,NA
number and word is important. But you probably wouldn't mind lossy compression for ,NA,NA
"images, just as long as the data that's discarded doesn't make much of a difference in the ",NA,NA
overall picture. That's why lossy compression techniques are based on psychovisual research ,NA,NA
that investigates human vision to determine what's important and what's not.,NA,NA
The most significant lossy compression techniques used for bitmaps are collectively referred ,NA,NA
to as,NA,NA
JPEG (pronounced ,NA,NA
jay peg,NA,NA
). JPEG stands for the Joint Photography Experts Group and ,NA,NA
"actually describes several compression techniques, some lossless and some lossy.",NA,NA
It's fairly straightforward to convert a metafile to a bitmap. Because video display ,NA,NA
"memory and bitmaps are conceptually identical, if a program knows how to draw a ",NA,NA
"metafile in video display memory, it knows how to draw a metafile on a bitmap.",NA,NA
"But converting a bitmap to a metafile isn't so easy, and for some complex images might well ",NA,NA
be impossible. One technique related to this job is ,NA,NA
optical character recognition,NA,NA
", or OCR. OCR is ",NA,NA
"used when you have a bitmap of some text (from a fax machine, perhaps, or scanned from ",NA,NA
typed pages) and need to convert it to ASCII character codes. The OCR software needs to ,NA,NA
analyze the patterns of bits and determine what characters they represent. Due to the ,NA,NA
"algorithmic complexity of this job, OCR software is usually not 100 percent accurate. Even less ",NA,NA
accurate is software that attempts to convert handwriting to ASCII text.,NA,NA
Bitmaps and metafiles are the digital representations of visual information. Audio ,NA,NA
information can also be converted to bits and bytes.,NA,NA
"Digitized sound made a big consumer splash in 1983 with the compact disc, which became the ",NA,NA
biggest consumer electronics success story ever. The CD was developed by Philips and Sony to ,NA,NA
store 74 minutes of digitized sound on one side of a disk 12 centimeters in diameter. The ,NA,NA
length of 74 minutes was chosen so that Beethoven's Ninth Symphony could fit on one CD.,NA,NA
Sound is encoded on a CD using a technique called ,NA,NA
pulse code modulation,NA,NA
", or PCM. Despite ",NA,NA
"the fancy name, PCM is conceptually a fairly simple process.",NA,NA
"Sound is vibration. Human vocal cords vibrate, a tuba vibrates, a tree falling in a forest ",NA,NA
"vibrates, and these objects cause air molecules to move. The air alternately pushes and pulls, ",NA,NA
"compresses and thins, back and forth some hundreds of times or thousands of times a second. ",NA,NA
"The air in turn vibrates our eardrums, and we sense sound.",NA,NA
Analogous to these waves of sound are the little hills and valleys in the surface of the tin foil ,NA,NA
cylinder used to record and play back sound in Thomas Edison's first phonograph in 1877. ,NA,NA
"Until the compact disc, this technique of recording sound barely changed, although cylinders ",NA,NA
"were replaced by disks, and tin foil by wax and eventually plastic. Early phonographs were ",NA,NA
"entirely mechanical, but eventually electrical amplification was used to strengthen the sound. ",NA,NA
"The variable resistor in a microphone converts sound to electricity, and the electromagnet in a ",NA,NA
loudspeaker converts electricity back to sound.,NA,NA
An electrical current that represents sound isn't like the on-off digital signals that we've ,NA,NA
"encountered throughout this book. Sound waves vary continuously, and so does the voltage of ",NA,NA
such a current. The electrical current is an ,NA,NA
analog,NA,NA
 of the sound waves. A device known as an ,NA,NA
analog-to-digital converter,NA,NA
 (ADC)—generally implemented in a chip—converts an analog ,NA,NA
voltage to a binary number.,NA,NA
"The output of an ADC is a certain number of digital signals—usually 8, 12, or 16—that ",NA,NA
"together indicate the relative level of the voltage. A 12-bit ADC, for example, converts a ",NA,NA
voltage to a number between 000h and FFFh and can differentiate 4096 different voltage ,NA,NA
levels.,NA,NA
In the technique known as ,NA,NA
pulse code modulation,NA,NA
", the voltage representing a sound wave is ",NA,NA
converted to digital values at a constant rate. These numbers are stored on the CD in the form ,NA,NA
of little holes carved into the surface of the disc. They're read with a laser light reflected from ,NA,NA
"the surface of the CD. During playback, the numbers are converted to an electrical current ",NA,NA
again using a ,NA,NA
digital-to-,NA,NA
analog converter,NA,NA
", or DAC. (A DAC is also used in color graphics boards to convert a pixel value ",NA,NA
to analog color signals that go to the monitor.),NA,NA
"The voltage of the sound wave is converted to numbers at a constant rate, known as the ",NA,NA
sampling rate,NA,NA
". In 1928, Harry Nyquist of Bell Telephone Laboratories showed that a sampling ",NA,NA
rate must be at least twice the maximum frequency that needs to be recorded and played ,NA,NA
"back. It's commonly assumed that humans hear sounds ranging from 20 Hz to 20,000 Hz. The ",NA,NA
"sampling frequency used for CDs is a bit more than double that maximum, specifically 44,100 ",NA,NA
samples per second.,NA,NA
"The number of bits per sample determines the dynamic range of the CD, which is the ",NA,NA
difference between the loudest and the softest sound that can be recorded and played back. ,NA,NA
This is somewhat complicated: As the electrical current varies back and forth as an analog of ,NA,NA
"the sound waves, the peaks it hits represent the waveform's ",NA,NA
amplitude,NA,NA
. What we perceive as ,NA,NA
the ,NA,NA
intensity,NA,NA
 of the sound is proportional to twice the amplitude. A ,NA,NA
bel,NA,NA
 (which is three-,NA,NA
quarters of Alexander Graham Bell's last name) is a tenfold increase in intensity; a ,NA,NA
decibel,NA,NA
 is ,NA,NA
one-tenth of a bel. One decibel represents approximately the smallest increase in loudness ,NA,NA
that a person can perceive.,NA,NA
"It turns out that the use of 16 bits per sample allows a dynamic range of 96 decibels, which is ",NA,NA
approximately the difference between the threshold of hearing (below which we can't hear ,NA,NA
anything) and the threshold of pain. The compact disk uses 16 bits per sample.,NA,NA
"So for each second of sound, a compact disk contains 44,100 samples of 2 bytes each. But ",NA,NA
"you probably want stereo as well. So double that for a total of 176,400 bytes per second. ",NA,NA
"That's 10,584,000 bytes per minute of sound. (Now you know why digital recording of ",NA,NA
sound wasn't common before the 1980s.) The full 74 minutes of stereo sound on the CD ,NA,NA
"requires 783,216,000 bytes.",NA,NA
"Digitized sound has many well-known advantages over analog sound. In particular, ",NA,NA
"whenever analog sound is copied (for example, when a phonograph record is created from a ",NA,NA
"master recording tape) some fidelity is lost. Digitized sound is numbers, however, and ",NA,NA
numbers can always be faithfully transcribed and copied. It used to be that the longer a ,NA,NA
"telephone signal had to travel in a wire, the worse it would sound. This is no longer the case. ",NA,NA
"Because much of the telephone system is now digital, calls from across the country sound as ",NA,NA
clear as those from across the street.,NA,NA
"CDs can store data as well as sound. When used exclusively for data, they're called CD-ROM ",NA,NA
(CD Read-Only Memory). A CD-ROM is generally limited to about 660 megabytes. Most ,NA,NA
"computers these days have CD-ROM drives installed, and much application and game software ",NA,NA
is distributed on CD-ROM.,NA,NA
"The introduction of sound, music, and video into the personal computer was known as ",NA,NA
multimedia ,NA,NA
just a decade ago and is now so common that it doesn't need a special name. Most ,NA,NA
home computers sold these days have a sound board that includes an ADC for digitally ,NA,NA
recording sound through a microphone and a DAC for playing back recorded sound through ,NA,NA
speakers. Sounds can be stored on a disk in ,NA,NA
waveform files,NA,NA
.,NA,NA
Because you don't always need CD quality sound when recording and playing back sound ,NA,NA
"on home computers, the Macintosh and Windows offer lower sampling rates, specifically ",NA,NA
"22,050 Hz, 11,025 Hz, and 8000 Hz; a lower sample size of 8 bits; and monophonic ",NA,NA
"recording. Sound can be recorded using as few as 8000 bytes per second, which is 480,000 ",NA,NA
bytes per minute.,NA,NA
Everybody knows from science fiction movies and television shows that computers of the ,NA,NA
future,NA,NA
converse with their users in spoken English. Once a computer is equipped with hardware to ,NA,NA
"digitally record and play back sound, everything else involved in this goal is a software ",NA,NA
problem.,NA,NA
There are a couple of ways that computers can be made to talk in recognizable words and ,NA,NA
"sentences. One approach is to have a human being record sentence fragments, phrases, ",NA,NA
"words, and numbers that can then be stored in files and strung together in different ways. ",NA,NA
"This approach is often used for information systems accessed over the telephone, and it ",NA,NA
works fine when there are only a limited number of combinations of words and numbers that ,NA,NA
must be played back.,NA,NA
A more general form of voice synthesis involves a process that converts arbitrary ASCII text to ,NA,NA
"waveform data. Because English spelling, for example, isn't always consistent, such a software ",NA,NA
system uses a dictionary or complex algorithms to determine the actual pronunciation of ,NA,NA
words. Basic vocal sounds (called phonemes) are combined to form whole words. Often the ,NA,NA
"software must make other adjustments. For example, if a sentence is followed by a question ",NA,NA
"mark, the sound of the last word must be increased in frequency.",NA,NA
Voice recognition—the conversion of waveform data to ASCII text—is a much more complex ,NA,NA
"problem. Indeed, many humans have problems understanding regional variations in spoken ",NA,NA
"language. While dictation software for the personal computer is available, it usually requires ",NA,NA
some training so that it can reasonably transcribe what a particular person is saying. Far ,NA,NA
beyond the conversion to ASCII text is the problem of programming the computer so that it ,NA,NA
"actually ""understands"" what is said. Such a problem is in the realm of the field of ",NA,NA
artificial ,NA,NA
intelligence,NA,NA
.,NA,NA
The sound boards in today's computers are also supplied with small electronic music ,NA,NA
synthesizers that can imitate the sounds of 128 different musical instruments and 47 different ,NA,NA
percussion instruments.,NA,NA
These are referred to as MIDI (pronounced ,NA,NA
middy,NA,NA
) synthesizers. MIDI is the Musical ,NA,NA
"Instrument Digital Interface, a specification developed in the early 1980s by a consortium of ",NA,NA
manufacturers of electronic music synthesizers to connect these electronic instruments to one ,NA,NA
another and to computers.,NA,NA
Various types of MIDI synthesizers use a variety of methods for synthesizing instrument ,NA,NA
"sounds, some of which are more realistic than others. The overall quality of a particular MIDI ",NA,NA
synthesizer is quite outside the province of the MIDI specification. All that's required is that ,NA,NA
"the synthesizer respond to short messages—usually 1, 2, or 3 bytes in length—by playing ",NA,NA
"sounds. MIDI messages mostly indicate what instrument is desired, that a particular note ",NA,NA
"should begin playing, or that a note currently playing should stop playing.",NA,NA
A MIDI file is a collection of MIDI messages with timing information. A MIDI file usually ,NA,NA
contains an entire musical composition that can be played back on the computer's MIDI ,NA,NA
synthesizer. A MIDI file is usually much smaller than a waveform file containing the same ,NA,NA
"music. In terms of relative size, if a waveform file is like a bitmap file, a MIDI file is like a vector ",NA,NA
graphics metafile. The downside is that the music encoded in a MIDI file could sound great on ,NA,NA
one MIDI synthesizer and quite horrid on another.,NA,NA
Another feature of multimedia is digitized movies. The apparent motion of movie and ,NA,NA
television images is achieved by quickly displaying a sequence of individual still images. ,NA,NA
These individual images are called ,NA,NA
frames,NA,NA
. Movies proceed at the rate of 24 frames per ,NA,NA
"second, North American television at 30 frames per second, and television in most other ",NA,NA
places in the world at 25 frames per second.,NA,NA
"A movie file on a computer is simply a series of bitmaps with sound. But without compression, ",NA,NA
a,NA,NA
"movie file requires a huge amount of data. For example, consider a movie with each frame the ",NA,NA
"size of a 640-by-480-pixel computer screen with 24-bit color. That's 921,600 bytes per frame. ",NA,NA
"At 30 frames per second, we're up to 27,648,000 bytes per second. Keep multiplying and you ",NA,NA
"get 1,658,880,000 bytes per minute, and 199,065,600,000 bytes—just about 200 gigabytes—",NA,NA
"for a two-hour movie. This is why most movies displayed on the personal computer are short, ",NA,NA
"small, and jumpy.",NA,NA
"Just as JPEG compression is used to reduce the amount of data required to store still images, ",NA,NA
MPEG compression is used for movies. MPEG (pronounced ,NA,NA
em peg,NA,NA
) stands for Moving ,NA,NA
Pictures Expert Group. Compression techniques for moving images take advantage of the fact ,NA,NA
that a particular frame usually contains much information that's duplicated from the ,NA,NA
previous frame.,NA,NA
There are different MPEG standards for different media. MPEG-2 is for high-definition ,NA,NA
television (HDTV) and for ,NA,NA
digital video discs,NA,NA
" (DVDs), also called ",NA,NA
digital versatile discs,NA,NA
. DVDs ,NA,NA
"are the same size as CDs, but they can be recorded on both sides and in two layers per side. ",NA,NA
"On DVDs, video is compressed by a factor of about 50, so a two-hour movie requires only 4 ",NA,NA
"gigabytes, which can fit on one layer of one side. The use of both layers and both sides ",NA,NA
"increases the capacity of DVDs to about 16 gigabytes, which is about 25 times the capacity of ",NA,NA
a CD. It's expected that DVD-ROM will eventually replace CD-ROM for the distribution of ,NA,NA
software.,NA,NA
Are CD-ROM and DVD-ROM the modern day realization of Vannevar Bush's Memex? He ,NA,NA
"originally conceived of Memex as using microfilm, but CD-ROM and DVD-ROM make much ",NA,NA
more sense for such a device. Electronic media have an advantage over physical media by ,NA,NA
"being easily searchable. Unfortunately, few people have simultaneous access to multiple CD or ",NA,NA
DVD drives. The closest that we've come to Bush's concept doesn't involve storing all the ,NA,NA
information you'll need at your desk. It involves ,NA,NA
interconnecting,NA,NA
 computers to give them the ,NA,NA
ability to share information and use storage much more efficiently.,NA,NA
"The first person to publicly operate a computer from a remote location was George Stibitz, ",NA,NA
the same man who designed the Bell Labs relay computer in the 1930s. The remote ,NA,NA
operation of a relay computer occurred at a demonstration at Dartmouth in 1940.,NA,NA
"The telephone system is built to transmit sound, not bits, over wires. Sending bits over ",NA,NA
telephone wires requires that the bits be converted to sound and then back again. A ,NA,NA
continuous sound wave of a single frequency and a single amplitude (called a ,NA,NA
carrier,NA,NA
) doesn't ,NA,NA
convey any substantial information at all. But change something about that sound wave—in ,NA,NA
"other words, ",NA,NA
modulate,NA,NA
 that sound wave between two different states—and you can represent ,NA,NA
0s and 1s. The conversion between bits and sound occurs in a device called the ,NA,NA
modem,NA,NA
 (which ,NA,NA
stands for modulator/demodulator). The modem is a form of ,NA,NA
serial,NA,NA
 interface because the ,NA,NA
individual bits in a byte are sent one after another rather than all at once. (Printers are often ,NA,NA
connected to computers with a parallel interface: Eight wires allow an entire byte to be ,NA,NA
transmitted at the same time.),NA,NA
"In early modems, a technique called ",NA,NA
frequency-shift keying,NA,NA
 (FSK) was used. A modem ,NA,NA
operating at 300 bits per second (for example) might convert a 0 bit to a frequency of 1070 Hz ,NA,NA
and a 1 bit to a frequency of 1270 Hz. Each byte is prefaced by a start bit and concluded with a ,NA,NA
"stop bit, so each byte requires 10 bits. At 300 bits per second, the transmission speed is only ",NA,NA
30 bytes per second. More modern modems use more sophisticated techniques to achieve ,NA,NA
speeds over 100 times that.,NA,NA
An early home computer enthusiast could set up a computer and a modem as a ,NA,NA
bulletin board ,NA,NA
system ,NA,NA
"(BBS), to which other computers could call in and ",NA,NA
download,NA,NA
" files, which means ",NA,NA
transferring files from a remote computer to one's own computer. This concept was ,NA,NA
extended into large information,NA,NA
"services such as CompuServe. In most cases, communication was entirely in the form of ASCII ",NA,NA
text.,NA,NA
The Internet is qualitatively different from these early efforts because it's decentralized. The ,NA,NA
Internet really exists as a collection of protocols for computers to talk to one another. Of ,NA,NA
"major importance is TCP/IP, which consists of the ",NA,NA
Transmission Control Protocol,NA,NA
 and the ,NA,NA
Internet Protocol,NA,NA
". Rather than just sending ASCII characters through the wires, TCP/IP-based ",NA,NA
transmitters divide larger blocks of data into smaller ,NA,NA
packets,NA,NA
", which are sent separately over ",NA,NA
the transmission line (often a telephone line) and reassembled on the other end.,NA,NA
"The popular graphical part of the Internet is the World Wide Web, which makes use of HTTP, ",NA,NA
the ,NA,NA
Hypertext Transfer Protocol,NA,NA
. The actual data viewed on Web pages is defined by a text ,NA,NA
"format called HTML, or ",NA,NA
Hypertext Markup Language,NA,NA
. The ,NA,NA
hypertext,NA,NA
 part of these names is a ,NA,NA
"word used to describe the linking of associated information, much like that proposed by ",NA,NA
Vannevar Bush for the Memex. An HTML file can contain links to other Web pages that can be ,NA,NA
easily invoked.,NA,NA
"HTML is similar to the Rich Text Format that I described earlier, in that it contains ASCII text ",NA,NA
"with formatting information. HTML also allows referencing pictures in the form of GIF files, ",NA,NA
"PNG (Portable Network Graphics) files, and JFIF (JPEG File Interchange Format) files. Most ",NA,NA
"World Wide Web browsers allow you to look at the HTML files, which is an advantage of their ",NA,NA
text format.,NA,NA
Another advantage of defining HTML as a text file is that it's more easily searchable. ,NA,NA
"Despite its name, HTML isn't really a ",NA,NA
programming,NA,NA
 language such as we've explored in ,NA,NA
Chapters ,NA,NA
Chapter 19 ,NA,NA
and ,NA,NA
Chapter 24,NA,NA
. The Web browser reads the HTML file and formats ,NA,NA
the text and graphics accordingly.,NA,NA
It's sometimes helpful if some special program code runs while you are viewing and working ,NA,NA
with particular Web pages. Such code can run on either the ,NA,NA
server,NA,NA
 (which is the computer on ,NA,NA
which the original Web pages are stored) or the ,NA,NA
client,NA,NA
", which is your computer. On the server ",NA,NA
"side, usually all necessary work (such as interpreting online forms that a client fills out) can ",NA,NA
"be handled with Common Gateway Interface (CGI) scripts. On the client side, HTML files can ",NA,NA
contain a simple programming language known as ,NA,NA
JavaScript,NA,NA
. Your Web browser interprets ,NA,NA
the JavaScript statements just as it interprets HTML text.,NA,NA
Why can't a Web site simply provide an executable program that can run on your computer? ,NA,NA
"Well, for one thing, what is your computer? If it's a Macintosh, it needs an executable that ",NA,NA
contains PowerPC machine code and uses the Mac OS API. A PC-compatible needs an ,NA,NA
executable that contains Intel Pentium machine code and probably uses the Windows API. But ,NA,NA
"there are other computers and other graphical operating systems as well. Moreover, you don't ",NA,NA
want to be indiscriminately downloading executable files. They could originate from an ,NA,NA
untrustworthy source and might be malicious in some way.,NA,NA
An answer to these problems was provided by Sun Microsystems in the language Java (not to ,NA,NA
be confused with JavaScript). Java is a full-fledged object-oriented programming language ,NA,NA
"much like C++. In the preceding chapter, I explained the difference between compiled ",NA,NA
"languages (which result in an executable that contains machine code), and interpreted ",NA,NA
"languages (which don't). Java is somewhere in between. Java programs must be compiled, but ",NA,NA
the result of the compilation usually isn't machine code. It's instead ,NA,NA
Java byte codes,NA,NA
. These are ,NA,NA
"similar in structure to machine code, but they're for an imaginary computer called the ",NA,NA
Java ,NA,NA
virtual machine,NA,NA
 (JVM). A computer running the compiled Java program emulates the JVM by ,NA,NA
interpreting the Java byte codes. The Java program uses whatever graphical operating system ,NA,NA
"is on the machine, thus allowing ",NA,NA
platform-independent,NA,NA
programming.,NA,NA
While much of this book has focused on using electricity to send signals and information ,NA,NA
"through a wire, a more efficient medium is light transmitted through optical fiber—thin tubes ",NA,NA
made of glass or polymer that guide the light around corners. Light passing through such ,NA,NA
optical fibers can achieve data transmission rates in the gigahertz region—some billion of bits ,NA,NA
per second.,NA,NA
"So it seems that photons, not electrons, will be responsible for delivering much of the ",NA,NA
information of the future into our homes and offices; they'll be like faster dots and dashes of ,NA,NA
Morse code and those careful pulses of blinking light we once used to communicate late-,NA,NA
night wisdom to our best friend across the way.,NA,NA
Appendix A. Acknowledgments ,NA,NA
Code,NA,NA
 was conceived in 1987. It rattled around in my head for nearly a decade and was finally ,NA,NA
committed to a Microsoft Word file between January 1996 and July 1999. I offer many thanks: ,NA,NA
to the readers of early drafts of ,NA,NA
Code,NA,NA
" who contributed comments, criticisms, and suggestions: ",NA,NA
"Sheryl Canter, Jan Eastlund, Peter Goldeman, Lynn Magalska, and Deirdre Sinnott; ",NA,NA
"to my agent, Claudette Moore of Moore Literary Agency, and to everyone at Microsoft Press ",NA,NA
who helped make ,NA,NA
Code,NA,NA
" a reality, particularly those whose names are listed on the copyright ",NA,NA
"page of this book and on the colophon, following the index; ",NA,NA
"to my mother, who never held me back; ",NA,NA
"to Little Cat, who shared my apartment with me from 1982 through May 1999, and who ",NA,NA
inspired many cat references in my writing; ,NA,NA
to Web sites such as Bibliofind (,NA,NA
www.bibliofind.com,NA,NA
) and Advanced Book Exchange ,NA,NA
(,NA,NA
www.abebooks.com,NA,NA
") that offer convenient access to used books, and to the staff of the ",NA,NA
"Science, Industry, and Business Library (SIBL) branch of the New York Public Library ",NA,NA
(,NA,NA
www.nypl.org,NA,NA
"); to my friends in the rooms, without whose support none of this would be ",NA,NA
possible; ,NA,NA
"and again to Deirdre, my ideal reader and so much more.",NA,NA
Charles Petzold ,NA,NA
"July 15, 1999",NA,NA
Appendix B. Bibliography ,NA,NA
An annotated bibliography for this book is available on the World Wide ,NA,NA
Web site ,NA,NA
www.charlespetzold.com/code,NA,NA
.,NA,NA
About the Author,NA,NA
"Charles Petzold wrote the classic Programming Windows®, which is currently in its fifth ",NA,NA
edition and one of the best-known and widely used programming books of all time. He was ,NA,NA
"honored in 1994 with the Windows Pioneer Award, presented by Microsoft® founder Bill ",NA,NA
Gates and Windows Magazine. He has been programming with Windows since first obtaining ,NA,NA
"a beta Windows 1.0 SDK in the spring of 1985, and he wrote the very first magazine article on ",NA,NA
Windows programming in 1986. Charles is an MVP for Client Application Development and ,NA,NA
the author of several other books including Code: The Hidden Language of Computer ,NA,NA
Hardware and Software.,NA,NA
Colophon ,NA,NA
The manuscript for this book was prepared using Microsoft Word 2000. Pages were ,NA,NA
"composed using Adobe PageMaker 6.52, with text and display type in Sabon and math fonts ",NA,NA
in Syntax. Composed pages were delivered to the printer as electronic prepress files.,"Dust Jacket and Cover Graphic Designer 
  
 Greg Hickman 
  
 Interior Book Design 
  
 Jimmie Young and Sally Slevin 
  
 Illustrator 
  
 Joel Panchot 
  
 Compositor 
  
 Elizabeth Hansford 
  
 Principal Proofreader/Copy Editor 
  
 Shawn Peck 
  
 Indexer 
  
 Liz Cunningham",NA
SPECIAL OFFER: Upgrade this ebook with O’Reilly ,NA,NA
Upgrade this ebook today ,NA,NA
for $4.99 at oreilly.com,NA,NA
 and get access to additional DRM-free ,NA,NA
"formats, including PDF and EPUB, along with free lifetime updates.",NA,NA
